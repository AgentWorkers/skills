---
name: trein
description: ä»…æŸ¥è¯¢è·å…°é“è·¯ï¼ˆNSï¼‰çš„ç«è½¦æ—…è¡Œç›¸å…³ä¿¡æ¯ï¼šåŒ…æ‹¬ç«è½¦å‘è½¦æ—¶é—´ã€åŸºäºæ—¶é—´çš„è¡Œç¨‹è§„åˆ’ï¼ˆå‡ºå‘/åˆ°è¾¾æ—¶é—´ï¼‰ã€åˆ—è½¦å»¶è¯¯æƒ…å†µï¼Œä»¥åŠé€šè¿‡â€œtrein CLIâ€å·¥å…·è¿›è¡Œçš„è½¦ç«™æœç´¢ã€‚ä¸æ¶‰åŠæ±½è½¦ã€å…¬äº¤è½¦æˆ–å…¶ä»–äº¤é€šå·¥å…·çš„ç›¸å…³ä¿¡æ¯ã€‚
homepage: https://github.com/joelkuijper/trein
metadata: {"clawdbot":{"emoji":"ğŸš†","requires":{"bins":["trein"],"env":["NS_API_KEY"]},"primaryEnv":"NS_API_KEY","install":[{"id":"npm","kind":"node","package":"trein","bins":["trein"],"label":"Install trein (npm)"},{"id":"download-mac-arm","kind":"download","url":"https://github.com/joelkuijper/trein/releases/latest/download/trein-darwin-arm64","bins":["trein"],"label":"Download (macOS Apple Silicon)","os":["darwin"]},{"id":"download-mac-x64","kind":"download","url":"https://github.com/joelkuijper/trein/releases/latest/download/trein-darwin-x64","bins":["trein"],"label":"Download (macOS Intel)","os":["darwin"]},{"id":"download-linux","kind":"download","url":"https://github.com/joelkuijper/trein/releases/latest/download/trein-linux-x64","bins":["trein"],"label":"Download (Linux x64)","os":["linux"]}]}}
---

# trein - è·å…°é“è·¯ CLI  
è¿™æ˜¯ä¸€ä¸ªç”¨äºè·å…°é“è·¯ï¼ˆNSï¼‰APIçš„å‘½ä»¤è¡Œå·¥å…·ï¼ˆCLIï¼‰ï¼Œæä¾›å®æ—¶çš„åˆ—è½¦å‡ºå‘ä¿¡æ¯ã€åˆ—è½¦è¡Œç¨‹è§„åˆ’ã€åˆ—è½¦å»¶è¯¯æƒ…å†µä»¥åŠè½¦ç«™æŸ¥è¯¢æœåŠ¡ã€‚  

## å®‰è£…  
æ¨èä½¿ç”¨ npmï¼š  
```bash
npm i -g trein
```  

æˆ–ä» [GitHub ä»“åº“](https://github.com/joelkuijper/trein/releases) ä¸‹è½½ç‹¬ç«‹çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚  

## è®¾ç½®  
ä» https://apiportal.ns.nl/ è·å– API å¯†é’¥ï¼Œå¹¶è¿›è¡Œé…ç½®ï¼š  
```bash
export NS_API_KEY="your-api-key"
```  

æˆ–åˆ›å»º `~/.config/trein/trein.config.json` æ–‡ä»¶ï¼š  
```json
{ "apiKey": "your-api-key" }
```  

## å‘½ä»¤  

### åˆ—è½¦å‡ºå‘ä¿¡æ¯  
```bash
trein departures "Amsterdam Centraal"
trein d amsterdam
trein d amsterdam --json  # structured output
```  

### åˆ—è½¦è¡Œç¨‹è§„åˆ’  
```bash
trein trip "Utrecht" "Den Haag Centraal"
trein t utrecht denhaag --json
trein t amsterdam rotterdam --via utrecht  # route via specific station
trein t hoofddorp "den haag" --arrive-by 09:30 --json  # arrive by 09:30 TODAY
trein t hoofddorp "den haag" --depart-at 09:00 --json  # depart at 09:00 TODAY
trein t utrecht amsterdam --date 2026-02-05 --depart-at 14:30 --json  # specific FUTURE date and time
```  

### åˆ—è½¦å»¶è¯¯æƒ…å†µ  
```bash
trein disruptions
trein disruptions --json
```  

### è½¦ç«™æŸ¥è¯¢  
```bash
trein stations rotterdam
trein s rotterdam --json
```  

### åˆ«åï¼ˆå¿«æ·æ–¹å¼ï¼‰  
```bash
trein alias set home "Amsterdam Centraal"
trein alias set work "Rotterdam Centraal"
trein alias list
trein d home  # uses alias
```  

## é€‚ç”¨åœºæ™¯  
å½“ç”¨æˆ·è¯¢é—®åœ¨è·å…°çš„åˆ—è½¦å‡ºè¡Œç›¸å…³é—®é¢˜æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ­¤å·¥å…·ï¼š  
- â€œå‰å¾€ [è½¦ç«™] çš„ä¸‹ä¸€ç­åˆ—è½¦ä»€ä¹ˆæ—¶å€™å‡ºå‘ï¼Ÿâ€  
- â€œæˆ‘è¯¥å¦‚ä½•ä» [A] ä¹˜åç«è½¦å‰å¾€ [B]ï¼Ÿâ€  
- â€œæˆ‘éœ€è¦åœ¨ [æ—¶é—´] åˆ°è¾¾ [è½¦ç«™]ï¼Œåº”è¯¥ä¹˜åå“ªç­åˆ—è½¦ï¼Ÿâ€  
- â€œæ˜¯å¦æœ‰åˆ—è½¦å»¶è¯¯ï¼Ÿâ€  
- â€œæˆ‘éœ€è¦ä»€ä¹ˆæ—¶å€™å‡ºå‘æ‰èƒ½åœ¨ [æ—¶é—´] ä¹‹å‰åˆ°è¾¾ [è½¦ç«™]ï¼Ÿâ€  
- â€œ[è½¦ç«™åç§°] çš„è½¦ç«™ä»£ç æ˜¯ä»€ä¹ˆï¼Ÿâ€  
- â€œå‰å¾€ [è½¦ç«™] çš„åˆ—è½¦ä»å“ªä¸ªç«™å°å‡ºå‘ï¼Ÿâ€  
- â€œä» [A] ä¹˜åç«è½¦åˆ° [B] éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿâ€  

## å‘½ä»¤é€‰æ‹©æŒ‡å—  
**é¦–å…ˆï¼šç¡®è®¤ç”¨æˆ·ç¡®å®éœ€è¦æŸ¥è¯¢åˆ—è½¦å‡ºè¡Œä¿¡æ¯ã€‚å¦‚æœç”¨æˆ·éœ€è¦æŸ¥è¯¢æ±½è½¦ã€å…¬äº¤è½¦æˆ–å…¶ä»–äº¤é€šå·¥å…·çš„ä¿¡æ¯ï¼Œè¯·å‹¿ä½¿ç”¨æ­¤å·¥å…·ã€‚**  
ç„¶åé€‰æ‹©ç›¸åº”çš„å‘½ä»¤ï¼š  
- ç”¨æˆ·æƒ³æŸ¥è¯¢æŸä¸ªè½¦ç«™çš„å®æ—¶åˆ—è½¦å‡ºå‘ä¿¡æ¯ â†’ ä½¿ç”¨ `departures`  
- ç”¨æˆ·æƒ³ä» A åœ°ç‚¹ä¹˜åç«è½¦å‰å¾€ B åœ°ç‚¹ â†’ ä½¿ç”¨ `trip`  
- ç”¨æˆ·æä¾›äº†å…·ä½“çš„åˆ°è¾¾/å‡ºå‘æ—¶é—´ â†’ ä½¿ç”¨ `trip` å¹¶æ·»åŠ  `--arrive-by` æˆ– `--depart-at` å‚æ•°  
- ç”¨æˆ·è¯¢é—®åˆ—è½¦å»¶è¯¯æƒ…å†µ â†’ ä½¿ç”¨ `disruptions`  
- ç”¨æˆ·æä¾›äº†éƒ¨åˆ†è½¦ç«™åç§° â†’ å…ˆä½¿ç”¨ `stations` å‘½ä»¤æŸ¥è¯¢å‡†ç¡®åç§°  
- ç”¨æˆ·æŒ‡å®šäº†æœªæ¥çš„å‡ºè¡Œæ—¥æœŸ â†’ ä½¿ç”¨ `trip` å¹¶æ·»åŠ  `--date` å‚æ•°  

## JSON è¾“å‡ºç¤ºä¾‹  
### åˆ—è½¦è¡Œç¨‹è§„åˆ’ç»“æœ  
```json
{
  "trips": [{
    "departure": "08:05",
    "arrival": "08:35",
    "duration": "30 min",
    "transfers": 0,
    "status": "ON_TIME",
    "legs": [{
      "from": "Schiphol Airport",
      "to": "Den Haag Centraal",
      "trainType": "IC",
      "platform": "5"
    }]
  }]
}
```  

### åˆ—è½¦å‡ºå‘ä¿¡æ¯ç»“æœ  
```json
{
  "departures": [{
    "time": "14:23",
    "delay": "0 min",
    "destination": "Amsterdam Centraal",
    "platform": "3",
    "trainType": "IC"
  }]
}
```  

### åˆ—è½¦å»¶è¯¯æƒ…å†µç»“æœ  
```json
{
  "disruptions": [{
    "title": "Werkzaamheden Amsterdam-Utrecht",
    "type": "MAINTENANCE",
    "routes": ["Amsterdam Centraal", "Utrecht Centraal"],
    "active": true,
    "expectedEnd": "2026-02-05 23:59"
  }]
}
```  

## äººå·¥æ™ºèƒ½åŠ©æ‰‹çš„æœ€ä½³å®è·µ  
1. **ç¡®è®¤ç”¨æˆ·éœ€æ±‚**ï¼šä»…å½“ç”¨æˆ·æ˜ç¡®è¡¨ç¤ºéœ€è¦æŸ¥è¯¢åˆ—è½¦å‡ºè¡Œä¿¡æ¯æ—¶æ‰ä½¿ç”¨æ­¤å·¥å…·ã€‚  
2. **å§‹ç»ˆä½¿ç”¨ `--json` é€‰é¡¹** ä»¥è·å¾—æœºå™¨å¯è¯»çš„ JSON è¾“å‡ºã€‚  
3. **ä½¿ç”¨ `stations` å‘½ä»¤éªŒè¯ç”¨æˆ·è¾“å…¥çš„è½¦ç«™åç§°**ï¼ˆé¿å…æ­§ä¹‰ï¼‰ã€‚  
4. **æ”¯æŒæ¨¡ç³ŠåŒ¹é…**ï¼šä¸éœ€è¦ç”¨æˆ·æä¾›ç²¾ç¡®çš„è½¦ç«™åç§°ã€‚  
5. **æ­£ç¡®å¤„ç†åŒ…å«ç©ºæ ¼çš„è½¦ç«™åç§°**ï¼ˆä¾‹å¦‚ï¼šâ€œDen Haag Centraalâ€ï¼‰ã€‚  
6. **åœ¨å‘ç”¨æˆ·å±•ç¤ºç»“æœå‰æ£€æŸ¥ JSON æ•°æ®ä¸­çš„é”™è¯¯**ã€‚  
7. **æ—¶é—´æ ¼å¼ç»Ÿä¸€ä¸º 24 å°æ—¶åˆ¶ï¼ˆHH:mmï¼‰**ã€‚  
8. **é»˜è®¤ä½¿ç”¨å½“å‰æ—¥æœŸ**ï¼šä»Šæ—¥å‡ºè¡Œæ—¶çœç•¥ `--date` å‚æ•°ï¼›æœªæ¥å‡ºè¡Œæ—¶æ‰æ·»åŠ è¯¥å‚æ•°ã€‚  
9. **æ³¨æ„è·å…°è½¦ç«™åç§°çš„ç‰¹æ®Šæ€§**ï¼ˆè®¸å¤šè½¦ç«™åç§°åŒ…å«ç‰¹æ®Šå­—ç¬¦æˆ–å¤šä¸ªå•è¯ï¼‰ã€‚  
10. **ä»”ç»†è§£æ JSON æ•°æ®**ï¼šæŸäº›å­—æ®µå¯èƒ½ä¸ºç©ºæˆ–ç¼ºå¤±ã€‚  

## å¸¸è§ä½¿ç”¨åœºæ™¯ç¤ºä¾‹  
- **ç¤ºä¾‹ 1**ï¼šâ€œæˆ‘éœ€è¦åœ¨ 9:30 åˆ°è¾¾é˜¿å§†æ–¯ç‰¹ä¸¹ã€‚â€  
  1. ç¡®è®¤ç”¨æˆ·å½“å‰ä½ç½®ï¼ˆå¦‚éœ€å¯è¯¢é—®ï¼‰ã€‚  
  2. åˆ¤æ–­ç”¨æˆ·æ˜¯æŒ‡ä»Šå¤©è¿˜æ˜¯æœªæ¥çš„æ—¥æœŸã€‚  
  3. è¿è¡Œå‘½ä»¤ï¼š`trein t hoofddorp amsterdam --arrive-by 09:30 --json`ï¼ˆä»Šå¤©ï¼‰  
    æˆ–ï¼š`trein t hoofddorp amsterdam --date 2026-02-05 --arrive-by 09:30 --json`ï¼ˆæœªæ¥æ—¥æœŸï¼‰ã€‚  
  4. è§£æ JSON ç»“æœå¹¶æ˜¾ç¤ºæœ€æ—©çš„åˆé€‚å‡ºè¡Œé€‰é¡¹ã€‚  
- **ç¤ºä¾‹ 2**ï¼šâ€œå‰å¾€é¹¿ç‰¹ä¸¹çš„ä¸‹ä¸€ç­åˆ—è½¦ä»€ä¹ˆæ—¶å€™å‡ºå‘ï¼Ÿâ€  
  1. ç¡®è®¤ç”¨æˆ·å½“å‰ä½ç½®ã€‚  
  2. è¿è¡Œå‘½ä»¤ï¼š`trein d <å½“å‰è½¦ç«™> --json`ã€‚  
  3. è¿‡æ»¤å‰å¾€é¹¿ç‰¹ä¸¹çš„åˆ—è½¦ä¿¡æ¯ã€‚  
  4. æ˜¾ç¤ºä¸‹ä¸€ç­åˆ—è½¦çš„å‡ºå‘æ—¶é—´å’Œç«™å°ä¿¡æ¯ã€‚  
- **ç¤ºä¾‹ 3**ï¼šâ€œæˆ‘è®¡åˆ’æ˜å¤©ä¸‹åˆ 2 ç‚¹ä»ä¹Œå¾—å‹’æ”¯å‰å¾€æµ·ç‰™ã€‚â€  
  1. è¿è¡Œå‘½ä»¤ï¼š`trein t utrecht "den haag" --date 2026-02-04 --depart-at 14:00 --json`ã€‚  
  2. è§£æç»“æœå¹¶æ˜¾ç¤ºå‡ºè¡Œé€‰é¡¹ï¼ˆåŒ…æ‹¬æ¢ä¹˜ä¿¡æ¯å’Œæ—…è¡Œæ—¶é—´ï¼‰ã€‚  
- **ç¤ºä¾‹ 4**ï¼šâ€œæˆ‘å¸¸èµ°çš„è·¯çº¿æœ‰å»¶è¯¯å—ï¼Ÿâ€  
  1. é¦–å…ˆæŸ¥è¯¢è¡Œç¨‹ä¿¡æ¯ï¼š`trein t amsterdam utrecht --json`ã€‚  
  2. ç„¶åæŸ¥è¯¢åˆ—è½¦å»¶è¯¯æƒ…å†µï¼š`trein disruptions --json`ã€‚  
  3. å°†ç»“æœè¿›è¡Œå¯¹æ¯”å¹¶å‘ŠçŸ¥ç”¨æˆ·ç›¸å…³å»¶è¯¯ä¿¡æ¯ã€‚  

## å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ³•  
- **â€œè½¦ç«™æœªæ‰¾åˆ°â€** â†’ ä½¿ç”¨ `trein stations <æŸ¥è¯¢> --json` æŸ¥æ‰¾æ­£ç¡®çš„è½¦ç«™åç§°ã€‚  
- **â€œAPI å¯†é’¥ç¼ºå¤±â€** â†’ ç¡®è®¤ `NS_API_KEY` ç¯å¢ƒå˜é‡å·²è®¾ç½®ã€‚  
- **æŸ¥è¯¢ç»“æœä¸ºç©º** â†’ æ£€æŸ¥è¾“å…¥çš„æ—¥æœŸ/æ—¶é—´æ˜¯å¦åœ¨æœ‰æ•ˆèŒƒå›´å†…ã€‚  
- **â€œæœªæ‰¾åˆ°è¡Œç¨‹ä¿¡æ¯â€** â†’ å¯å°è¯•ä¸ä½¿ç”¨ `--via` å‚æ•°ï¼ˆæŸäº›è·¯çº¿å¯èƒ½æ— æ³•ç»è¿‡è¯¥è½¦ç«™ï¼‰ã€‚  

## ä½¿ç”¨æç¤º  
- æ‰€æœ‰å‘½ä»¤éƒ½å»ºè®®ä½¿ç”¨ `--json` é€‰é¡¹ä»¥è·å¾—ç»“æ„åŒ–çš„ JSON è¾“å‡ºã€‚  
- è½¦ç«™åç§°æ”¯æŒæ¨¡ç³ŠåŒ¹é…ï¼ˆä¾‹å¦‚ï¼šâ€œadamâ€ å¯åŒ¹é… â€œAmsterdam Centraalâ€ï¼‰ã€‚  
- åˆ«åå­˜å‚¨åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯æ›¿ä»£è½¦ç«™åç§°ä½¿ç”¨ã€‚  
- åœ¨è¡Œç¨‹è§„åˆ’æ—¶ä½¿ç”¨ `--via` æŒ‡å®šé€”ç»çš„ä¸­é—´è½¦ç«™ã€‚  
- ä½¿ç”¨ `--depart-at HH:mm` æŒ‡å®šå‡ºå‘æ—¶é—´ï¼ˆé»˜è®¤ä¸ºä»Šå¤©ï¼‰ã€‚  
- ä½¿ç”¨ `--arrive-by HH:mm` æŒ‡å®šåˆ°è¾¾æ—¶é—´ï¼ˆé»˜è®¤ä¸ºä»Šå¤©ï¼‰ã€‚  
- `--date YYYY-MM-DD` ä¸ºå¯é€‰å‚æ•°ï¼ˆä»…ç”¨äºæœªæ¥æ—¥æœŸï¼‰ã€‚