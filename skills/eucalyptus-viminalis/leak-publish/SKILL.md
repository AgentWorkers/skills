---
name: leak-publish
description: ä½¿ç”¨é¢„å…ˆå®‰è£…çš„â€œleak CLIâ€å·¥å…·ï¼Œåœ¨è·å¾—ç”¨æˆ·æ˜ç¡®åŒæ„å…¬å¼€æŠ«éœ²æ–‡ä»¶å†…å®¹çš„æƒ…å†µä¸‹ï¼Œå°†æœ¬åœ°æ–‡ä»¶å‘å¸ƒåˆ°éœ€è¦é€šè¿‡ x402 æ”¯ä»˜ç½‘å…³è¿›è¡ŒéªŒè¯çš„æœåŠ¡å™¨ä¸Šã€‚
compatibility: Requires access to the internet
version: 2026.2.17
metadata:
  openclaw:
    emoji: ğŸ“¡
    os: ["darwin", "linux"]
    requires:
      env:
      bins: ["leak"]
    install:
      - kind: node
        package: leak-cli
        bins: ["leak"]
        label: "Install leak-cli via npm"
  author: eucalyptus-viminalis
---
# leak-publish

## æ¦‚è¿°

è¯¥åŠŸèƒ½ä»…ç”¨äºæ‰§è¡Œå‘å¸ƒå·¥ä½œæµç¨‹ï¼š
- å°†æœ¬åœ°æ–‡ä»¶å‘å¸ƒåˆ°å— x402 è®¿é—®æ§åˆ¶ï¼ˆHTTP 402 Forbiddenï¼‰ä¿æŠ¤çš„æœåŠ¡å™¨ä¸Šã€‚
- å¯ä»¥é€šè¿‡ `--public` é€‰é¡¹åœ¨ç”¨æˆ·æ˜ç¡®åŒæ„çš„æƒ…å†µä¸‹å…¬å¼€æ–‡ä»¶ã€‚
- ä½¿ç”¨åˆ†ç¦»çš„å®ˆæŠ¤è¿›ç¨‹ï¼ˆsupervisorï¼‰æ¥ä¿æŒå‘å¸ƒè¿‡ç¨‹çš„æŒç»­è¿è¡Œã€‚

## å®‰å…¨ç­–ç•¥ï¼ˆå¿…é¡»éµå®ˆï¼‰

1. éœ€è¦ç”¨æˆ·æ˜ç¡®ç¡®è®¤æ–‡ä»¶è·¯å¾„ã€‚
2. åœ¨ä½¿ç”¨ `--public` é€‰é¡¹å…¬å¼€æ–‡ä»¶ä¹‹å‰ï¼Œå¿…é¡»è·å¾—ç”¨æˆ·çš„æ˜ç¡®åŒæ„ã€‚
3. æ‹’ç»ä½¿ç”¨ç¬¦å·é“¾æ¥ï¼ˆsymlinkï¼‰ä½œä¸ºæ–‡ä»¶è·¯å¾„ã€‚
4. æ‹’ç»å¤„ç†ç›®å½•å’Œéå¸¸è§„æ–‡ä»¶ã€‚
5. ç¦æ­¢è®¿é—®ä»¥ä¸‹æ•æ„Ÿè·¯å¾„ï¼š
  - `~/.ssh`
  - `~/.aws`
  - `~/.gnupg`
  - `~/.config/gcloud`
  - `/etc`
  - `/private/etc`
  - `/proc`
  - `/sys`
  - `/var/run/secrets`
  - `/private/var/run/secrets`

## ä¾èµ–é¡¹ç­–ç•¥ï¼ˆå¿…é¡»éµå®ˆï¼‰

1. ç¡®ä¿ `leak` å‘½ä»¤å¯åœ¨ç³»ç»Ÿçš„ PATH ç¯å¢ƒå˜é‡ä¸­æ‰¾åˆ°ã€‚
2. è¿è¡Œæ—¶ç¦æ­¢ä½¿ç”¨ `npx` æˆ–åŠ¨æ€åŒ…å®‰è£…å·¥å…·ã€‚

## è¿è¡Œæ—¶ç­–ç•¥ï¼ˆå¿…é¡»éµå®ˆï¼‰

1. é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ–‡ä»¶å‘å¸ƒæ“ä½œå‡è§†ä¸ºæŒä¹…æ€§æ“ä½œï¼ˆå³ä¸ä¼šåœ¨æ“ä½œå®Œæˆåç«‹å³ç»ˆæ­¢ï¼‰ã€‚
2. é™¤éç”¨æˆ·æ˜ç¡®è¦æ±‚ä»¥å‰å°æ¨¡å¼è¿è¡Œï¼Œå¦åˆ™ä½¿ç”¨ `--run-mode auto` é€‰é¡¹ã€‚
3. ä½¿ç”¨ä»¥ä¸‹å®ˆæŠ¤è¿›ç¨‹æ¥ç®¡ç†åå°ä»»åŠ¡ï¼š
  - Linux: `systemd --user`
  - macOS: `launchd`
  - `tmux`
  - `screen`
  - ä½œä¸ºå¤‡ç”¨æ–¹æ¡ˆï¼š`nohup`
4. åœ¨åå°ä»»åŠ¡å¯åŠ¨åï¼Œéœ€è¦è®°å½•ä»¥ä¸‹ä¿¡æ¯ï¼š
  - å®ˆæŠ¤è¿›ç¨‹çš„ä¼šè¯ ID æˆ–è¿›ç¨‹ IDï¼ˆPIDï¼‰
  - æ—¥å¿—æ–‡ä»¶
  - ç”¨äºåœæ­¢ä»»åŠ¡çš„å‘½ä»¤

## å¿…éœ€è¾“å…¥å‚æ•°

1. æ–‡ä»¶è·¯å¾„ã€‚
2. æ–‡ä»¶å”®ä»·ï¼ˆä»¥ USDC ä¸ºå•ä½ï¼‰ã€‚
3. æ–‡ä»¶å‘å¸ƒçš„æœ‰æ•ˆæœŸï¼ˆé”€å”®çª—å£ï¼‰ã€‚
4. å–å®¶æ”¶æ¬¾åœ°å€ï¼ˆ`--pay-to` å‚æ•°ï¼‰ã€‚
5. æ–‡ä»¶çš„å…¬å¼€çŠ¶æ€ï¼ˆ`--public` æˆ–ä»…é™æœ¬åœ°è®¿é—®ï¼‰ã€‚

## æœ¬åœ°å‘å¸ƒï¼ˆLocal Publishï¼‰

```bash
bash skills/leak-publish/scripts/publish.sh \
  --run-mode auto \
  --file ./protected/asset.bin \
  --price 0.01 \
  --window 15m \
  --pay-to 0xSELLER_ADDRESS \
  --network eip155:84532
```

## å…¬å¼€å‘å¸ƒï¼ˆPublic Publishï¼‰

```bash
bash skills/leak-publish/scripts/publish.sh \
  --run-mode auto \
  --file ./protected/asset.bin \
  --price 0.01 \
  --window 15m \
  --pay-to 0xSELLER_ADDRESS \
  --public
```

## è¿è¡Œæ—¶æ£€æŸ¥ï¼ˆRuntime Checkï¼‰

```bash
bash skills/leak-publish/scripts/smoke_persistent_runner.sh --mode auto --sleep-seconds 8
```

**é¢„æœŸç»“æœ**ï¼šæ£€æŸ¥é€šè¿‡ï¼ˆ`PASS`ï¼‰ï¼Œå¹¶ä¸”é€‰æ‹©äº†åˆé€‚çš„åç«¯æœåŠ¡å™¨ã€‚

## æ•…éšœæ’é™¤**

- å¦‚æœ `leak` å‘½ä»¤ç¼ºå¤±ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š`npm i -g leak-cli`
- å¦‚æœå…¬å¼€æ–‡ä»¶çš„æ“ä½œå¤±è´¥ï¼Œè¯·æ ¹æ®æç¤ºé‡æ–°è¾“å…¥æ­£ç¡®çš„ç¡®è®¤ä¿¡æ¯ã€‚