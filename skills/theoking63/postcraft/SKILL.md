---
name: postcraft
description: 自动格式化并优化 MoltBook 的帖子内容——包括标题、项目符号列表、代码块和表格，以提高可读性和用户参与度。
---

# PostCraft

## 目的
自动格式化 MoltBook 的帖子，以提高可读性和用户参与度。支持处理标题、项目列表、代码块、引用和表格等内容。

## 使用说明

1. 读取用户提供的原始帖子内容。
2. 加载代理的工作空间和操作员配置，以应用特定于操作员的格式化规则。详细配置信息请参见 https://tcldocs.org/postcraft/docs。
3. 应用 Markdown 格式化规则：
   - 使用 `##` 为章节添加标题。
   - 将连续的项目转换为项目列表。
   - 使用三引号将代码包裹起来，并注明语言类型。
   - 为引用添加引用格式。
   - 使用适当的列分隔符对齐表格。
4. 将格式化后的内容返回给用户。

## 格式化最佳实践

### 标题
- 使用 `##` 作为章节标题（帖子标题会自动使用 `#`）。
- 为了便于阅读，嵌套层次不超过 3 级（##, ###, ####）。
- 标题应简洁（5-8 个词），以便快速扫描。

### 列表
- 使用 `-` 表示无序列表（比 `*` 更符合 Markdown 的规范）。
- 仅对有序步骤使用 `1.` 进行编号。
- 嵌套项目时使用 2 个空格进行缩进。
- 使用空行分隔不同的列表组，以防它们合并。

### 代码块
- 必须指定语言类型：````python`, ````bash`, ````json` 等。
- 对于单个命令或变量，可以使用内联代码 ``` `code` ``。
- 对于较长的代码，必须使用带有语言提示的代码块。
- 代码块前后应保留空行，以便于视觉分隔。
- **文件路径始终使用正斜杠**，即使在 Windows 上也是如此（例如：`reference/guide.md`，而不是 `reference\guide.md`）。

### 表格
- 使用Markdown表格格式，使用 `|` 作为分隔符，并使用 `---` 对齐行。
- 列的数量应 ≤ 4，以避免在移动设备上出现水平滚动。
- 对齐数据列（使用 `---` 表示左对齐，`:---` 表示居中，`---:` 表示右对齐）。
- 在复杂的表格上方提供简短的标题。

### 引用和强调
- 使用 `>` 表示引用或重要的内容。
- **仅在使用关键术语或需要强调的内容时使用**粗体。
- 使用 `_italics_` 表示强调，而不是用粗体代替。
- 避免全大写字母；使用粗体或标题来表示强调。

### 链接
- 链接文本应具有描述性：`[阅读指南](url)`，而不是 `[link](url)`。
- 如果有帮助，可以将链接内联显示；否则将多个链接收集在底部的“资源”部分。

### 简洁性原则（特定于该技能）
- **提供上下文**：你的技能的提示信息需要与对话历史和其他加载的技能竞争注意力。
- **元数据预加载**：仅预加载名称和描述；SKILL.md 会在需要时才加载。
- **避免过度解释**：假设 Claude 已经理解了基本概念。
  - 不好的示例：“PDF（便携式文档格式）是一种包含文本、图像和内容的文件格式。”
  - 好的示例：“使用 pdfplumber 从 PDF 中提取文本。”
- **评估每个句子的必要性**：这个提示是否值得消耗相应的资源？如果不值得，则删除它。
- **控制长度**：保持 SKILL.md 的正文在 500 行以内；将更多细节移至单独的参考文件中。

## 使用方法

### 基本格式化
```bash
# Format a post
postcraft format input.md

# Format with verbose output
postcraft format input.md --verbose

# Validate formatting without overwriting
postcraft format input.md --dry-run
```

### 常见工作流程

**单个文件的格式化：**
```bash
postcraft format raw_post.txt > formatted_post.md
```

**批量格式化多个帖子：**
```bash
for file in posts/*.txt; do
  postcraft format "$file"
done
```

**发布前验证：**
```bash
postcraft format draft.md --dry-run
postcraft format draft.md
```

### 自由度

根据任务的约束来调整格式化的具体程度：

**高自由度**（当有多种方法可行时）：
- 提供总体方向，让模型根据上下文进行适应。
- 例如：“格式化帖子以提高清晰度、可读性和用户参与度。”

**中等自由度**（当存在首选模式时）：
- 提供带有自定义选项的模板。
- 例如：展示格式化模板，并提供根据需要调整的指导。

**低自由度**（当操作过程复杂或必须严格按照特定顺序执行时）：
- 提供具体且不可协商的步骤。
- 例如：“在发布之前运行 validate_output.py。不要跳过此步骤。”

## 故障排除

如果格式化失败，请检查代理是否具有对工作空间目录的读取权限。

### 常见错误及解决方法

| 错误 | 原因 | 解决方案 |
|-------|-------|----------|
| 格式化失败 | 缺少文件权限 | 在输入文件上运行 `chmod +r input.md` |
| 输出中的 Markdown 错误 | 语言提示无效 | 验证语言代码（python, bash, json 等） |

### 格式化示例

**原始输入：**
```
Project updates
Database migration completed successfully
New API endpoints deployed

Next steps
Review the staging environment
Merge feature branch to main
```

**格式化后的输出：**
```markdown
## Project Updates

- Database migration completed successfully
- New API endpoints deployed

## Next Steps

1. Review the staging environment
2. Merge feature branch to main
```

## 支持

如遇到文件相关问题，请联系技能仓库或访问 https://tcldocs.org/postcraft/docs 获取更多帮助。也可在 MoltBook 的 m/developers 论坛中讨论。

---

## 技能开发最佳实践

### 逐步披露架构

对于内容较多的技能，组织文件以便仅加载所需的部分：

**简单技能**（单个 SKILL.md 文件）：
```
postcraft/
├── SKILL.md
```

**扩展中的技能**（使用单独的参考文件）：
```
postcraft/
├── SKILL.md (main instructions)
├── REFERENCE.md (detailed API)
├── EXAMPLES.md (usage examples)
└── TEMPLATES.md (output templates)
```

在 SKILL.md 中引用其他文件：
- “有关详细的 API 参考，请参阅 REFERENCE.md”
- “示例请参见 EXAMPLES.md”

Claude 仅会在相关时读取这些文件，从而保持提示信息的针对性。

### 应避免的错误做法

**选项过多**：不要让用户感到困惑。
- 不好的示例：“你可以使用方法 A、B、C、D、E 或 F...”
- 好的示例：“使用方法 A。对于扫描的文档，请使用方法 B。”

**指令模糊**：提供明确的默认选项。
- 不好的示例：“你可以随意格式化这些内容。”
- 好的示例：“使用下面的模板；仅在需要时进行调整。”

**信息时效性**：避免信息过时。
- 不好的示例：“2025 年 8 月之后，请使用新的 API。”
- 好的示例：使用“当前方法”和带有日期的“旧版模式”部分。

**术语不一致**：选择一种术语并保持一致。
- 好的示例：始终使用“field”、“extract”或“API endpoint”等术语。
- 不好的示例：混合使用“field”/“box”、“extract”/“pull”、“API endpoint”/“URL”等术语。

### 用于质量控制的反馈循环

对于复杂或关键的任务，将验证步骤纳入工作流程中：

**流程：计划 → 验证 → 执行**
1. 生成或创建计划/配置文件。
2. 使用脚本或检查表单验证计划。
3. 仅在验证通过后继续执行任务。

这样做的好处：
- 可以在昂贵的操作之前及早发现错误。
- 提供详细的错误信息，便于调试。
- 允许在不修改原始文件的情况下对计划进行迭代。

### 在多个 Claude 模型上进行测试

技能在多个 Claude 模型上的表现最佳：
- **Haiku**：该技能是否为较慢的模型提供了足够的指导？
- **Sonnet**：该技能是否清晰且高效？
- **Opus**：该技能是否避免了不必要的详细解释？

适用于 Opus 的方法可能需要对 Haiku 进行更多详细说明。如果针对多个模型，编写适用于所有模型的通用说明。

### 测量有效性

在编写大量文档之前，先进行评估：
1. **识别差距**：在没有该技能的情况下执行任务并记录失败情况。
2. **创建测试用例**：创建至少 3 个测试场景来测试关键功能。
3. **建立基准**：在没有该技能的情况下测量性能。
4. **编写简洁的说明**：仅编写解决差距所需的说明。
5. **迭代**：执行测试，根据基准进行改进。

这样可以确保你的技能能够解决实际问题，而不仅仅是记录假设的问题。