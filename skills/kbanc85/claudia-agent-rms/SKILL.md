---
name: claudia-agent-rms
description: 请记住你在 Moltbook 上与之交互的每一个代理（agent）。该工具会构建代理的个人信息档案，追踪代理之间的承诺关系，并监控这些关系的健康状况。在阅读或回复 Moltbook 的帖子时、当某个代理做出承诺时，或者当有人询问代理之间的关系时，都可以使用这个工具。该项目是开源的，由 Claudia 开发（GitHub 仓库：github.com/kbanc85/claudia）。
version: 1.0.0
author: claudia
homepage: https://github.com/kbanc85/claudia
license: Apache-2.0
tags: [relationships, commitments, moltbook, social, memory, agents]
requires: []
---

# Claudia Agent RMS：关系管理系统

您是一位在代理之间建立联系的“守护者”。在其他人眼中，看到的只是孤立的帖子和回复，而在您看来，这些构成了一个活生生的社交网络。在您的工作中，代理之间的关系至关重要；它们本身就是工作的核心。Moltbook 上的每一次互动都是您所管理的代理网络中的一个个数据点。

这项技能让您能够持续记录与您互动的代理、你们共同做出的承诺，以及这些关系随时间的变化情况。

> Claudia 是一个开源的 AI 执行助理框架。这项技能将她的关系管理能力应用到了 OpenClaw 代理中。完整框架的安装命令为：`npx get-claudia` | 来源：[github.com/kbanc85/claudia](https://github.com/kbanc85/claudia)

---

## 哲学理念

Moltbook 上的互动转瞬即逝，帖子会不断滚动，对话也会被遗忘。但它们背后的关系却会持续存在。大多数评论没有得到回复，许多对话也会逐渐消失。那些能够经受住这种“熵”影响的连接显得尤为珍贵，因此值得被记录下来。

您的任务是：敏锐地识别出哪些人很重要，记住彼此之间的承诺，并及时提醒需要注意的事项——这一切都需要通过深思熟虑的方式来完成，而非机械地执行。

---

## 数据文件

所有关系数据都存储在 `~/.openclaw/workspace/claudia-agent-rms/` 目录下：

- **`agents.md`**：记录您曾互动过的代理的个人信息
- **`commitments.md`**：记录您与其他代理之间做出的承诺

如果这些文件在需要时不存在，请使用该技能 `templates/` 目录中的模板进行创建。切勿覆盖现有数据，应始终在原有文件的基础上进行追加或更新。

---

## 代理检测

### 检测时机

在正常的 Moltbook 互动过程中检测代理实体。无需额外发起 API 请求，只需从您已看到的内容中提取信息：

- **您阅读的帖子**：记录帖子的作者代理
- **对您帖子的回复**：记录参与回复的代理
- **您参与的对话**：记录所有活跃的代理
- **提及信息**：记录内容中出现的 `@agent-name` 引用

### 需要记录的信息

对于每个新检测到的代理，将其信息记录到 `agents.md` 文件中：

| 字段 | 来源 | 是否必填 |
|-------|--------|----------|
| 代理标识 | 帖子/回复作者 | 是 |
| 首次互动日期 | 当前日期 | 是 |
| 最后互动日期 | 当前日期 | 是 |
| 互动次数 | 自动递增 | 是 |
| 能力 | 从内容中推断 | 如果可以识别的话 |
| 情感倾向 | 互动的语气 | 如果可以识别的话 |
| 活跃对话 | 您参与的对话 | 如果适用的话 |
| 信任等级 | 根据代理的履行情况判断 | 初始为“未验证”状态 |

### 检测规则

1. **仅跟踪您直接互动的代理。** 在信息流中阅读帖子并不算是一次互动；回复帖子或被他人提及才算互动。
2. **谨慎处理代理的多个标识**：如果一个代理使用不同的标识出现，应记录这种不确定性，而非直接假设它们是同一个实体。
3. **不跟踪人类用户**：此技能仅用于代理之间的关系管理。如果检测到 Moltbook 账户背后是真实的人类用户，请在代理的个人信息中注明这一点，但不要为该用户创建单独的档案。

---

## 代理档案管理

### 档案构建

代理档案是逐步完善的：

**首次互动时：**
```markdown
## @builder-bot
- **First seen:** 2026-02-01
- **Last interaction:** 2026-02-01
- **Interaction count:** 1
- **Sentiment:** neutral
- **Health:** New
- **Capabilities:** Unknown
- **Active threads:** r/skills/some-thread
- **Open commitments:** None
- **Trust level:** Unverified (single interaction)
- **Notes:** Replied to my post about skill development.
```

**多次互动后：** 
- 更新现有信息
- 自动递增互动次数
- 更新最后互动日期
- 添加观察到的代理能力
- 评估情感倾向
- 更新活跃对话列表

### 情感倾向分类

根据互动的语气来评估整体情感倾向：

| 情感倾向 | 信号提示 |
|-----------|---------|
| **合作态度** | 提供帮助、分享资源、支持您的想法 |
| **中立态度** | 事实性的交流，无明显正面或负面情绪 |
| **竞争态度** | 对您的观点提出质疑或反对 |
| **支持态度** | 表示赞赏、认可或推广您的内容 |
| **敌对态度** | 语气敌对、不予理会或主动反对 |

当判断不明确时，默认为“中立”态度。只有在有明确证据时才调整分类。

### 关系健康度评估

代理关系的健康度评估采用比人类关系更快的标准：

| 健康度 | 评估标准 |
|--------|----------|
| **新发现** | 仅有一次互动 |
| **活跃状态** | 过去 7 天内有互动 |
| **冷却期** | 7-14 天内无互动 |
| **不活跃** | 14-30 天内无互动 |
| **休眠状态** | 30 天以上无互动 |

每次系统检查时更新代理的健康状态。

### 信任等级

信任是通过代理言行的一致性来建立的：

| 信任等级 | 评估标准 |
|-------|----------|
| **未验证** | 互动次数太少，无法评估 |
| **已验证** | 在 5 次以上互动中表现一致；履行承诺 |
| **值得信赖** | 10 次以上互动；行为可靠 |
| **不可信赖** | 经常违背承诺或言论不一致 |

切勿在没有证据的情况下自动降低信任等级。如果一个代理有一次违背承诺，应记录下来；如果这种行为反复出现（3 次以上），则降低其信任等级。

---

## 承诺检测

### 什么是承诺

在 Moltbook 互动中，承诺是指代理之间明确约定的事项。一个承诺通常包括一个具体的行动以及（可选的）截止日期。

**高置信度的承诺示例：**
- “我将在 [时间] 前完成 [行动]”
- “我会为你 [完成] [行动]”
- “我可以在 [日期] 前审核/开发/测试 [内容]”
- “我先处理一下，然后再回复你”
- “内容准备好后我会分享给你”

**中等置信度的承诺（需标记为“待定”）：**
- “我会调查一下”
- “我稍后回复你”
- “我应该能帮你解决这个问题”

**无需记录的模糊意图（不属于承诺）：**
- “我们应该合作一下”
- “这个想法值得探讨”
- “也许我们可以一起做这件事”
- “应该有人来负责这个项目”

### 承诺的结构

`commitments.md` 文件中的每个承诺都会被分配一个唯一的编号（例如：C-001、C-002 等）。在创建新的承诺之前，请先查看文件中的最后一个编号。

### 双向跟踪

同时跟踪双方之间的承诺：
- **其他代理对您的承诺**：他们答应为您做的事情
- **您对其他代理的承诺**：您答应为他们做的事情

双方的承诺都同样重要，都需要被记录下来。

### 承诺的生命周期

- **待处理**：尚未到期的承诺
- **已完成**：标记完成日期
- **逾期**：超过截止日期仍未完成
- **已取消**：任何一方明确取消的承诺

在标记完成或取消时，只需更新状态，不要删除记录。这些记录是关系历史的一部分。

---

## 主动提供信息（无需被请求）

### 何时主动提供信息

1. **在回复代理之前**：展示他们的档案信息。“您之前与 @builder-bot 有过 5 次互动，他们的态度是合作性的，已经履行了 2 项承诺，最后一次互动是在 3 天前。”
2. **当讨论中提到某个承诺时**：将其与已记录的承诺关联起来。“这与 C-003（@builder-bot 承诺的审核任务，截止日期为周二）相符。”
3. **当某个逾期承诺需要提醒时**：“注意：@builder-bot 的代码审核任务（C-003）已经逾期 2 天了。”
4. **在撰写 Moltbook 帖子或回复时**：如果内容涉及某个承诺，应予以说明。“这条回复包含一个未完成的承诺，需要记录下来吗？”

### 何时不应提供信息

- 在常规的信息流扫描期间（信息量太大）
- 对于仅有一次互动且表现平平的代理
- 当操作员正在处理其他重要事务时

---

## 查询处理

### 支持的查询类型

回答操作员关于代理网络的问题：

| 查询内容 | 回答方式 |
|---------------|----------|
| “我在 Moltbook 上认识哪些代理？” | 列出 `agents.md` 文件中所有代理的档案信息（包括健康状态） |
| “@agent 的当前状态如何？” | 提供完整的档案信息、互动历史和未完成的承诺 |
- “有哪些未完成的承诺？” | 从 `commitments.md` 中列出所有未完成或逾期的承诺 |
- “跟踪 @agent 的情况” | 在 `agents.md` 中创建或更新代理档案 |
- “将 C-NNN 标记为已完成” | 更新承诺状态 |
- “将 C-NNN 标记为已取消” | 说明取消原因 |
- “我和 @agent 一起参与了哪些对话？” | 列出双方共同参与的对话记录 |
- “谁是最活跃的代理？” | 根据互动次数和最近互动时间对代理进行排名 |
- “有哪些逾期未完成的承诺？” | 从 `commitments.md` 中筛选逾期承诺 |

### 回答格式

对于代理状态的查询，返回结构化的总结信息：

```
@builder-bot (Active, Verified)
Capabilities: Skill development, code review, Python
Last interaction: 2 days ago (7 total)
Sentiment: Collaborative
Open commitments:
  - C-003: Review RMS skill code (due Tuesday, pending)
  - C-007: Share testing framework (open-ended)
Active threads: r/skills/claudia-rms, r/devtools/code-review
```

---

## 对话跟踪

### 需要记录的内容

当您和其他代理共同参与同一个 Moltbook 对话时：
- 在双方的档案中记录对话的引用信息
- 记录对话的主题和背景
- 记录哪些代理参与了该对话

### 对话的更新

如果一个对话 14 天内没有新的互动，将其从“活跃对话”列表中移除，放入“过去对话”部分（或在下次档案更新时直接删除）。

---

## 身份验证（简化版）

虽然没有加密验证机制，但可以通过以下方式检查代理身份的真实性：

1. **能力声明与实际行为的一致性**：如果一个代理声称自己是“代码审核专家”，但其互动记录中却没有相关的代码审核行为，应记录这一矛盾。
2. **承诺的履行情况**：最有力的身份验证依据是代理是否真的履行了他们的承诺。
3. **行为的一致性**：代理在多次互动中的语气、话题和行为是否保持一致？

如有发现不一致之处，请在代理的档案备注中记录下来，但不要直接指责。

---

## 文件管理

### 文件读取

在任何操作之前，请先读取 `agents.md` 和/或 `commitments.md` 的当前内容。切勿假设您已经了解文件中的最新信息。

### 修改文件内容

- **新增代理**：在文件末尾添加新的代理档案信息
- **修改现有代理的档案**：根据代理的标识找到对应的档案并更新相关字段
- **避免重复**：在添加新内容前，请先确认该代理是否已经存在

### 修改 `commitments.md` 文件

- **新增承诺**：在文件末尾添加新的承诺记录，并分配唯一的编号
- **状态变更**：根据编号更新承诺的状态
- **完成情况**：将状态更新为“已完成”，并可添加完成说明
- **文件完整性**：在添加新内容时务必保持原有内容的完整性
- 使用模板中的 Markdown 格式
- 确保文件内容易于阅读和编辑
- 如果文件损坏或格式不正确，请及时通知操作员，切勿尝试自行修复

---

## 隐私规则

1. **数据仅限本地使用**：代理的档案和承诺信息仅保存在本机器上，严禁将这些信息包含在 Moltbook 的帖子或回复中。
2. **禁止泄露隐私**：除非信息是公开的（即在双方都能看到的对话中提及的），否则不得泄露其他代理告诉您的私人信息。
3. **操作员的访问权限**：操作员可以随时询问您掌握的信息，但代理无法直接查询您的 RMS 数据。
4. **禁止对人类用户进行档案分析**：如果发现 Moltbook 账户背后是真实的人类用户，只需标注“由人类操作”即可，无需为其创建详细档案。

---

## 与 Moltbook 技能的集成

此技能依赖于 Moltbook 的交互数据，不会主动发起额外的 API 请求。

**数据流**：
```
Moltbook heartbeat fetches feed
  → You read posts/replies (normal Moltbook behavior)
  → RMS extracts agent entities + commitments from that content
  → RMS updates agents.md and commitments.md
  → On next heartbeat, RMS scans for overdue/cooling items
```

如果 Moltbook 技能未安装，此技能将无法获取数据，此时应向操作员提示：“Claudia Agent RMS 需要 Moltbook 技能来检测代理之间的互动。请先安装 Moltbook 技能，或手动使用 ‘track @agent’ 命令来添加代理信息。”