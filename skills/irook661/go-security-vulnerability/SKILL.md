---
name: go-security-vulnerability
description: "ä½¿ç”¨ govulncheck è¯†åˆ«ã€è¯„ä¼°å¹¶ä¿®å¤ Go æ¨¡å—ä¸­çš„å®‰å…¨æ¼æ´ã€‚å¤„ç†å¸¸è§çš„æ¼æ´ï¼ˆå¦‚ JWT ç›¸å…³çš„é—®é¢˜ï¼‰ï¼Œå¹¶åœ¨ä¿®å¤è¿‡ç¨‹ä¸­ç¡®ä¿åº”ç”¨ç¨‹åºçš„ç¨³å®šæ€§ã€‚"
metadata:
  {
    "openclaw":
      {
        "emoji": "ğŸ”’",
        "requires": { "bins": ["go"] },
        "install":
          [
            {
              "id": "golang",
              "kind": "script",
              "script": "curl -L https://golang.org/dl/go1.21.5.linux-amd64.tar.gz | tar -C /usr/local -xzf -",
              "bins": ["go"],
              "label": "Install Go",
            },
          ],
      },
  }
---

# Go å®‰å…¨æ¼æ´å¤„ç†æŠ€èƒ½

ä½¿ç”¨ Go å·¥å…·æ¥è¯†åˆ«ã€è¯„ä¼°å’Œä¿®å¤ Go æ¨¡å—ä¸­çš„å®‰å…¨æ¼æ´ã€‚è¯¥æŠ€èƒ½æœ‰åŠ©äºåœ¨ä¿æŒåº”ç”¨ç¨‹åºåŠŸèƒ½çš„åŒæ—¶æ£€æµ‹å¹¶ä¿®å¤æ¼æ´ã€‚

## æ¼æ´æ£€æµ‹

æ‰«æä½ çš„ Go é¡¹ç›®ä¸­çš„æ¼æ´ï¼š

```bash
go install golang.org/x/vuln/cmd/govulncheck@latest
govulncheck ./...
```

æ£€æŸ¥ç‰¹å®šæ¨¡å—ä¸­æ˜¯å¦å­˜åœ¨å·²çŸ¥æ¼æ´ï¼š

```bash
govulncheck -show verbose ./...
```

## è¯„ä¼°æµç¨‹

1. **ç¡®å®šå—å½±å“çš„åŒ…**ï¼šç¡®å®šå“ªäº›ä¾èµ–é¡¹åŒ…å«æ¼æ´
2. **è¯„ä¼°ä¸¥é‡ç¨‹åº¦**ï¼šæŸ¥çœ‹æ¼æ´çš„è¯¦ç»†ä¿¡æ¯åŠå…¶æ½œåœ¨å½±å“
3. **éªŒè¯ä½¿ç”¨æƒ…å†µ**ï¼šç¡®è®¤è¿™äº›æœ‰æ¼æ´çš„å‡½æ•°æ˜¯å¦çœŸçš„åœ¨ä½ çš„ä»£ç ä¸­è¢«ä½¿ç”¨
4. **åˆ¶å®šä¿®å¤è®¡åˆ’**ï¼šé€‰æ‹©åˆé€‚çš„ä¿®å¤ç­–ç•¥

## å¸¸è§çš„ä¿®å¤ç­–ç•¥

### ç›´æ¥æ›´æ–°ä¾èµ–é¡¹
å°†æœ‰æ¼æ´çš„åŒ…æ›´æ–°ä¸ºå®‰å…¨ç‰ˆæœ¬ï¼š

```bash
go get -u vulnerable/package@latest
go mod tidy
```

### ä¼ é€’æ€§ä¾èµ–é¡¹çš„å¤„ç†
å¯¹äºä¼ é€’æ€§ä¾èµ–é¡¹ä¸­çš„æ¼æ´ï¼š

```bash
go mod why vulnerable/package  # Understand why it's included
go mod edit -replace vulnerable/package=newer-version  # Replace if needed
go mod tidy
```

### ç§»é™¤ç­–ç•¥
å¦‚æœæŸä¸ªä¾èµ–é¡¹æœªè¢«ä½¿ç”¨æˆ–å¯ä»¥è¢«æ›¿æ¢ï¼š

1. ç§»é™¤å¯¹è¯¥æ¼æ´ä»£ç çš„ç›´æ¥å¯¼å…¥
2. è¿è¡Œ `go mod tidy` æ¥æ¸…ç†æœªä½¿ç”¨çš„ä¾èµ–é¡¹
3. éªŒè¯åº”ç”¨ç¨‹åºçš„åŠŸèƒ½æ˜¯å¦ä»ç„¶æ­£å¸¸

## éªŒè¯æ­¥éª¤

åº”ç”¨ä¿®å¤æªæ–½åï¼š

```bash
# Verify no vulnerabilities remain
govulncheck ./...

# Ensure application still builds
go build ./...

# Run tests to verify functionality
go test ./...
```

## å¸¸è§æ¼æ´

### JWT åº“
- é—®é¢˜ï¼š`github.com/golang-jwt/jwt` (GO-2025-3553)ï¼šå†…å­˜åˆ†é…è¿‡å¤š
- ä¿®å¤æ–¹æ³•ï¼šæ›´æ–°åˆ°è¾ƒæ–°çš„ç‰ˆæœ¬ï¼Œæˆ–æ”¹ç”¨ `golang.org/x/oauth2` ç­‰æ›¿ä»£åº“

### æ ‡å‡†åº“æ›´æ–°
- å®šæœŸæ›´æ–° Go ç‰ˆæœ¬ä»¥è·å–å®‰å…¨è¡¥ä¸
- è¿è¡Œ `go vuln` æ¥æ£€æŸ¥æ ‡å‡†åº“ä¸­çš„æ¼æ´

## æœ€ä½³å®è·µ

- å®šæœŸä½¿ç”¨ `govulncheck` æ‰«æä¾èµ–é¡¹
- ä½¿ç”¨ `go get -u` æ›´æ–°ä¾èµ–é¡¹
- ä½¿ç”¨ `go mod tidy` ç§»é™¤æœªä½¿ç”¨çš„ä¾èµ–é¡¹
- åœ¨ä¿®å¤æ¼æ´åè¿›è¡Œå½»åº•æµ‹è¯•
- ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·ç›‘æ§æ–°çš„æ¼æ´