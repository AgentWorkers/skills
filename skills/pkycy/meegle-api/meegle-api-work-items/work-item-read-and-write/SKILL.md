---
name: meegle-api-work-item-read-and-write
description: Meegle OpenAPI 用于创建、读取和更新工作项。
metadata:
  openclaw: {}
---
# Meegle API — 工作项的读写操作

## 创建、获取和更新工作项

在Meegle空间中创建、获取和更新工作项。

---

## 获取工作项创建元数据

检索Meegle空间中特定类型工作项的创建元数据（字段配置）。这些元数据用于正确构建创建或更新工作项的请求数据。

### 使用场景

- 在创建或更新工作项之前：获取字段定义、必填字段及默认值
- 在构建用于创建/更新API的`field_value_pairs`时
- 当需要选项ID、复合字段结构或角色分配配置时

### API规范：`get_work_item_creation_metadata`

---

## 获取工作项详情

检索指定Meegle空间和类型下的一个或多个工作项的详细信息。返回包括系统字段、自定义字段、工作流程状态和节点/状态在内的完整详细页面数据。

### 使用场景

- 当需要通过ID获取特定工作项的完整详情时
- 当需要工作流程状态历史记录、当前节点或完整字段列表时
- 当需要构建详细视图或同步工作项数据时

### API规范：`get_work_item_details`

---

## 创建工作项

在Meegle空间中创建一个新的工作项。支持多种工作项类型、模板和自定义字段。需要具备“Work Items”权限。

### 使用场景

- 当需要创建新的任务、问题或其他类型的工作项时
- 当需要将结构化的工作内容保存到Meegle中时
- 当需要程序化地初始化工作流程或计划项目时

### API规范：`create_work_item`

---

## 更新工作项

更新指定空间和类型下的一个或多个可编辑的工作项字段。只能修改元数据和权限允许的字段。不支持模板和计算字段。

### 使用场景

- 当需要修改现有工作项的字段（名称、描述、负责人等）时
- 当需要更新工作流程状态或自定义字段时
- 当需要将外部更改同步到Meegle中时

### API规范：`update_work_item`

---

## 删除工作项

删除指定空间和类型下的工作项实例。此操作会永久删除工作项，需要具备“Work Items”权限。

### 使用场景

- 当需要永久删除不再需要的工作项时
- 当需要清理测试或重复的工作项时
- 在执行批量删除操作时需谨慎使用

### API规范：`delete_work_item`

---

## 中止或恢复工作项

终止（中止）或恢复指定空间和类型下的工作项实例。用于将工作项标记为终止状态或恢复为活动状态。

### 使用场景

- 当需要终止工作项（如取消、重复项、测试项等）时
- 当需要恢复之前终止的工作项（如重新启动、回滚、测试）时
- 当需要管理工作项的生命周期（活动状态 vs 终止状态）时

### API规范：`abort_or_resume_work_item`

---

## 批量更新工作项字段

批量更新指定空间和类型下的多个工作项实例的单个字段。支持APPEND、UPDATE和REPLACE三种模式，并对字段类型有限制。

### 使用场景

- 当需要同时更新多个工作项的相同字段时（例如批量更改状态、批量分配负责人）
- 当需要在多选字段或人员字段中追加或替换值时
- 当需要通过`task_id`异步查询批量更新进度时

### API规范：`batch_update_work_item_field`

---

## 查询批量更新进度

查询批量更新工作项字段任务的执行进度和结果。需与`batch_update_work_item_field` API配合使用。

### 使用场景

- 在提交批量更新任务后：轮询以检查完成状态
- 当需要获取成功/失败的数量和列表（success_sub_task_list, fail_sub_task_list）时
- 当需要调试批量失败情况时（error_scenes）

---

## 冻结或解冻工作项

冻结或解冻指定Meegle项目空间中的工作项实例。冻结会阻止工作项进入下一阶段；解冻会恢复其正常流程。

### 使用场景

- 当需要暂时阻止工作项进入下一阶段时
- 当需要恢复之前被冻结的工作项的流程时
- 当需要管理正在进行的工作项的暂停或审核流程时

### API规范：`freeze_or_unfreeze_work_item`

---

## 更新复合字段

更新、添加或删除Meegle工作项中的复合字段组。支持对复合字段数据的添加/更新/删除操作。

### 使用场景

- 当需要向工作项中添加新的复合字段组时
- 当需要更新现有的复合字段组数据时
- 当需要删除复合字段组时

### API规范：`update_compound_field`

---

## 获取工作项变更日志

查询指定空间内一个或多个工作项实例的变更记录。支持按操作类型、操作方式、模块、时间范围进行过滤和分页。

### 使用场景

- 当需要审计或审查工作项的变更历史时
- 当需要追踪谁在何时进行了哪些更改时
- 当需要按操作类型（创建、修改、删除、终止、恢复等）进行过滤时

### API规范：`get_work_item_change_log`

---

## 获取工作项资源实例详情

查询指定Meegle工作项*资源库*实例的详细信息，包括字段数据。仅支持启用了资源库的工作项；非资源实例和空值字段不会被返回。

### 使用场景

- 当需要查询资源库工作项实例（例如可重用组件、模板）时
- 当需要获取资源工作项的完整字段数据时
- 当需要与启用了资源库的空间集成时

### API规范：`get_work_item_resource_instance_detail`

---

## 更新工作项资源实例

更新指定Meegle工作项**资源库实例**的字段。仅支持资源字段。非资源字段或角色会被忽略。字段更新会覆盖现有值（不会追加/合并）。

### 使用场景

- 当需要更新资源库工作项实例（例如可重用组件、模板）时
- 当需要修改资源字段值时
- 当需要将外部数据同步到资源工作项中时

### API规范：`update_work_item_resource_instance`

---

## 搜索工作项资源实例

根据复杂的过滤条件搜索并列出Meegle中的**工作项资源库实例**。支持通过`search_after`进行分页和按需选择字段。仅当工作项类型启用了资源库功能时才可用。

### 使用场景

- 当需要在不同空间/类型中搜索资源库工作项时
- 当需要根据创建时间、创建者、更新者、更新时间、资源ID进行过滤时
- 当需要基于游标的分页和字段选择时

### API规范：`search_work_item_resource_instances`

---

## 创建工作项资源仓库

在指定的项目空间和类型下创建一个**工作项资源仓库实例**。工作项类型必须在高级配置中启用了“资源库”功能。

### 使用场景

- 当需要创建新的资源库工作项（例如可重用组件、模板）时
- 当需要使用字段值为资源实例初始化时
- 当需要向资源仓库中添加条目时

### API规范：`create_work_item_resource_repository`

---

## 通过资源创建工作项

使用资源库工作项作为来源来创建工作项实例。在启用了工作项资源库功能后，可以使用此接口从资源条目创建相应的工作项实例。

### 使用场景

- 当需要从资源库条目创建工作项实例时（例如可重用组件模板）
- 当需要将资源工作项实例化为新的工作项时
- 当需要将资源字段值复制到新的工作项中时

### API规范：`create_work_item_through_resources`

---

## 使用说明

- **项目键（project_key）**和**工作项类型键（work_item_type_key）**：用于标识空间和工作项类型的路径参数。
- 在创建工作项之前，请先调用`Get Work Item Creation Metadata`以获取字段元数据，并根据结果构建正确的`field_value_pairs`。