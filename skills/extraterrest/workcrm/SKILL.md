# WorkCRM（OpenClaw技能）

这是一个轻量级的、以本地数据存储为主的CRM系统，具备明确的确认机制。

**产品限制（不可更改）：**
- 任何操作只有在用户明确确认后才会执行：回复“记”表示同意，回复“不记”表示拒绝。
- 草稿会被保留以供审计使用。

## 推荐的聊天使用方式

可以使用以下任何一种方式来触发CRM系统的相应操作：
- `crm: ...`
- `记一下：...`
- `先出草稿：...`

**操作流程：**
1) 用户发送消息。
2) WorkCRM会返回一个草稿。
3) 用户需要回复“记”或“不记”来确认操作。

**注意：**  
此alpha版本的技能仅提供了核心的处理引擎和存储功能。聊天消息的路由机制取决于您在OpenClaw中的代理配置。

## 本地命令行工具（用于验证/开发）

### 生成草稿

```bash
python -m workcrm draft "crm: talked to Alice, follow up next week"
```

该命令会生成一个JSON格式的响应，其中包含用户输入的文本以及草稿的ID。

**数据存储：**
- 默认数据库路径：`~/.openclaw/workcrm/workcrm.sqlite3`
- 可通过环境变量覆盖：`WORKCRM_DB_PATH=/path/to/workcrm.sqlite3`
- 或者在命令行中指定数据库路径：`--db /path/to/workcrm.sqlite3`

**实现说明：**
- 系统会对列表中的操作顺序进行严格控制（确保操作按固定顺序执行）。
- 首次使用时，系统会自动应用数据库模式迁移。