---
name: portfolio-tracker
description: 使用浏览器自动化技术，在 Yahoo Finance 上自动跟踪和分析投资组合的实时情况。获取 Vish 持有的 27 只股票/ETF 以及 4 种加密货币的实时价格，更新 `portfolio-tracker.md` 文件，生成投资表现总结、盈利/亏损情况、再平衡建议以及市场新闻。该工具可用于：检查投资组合价值、分析投资表现、进行每日更新、寻找平均收益机会，或在用户提及股票、投资组合或市场动态时提供相关信息。
---

# 投资组合跟踪器

## 快速入门
运行 `portfolio update` 或输入 “update my portfolio” 以通过浏览器获取实时价格并生成分析报告。

## 工作流程
1. 从 `references/portfolio-holdings.md` 文件中读取投资组合持仓信息。
2. **浏览器自动化**：将 Chrome 扩展程序（profile=open-claw-chrome）添加到 Yahoo Finance 中。
3. **获取价格数据**：截取股票行情页面或投资组合视图的数据。
4. 使用新数据更新 `portfolio-tracker.md` 文件中的投资组合信息及表现数据。
5. **生成分析报告**：包括盈利/亏损项目、总投资价值以及投资建议。

## 更新投资组合
```
1. browser action=tabs profile=open-claw-chrome (attach Yahoo Finance tab)
2. For each ticker in holdings:
   - browser navigate https://finance.yahoo.com/quote/[TICKER]
   - browser snapshot refs=aria (extract price, change, %change)
3. Parse snapshots, calculate values (shares * price)
4. edit portfolio-tracker.md with new table
5. Add analysis section (winners/losers, market summary)
```

**加密货币**：使用以下链接获取价格数据：https://finance.yahoo.com/quote/BTC-USD 等。

## 分析指标
- **盈利/亏损项目**：表现最好的前 5 个项目（涨幅超过 5%）/ 表现最差的前 5 个项目（跌幅超过 5%）。
- **集中度风险**：如果某个持仓占投资组合总价值的比例超过 15%，则进行标记。
- **市场环境**：通过 ^GSPC/^IXIC 的数据对比 S&P500/Nasdaq 的市场走势。
- **投资建议**：选择今日表现不佳（跌幅超过 5%）的投资项目。

## 如何构建此技能文档

[TODO：根据实际需求选择最适合的文档结构。常见的结构模式如下：]

**1. 基于工作流程的结构**（适用于顺序性较强的操作）：
- 适用于有明确步骤的操作流程。
- 例如：DOCX 格式的文档可能包含 “工作流程决策树” -> “数据读取” -> “数据分析” -> “结果生成” 等部分。
- 结构示例：## 概述 -> ## 工作流程决策树 -> ## 第一步 -> ## 第二步 ...

**2. 基于任务的结构**（适用于包含多种操作的任务集）：
- 适用于提供多种功能或操作的技能。
- 例如：PDF 格式的文档可能包含 “快速入门” -> “合并 PDF 文件” -> “分割 PDF 文件” -> “提取文本” 等部分。
- 结构示例：## 概述 -> ## 快速入门 -> ## 任务类别 1 -> ## 任务类别 2 ...

**3. 基于参考资料/指南的结构**（适用于需要遵循的标准或规范）：
- 适用于品牌指南、编码规范或技术要求。
- 例如：品牌设计文档可能包含 “品牌指南” -> “颜色规范” -> “排版规则” -> “功能说明” 等部分。
- 结构示例：## 概述 -> ## 规范说明 -> ## 技术要求 -> ## 使用方法 ...

**4. 基于功能的结构**（适用于具有多个相关功能的技能）：
- 适用于提供多种功能的技能。
- 例如：产品管理文档可能包含 “核心功能” -> 各功能的具体说明。
- 结构示例：## 概述 -> ## 核心功能 -> ### 功能 1 -> ### 功能 2 ...

可以根据需要混合使用这些结构。大多数技能会结合多种结构（例如，先使用基于任务的结构，对于复杂操作再添加基于工作流程的描述）。

**注：** 当完成文档结构设计后，请删除此 “如何构建此技能” 部分——它仅作为参考使用。

## [TODO：根据选定的结构替换此部分内容。**

[TODO：在此处添加具体内容。参考现有技能的示例：]
- 技术技能的代码示例。
- 复杂工作流程的决策树图示。
- 基于真实用户需求的实际操作示例。
- 如有需要，可添加脚本、模板或参考资料的链接。

## 资源

### references/portfolio-holdings.md
Vish 的实际持仓信息（股票名称/持有数量）。在买入/卖出时需手动更新该文件。

### scripts/update-portfolio.py
用于解析持仓数据并处理浏览器获取的数据（未来目标：实现完全自动化）。