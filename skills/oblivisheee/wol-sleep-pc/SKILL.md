---
name: wol-sleep-pc
description: 向指定的PC发送“Wake-on-LAN”（网络唤醒）数据包和“Sleep-on-LAN”（网络睡眠）数据包。当用户需要在本地局域网中唤醒或让PC进入睡眠状态时，可以使用该功能。默认值均为零；目标IP地址、MAC地址以及反转后的MAC地址可通过命令行参数或配置文件进行设置。
---

# wol-sleep-pc

该技能提供了两个经过充分测试的小脚本，用于向同一局域网中的目标机器发送“唤醒局域网”（Wake-on-LAN, WOL）和“睡眠局域网”（Sleep-on-LAN, SOL）信号包。该技能具有高度可配置性，不包含任何默认的MAC/IP地址——所有默认值都被设置为0，必须通过命令行参数（CLI）或本地配置文件来指定。

提供的文件：
- `scripts/send_wol.py` — 发送标准的WOL信号包。
- `scripts/send_sleep.py` — 发送SOL（MAC地址反转）信号包。
- `README.md` — 使用示例和安装说明。
- `.gitignore` — 确保本地配置文件不会被提交到版本控制系统中。

**快速使用方法：**
- 从仓库根目录执行：
  ```
  python3 scripts/send_wol.py --mac 24:4B:FE:CA:90:99 --broadcast 192.168.1.255
  ```
  或
  ```
  python3 scripts/send_sleep.py --mac 99:90:CA:FE:4B:24 --broadcast 192.168.1.255
  ```

**推荐配置文件：**
- 文件路径：`~/.config/wol-sleep-pc/config.json`
- 示例内容：
  ```
  {
    "mac": "24:4B:FE:CA:90:99",
    "sleep_mac": "99:90:CA:FE:4B:24",
    "broadcast": "192.168.1.255",
    "port": 9
  }
  ```
  **说明：**
  如果存在该配置文件，脚本会优先读取其中的设置；命令行参数的值会覆盖配置文件中的设置。
  仓库中的`.gitignore`文件会忽略配置文件，从而确保敏感信息不会被公开。

**代理使用示例：**
- `wake PC` — 使用配置好的参数运行`send_wol.py`脚本。
- `sleep PC` — 使用配置好的反转MAC地址运行`send_sleep.py`脚本。
- `send WOL now` / `send SOL now` — 立即发送信号包。

**设计注意事项与安全性：**
- 这些脚本需要Python 3环境，并且运行时主机需要具有发送UDP广播包的权限。
- 该技能依赖于与目标局域网的二层网络连接；如果从其他网络段执行，请配置正确的广播地址，或从同一局域网内的主机运行脚本。
- 所有默认值都被设置为0，以防止在发布技能时泄露敏感信息。

**发布指南：**
- 由于该仓库不包含实际的MAC/IP地址，并且会忽略本地配置文件，因此可以直接将其发布到ClawHub。
- 如果希望根据特定许可证发布该技能，请添加相应的许可证文件。

**触发条件：**
- 当用户明确请求唤醒或睡眠局域网中的机器，或请求保存/更新本地WOL/SOL配置时，触发该技能。这些脚本体积小且执行效率高，建议直接使用它们，而不是每次都重新生成信号包代码。