---
name: weathercli
description: 获取全球任何地点的当前天气状况和预报。返回包含温度、湿度、风速、降水量等信息的结构化数据。无需使用API密钥。
---

# Weather CLI

使用 `weathercli` 命令可以获取全球任何地点的天气信息。

## 命令

### 当前天气
获取实时天气状况，包括温度、湿度、风速和降水量。

**返回值：** 当前温度、体感温度、湿度百分比、风速/风向、气压、云量、紫外线指数、降水量、天气状况描述以及本地时区的时间戳。

### 天气预报
获取每日或每小时的天气预报。

**返回值：** 每天/每小时的信息包括：温度（最高/最低或当前温度）、天气状况、降水概率和降水量、风速/风向、紫外线指数、日出/日落时间（仅限每日）。

### 地点搜索
查找某个地点的坐标和时区信息。

**返回值：** 地点名称、坐标（纬度/经度）、国家、地区/州、时区。

## 地点格式

地点名称可以灵活输入，并会自动进行地理编码：
- 单个城市名称：`"London"`、`"Tokyo"`、`"New York"`
- 城市 + 国家：`"Paris, France"`、`"Berlin, Germany"`
- 城市 + 州/地区：`"Portland, Oregon"`、`"Barcelona, Catalonia"`
- 如果地点名称不明确，需要提供国家或地区信息以增加准确性。

## 选项

- `--json` - 以结构化 JSON 格式输出（推荐用于编程解析）
- `--no-color` - 禁用颜色显示（适用于纯文本解析）
- `--days N` - 预报的天数（1-16 天，默认值：7 天）
- `--hourly` - 显示每小时天气预报
- `--hours N` - 每小时预报的时间段（1-384 小时）
- `--verbose` - 显示详细的请求信息

## 输出格式

### 人类可读格式（默认）
温度以颜色编码显示，并使用表情符号和单位表示。时间以地点的本地时区显示。

### JSON 结构

**当前天气：**
**天气预报：**

## 使用指南

### 适用场景

- 当用户询问天气、温度、预报或天气状况时
- 在规划活动时需要天气数据
- 检查是否会下雨、下雪或天气晴朗
- 为旅行计划获取气候信息
- 需要日出/日落时间
- 比较不同地点的天气情况

### 地点处理

1. 如果用户提供了明确的地点名称，直接使用该名称
2. 如果地点名称不明确（例如 `Portland`），请请求用户确认或提供更多信息
3. 如果找不到该地点，建议用户检查拼写或添加国家/地区信息
4. 对于坐标，建议先使用 `search` 命令进行验证

### 输出解析

- **始终使用 `--json` 进行程序化解析**
- 提取 `temperature`（温度）、`condition`（天气状况）、`wind_speed`（风速）等关键信息
- 查看 `precip_prob`（降水概率）以判断是否会有降雨
- 使用 `sunrise`（日出时间）/ `sunset`（日落时间）来安排活动
- `weather_code` 遵循 WMO 标准（0-99）

### 最佳实践

- 为旅行计划请求 3-5 天的天气预报（而非全部 16 天）
- 使用每小时预报来详细规划一天内的活动
- 查看 `apparent_temperature`（实际感受温度）以判断是否舒适
- 当紫外线指数大于 3 时，建议采取防晒措施
- 当风速超过 20 公里/小时时，需提醒用户注意风大

## 示例

**快速查询天气：**
**获取旅行期间的天气预报：**
**查看今天的每小时天气情况：**
**同时查询多个城市的天气：**
**查找具体地点的坐标：**

## 注意事项

- **无需 API 密钥** – 该工具使用免费的 Open-Meteo API
- **全球覆盖** – 支持全球任何地点
- **温度单位为摄氏度**（如需转换，可用公式：°F = °C × 9/5 + 32）
- **风速单位为公里/小时**（如需转换，可用公式：km/h × 0.621）
- **时间自动转换为本地时区**
- **使用限制** – 个人或代理使用较为合理，避免频繁请求
- **数据准确性** – 数据来自多个气象来源
- **更新频率**：当前天气信息每 15 分钟更新一次
- **离线使用** – 需要互联网连接

## 错误处理

- **地点未找到：**
  → 请检查拼写或添加国家/地区信息
- **网络错误：**
  → 稍后重试
- **输入无效：**
  → 请确保 `--days` 的值在 1-16 之间

## 安装

如果 `weathercli` 未安装，可以按照以下步骤进行安装：