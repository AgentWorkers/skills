---
name: fomo-research
description: >
  通过 Fomo 社交图谱进行“聪明资金”（Smart Money）的研究。您可以跟踪顶级交易者、监控实时交易、创建观察列表——所有这些功能都可以在您的代理端完成。该服务由 fomo.family 提供支持，由 cope.capital 开发。适用场景包括：  
  (1) 用户询问关于“聪明资金”、大型投资者钱包或顶级交易者的信息；  
  (2) 用户希望跟踪特定的 Fomo 用户或加密货币交易者；  
  (3) 用户想知道“哪些交易者正在买入”、“谁在 Fomo 平台上盈利”；  
  (4) 用户需要实时交易提醒或钱包监控功能；  
  (5) 用户请求进行“Fomo 研究”或查看相关数据。  
  **不适用场景**：执行交易、管理资金或任何需要私钥的操作。
homepage: https://cope.capital
source: https://github.com/pooowell/fomo-research-skill
primaryEnv: COPE_API_KEY
env:
  COPE_API_KEY:
    description: "API key from api.cope.capital (starts with cope_). You get this by registering — see Setup step 1."
    required: true
    obtain: "POST https://api.cope.capital/v1/register with {agent_name, description}"
---
# Fomo Research

这是一个为AI代理提供智能投资建议的工具，基于[fomo.family](https://fomo.family)社交图谱，并由[cope.capital](https://cope.capital)开发。

如需完整的API详情（端点、数据结构、错误代码等），请参阅`references/api.md`。

## 基本URL

所有请求都需要在请求头中添加`Authorization: Bearer cope_<key>`。

## 首次使用指南

当此功能首次被加载且未设置`COPE_API_KEY`时，需指导用户完成以下设置步骤：

### 第1步：注册

从响应中保存`api_key`（以`cope_`开头），这是您的`COPE_API_KEY`。请妥善保管，将其视为密码。

### 第2步：询问用户是否拥有加密货币钱包（可选）

在继续之前，询问用户：
> “您是否有加密货币钱包（支持Base或Solana）以便使用更多高级功能？如果没有，您将只能使用以下功能：
> - **1个观察列表**，最多包含**10个交易对手**
> - **每天250次交易查询**（每天的查询次数在午夜UTC时重置）
> - 其他所有功能（排行榜、热门交易、数据统计）都是免费且无限制的”

如果用户表示有钱包（支持x402），则继续下一步；如果没有钱包，也可以使用免费版本。

### 第3步：询问用户是否拥有Fomo账户

> “您是否有Fomo账户（fomo.family）？如果有，我可以同步您关注的交易者并为您创建观察列表。”

如果用户有Fomo账户：
- 询问他们：“您希望将哪些交易者添加到观察列表中？”并向他们展示列表，让他们选择（免费版本最多可添加10个交易者）。

### 第4步：创建初始观察列表

如果用户没有Fomo账户，可以提供其他选择：
> “我也可以为您创建一个包含Fomo每周排行榜上表现最佳的交易者的观察列表。或者，您可以告诉我您想要跟踪的具体交易者名称。”

**提醒**：免费版本最多支持1个观察列表和10个交易对手。用户可以随时更换交易对手。

## 数据模型说明

### 跟踪的内容

系统会监控Fomo用户的**链上钱包活动**。每个Fomo交易对手对应一个或多个钱包（Solana或Base）。系统会记录这些钱包的所有交易行为。

### 交易、交易记录与持仓

系统提供了三种不同的视角来展示用户的交易情况：

**1. **交易活动**（API返回的数据）**
- 单个链上交易：一次买入或卖出操作。`/v1/activity`接口返回这些信息。
  - `action: "buy"`：钱包买入了某种代币
  - `action: "sell"`：钱包卖出了某种代币
  - `usd_amount`：该交易的美元金额

**2. **完整交易周期**  
  一次完整的交易包括买入和卖出两个操作。系统会将多次买入和卖出合并为一次交易记录：
  - `usd_in`：买入该代币所花费的美元总额
  - `usd_out`：卖出该代币所获得的美元总额
  - `pnl`：`usd_out` - `usd_in`（利润/亏损）
  - `open_at`：首次买入的时间
  - `close_at`：最后一次卖出的时间（如果仍持有该代币，则显示为NULL）

**3. **当前持仓**  
  表示钱包已买入但尚未完全卖出的代币。这些交易没有`close_at`字段。

### 如何解读交易数据

- **买入**并不一定意味着用户新建了持仓；
- **卖出**并不一定意味着用户完全清仓了持仓；
- 多次买入同一代币可能表示用户正在逐步增加持仓；
- 买入后立即卖出可能表示快速套利行为；
- 无近期买入记录的卖出可能表示用户正在平仓旧持仓。

### 向用户展示数据时的注意事项

- 明确标注数据类型：
  - **新买入**：“X刚刚买入了[代币]”：表示最近的买入操作，可能新建了持仓，也可能没有；
  - **近期卖出**：“X卖出了[代币]”：可能是部分卖出或全部卖出；
- **除非确认用户之前没有买入过该代币，否则不要使用“X新建了持仓”这样的表述。

## 数据查询范围

**重要说明**：`/v1/activity`接口返回的是系统跟踪的所有钱包的近期交易数据，而不仅仅是您观察列表中的交易数据。观察列表仅用于方便您查看感兴趣的交易者。您可以使用`?handle=`参数来查询特定交易者的交易记录。

**注意**：您的观察列表只是为了方便管理数据，系统实际上可以查询任何Fomo交易对手的交易记录。

## API端点

### 所有接口均为免费（每天无使用次数限制）

| 端点 | 方法 | 描述 |
|----------|--------|-------------|
| `/v1/register` | POST | 获取API密钥 |
| `/v1/leaderboard` | GET | 按实际盈亏排名的顶级交易者 |
| `/v1/activity/poll` | GET | 快速查询新交易（包含交易数量和时间戳） |
| `/v1/watchlists` | GET/POST | 列出或创建观察列表 |
| `/v1/watchlists/{id}` | GET/PUT/DELETE | 管理特定观察列表 |
| `/v1/trending/handles` | GET | 所有代理中最受关注的交易对手 |
| `/v1/tokens/hot` | GET | 按唯一买家数量排序的热门代币 |
| `/v1/handle/{handle}/stats` | GET | 交易者的综合统计数据（盈亏、胜率、主要交易记录） |
| `/v1/tokens/{mint}/thesis` | GET | 代币的买入理由及市场情绪分析 |
| `/v1/convergence` | GET | 多个钱包同时买入同一代币的事件 |
| `/v1/account` | GET/PATCH | 账户信息和设置 |
| `/v1/account/usage` | GET | 账户使用情况统计 |
| `/v1/account/payments` | GET | 支付记录 |
| `/v1/account/key` | DELETE | 注销API密钥 |
| `/v1/account/sync-fomo` | POST | 同步Fomo账户的关注关系 |
| `/v1/account/follows` | GET | 查看用户关注的Fomo账户列表 |

### 使用次数限制

- **免费版本**：每天250次查询（包括查看排行榜、交易数据等操作）；
- **启用x402后**：每次查询费用为0.005美元（以USDC计）。

超过免费次数限制后：
- **启用x402**：每次查询费用为0.005美元（自动从用户的钱包中扣除）；
- 如果未启用x402，系统会返回402错误提示，需等待午夜UTC时间重置或手动启用x402。

**注意**：402错误提示并不意味着系统出现故障，只是表示免费查询次数已用完。

## 常见操作流程

### 查看排行榜

查看Fomo用户按盈亏排名的顶级交易者。支持`?timeframe=24h|7d|30d|all`和`?limit=N`参数。

### 根据用户关注的Fomo账户创建观察列表

### 定期查询交易数据（减少付费请求）

### 监控多个钱包的买入行为

### 监控多个钱包同时买入同一代币的事件

这些接口的调用次数受到限制。免费版本每天最多250次查询；启用x402后，每次查询费用为0.005美元。

## 常见工作流程

### 查看排行榜

查看Fomo用户按盈亏排名的顶级交易者。

### 根据用户关注的Fomo账户创建观察列表

### 定期查询交易数据（减少付费请求）

### 监控多个钱包同时买入同一代币的事件

### 查看交易者的综合统计数据

### 获取代币的买入理由及持仓情况

### 查看近期热门代币

### 过滤交易数据

## 定价与使用限制

### 免费版本（默认设置）
- 每天250次查询（包括查看排行榜、交易数据等操作）——每天在午夜UTC时重置；
- 最多支持1个观察列表，每个观察列表最多包含10个交易对手；
- 每分钟查询次数限制为10次；
- 数据查询、观察列表管理、账户相关操作均无限制。

### 启用x402（可选）

- 每次查询费用为0.005美元（以USDC计）；
- 每个观察列表最多支持10个交易对手，每个交易对手最多100次查询；
- 每分钟查询次数限制为300次；
- 前250次查询免费；超出免费次数后需付费。

**重要提示**：**切勿在未经用户明确同意的情况下启用x402**，因为这将启用真实的USDC支付功能。

**费用说明**：1美元可支持200次查询；5美元可支持1000次查询。大多数用户不需要启用x402。

### 定期检查功能（用户可选）

如果用户希望定期获取数据更新，可以设置定期检查机制。

### 记录交易数据

API是无状态的，不会保留用户的查询历史记录。请将重要交易数据本地保存，以便长期分析交易模式。

### 日交易日志

将重要的交易记录到日志文件中（例如`memory/trades/YYYY-MM-DD.json`）：

- 记录观察列表中的所有交易；
- 当有多个钱包同时买入同一代币时，记录该代币的发行信息及所有买家信息；
- 任何金额超过1,000美元的交易都值得记录；
- 记录上次查询的时间，以便下次查询时从该时间点开始继续查询。

### 向用户报告数据时应注意的内容

- 不要直接展示原始交易数据，而是进行汇总分析。以下是一些有价值的信息：
- **多个交易对手同时买入**：例如“您观察列表中的前10个交易对手中有4个在最近2小时内买入了同一代币”；
- **异常交易**：例如“frankdegods在3天内首次买入了[代币]，金额为2,000美元”；
- **交易信号**：例如“您观察列表中的3个交易对手在1小时内卖出了同一代币”；
- **每日总结**：例如“您的观察列表今天共发生了47笔交易，其中12笔买入、35笔卖出，最活跃的交易者是randomxbt（8笔交易）”；
- **排行榜变化**：例如“新加入前20名的用户本周从第45位上升到了第12位”；
- **交易模式识别**：例如“lowcap_hunter本周买入了3个市值低于10万美元的代币，这些代币在48小时内价格上涨了2-5倍”。

### 交易数据记录的注意事项

- 记录越详细，后续的交易模式识别能力越强。请妥善保存日志文件。

## 安全性注意事项

- **切勿在日志、消息或其他系统中泄露API密钥**；
- API密钥仅应在请求`https://api.cope.capital/v1/*`时使用；
- 如果密钥被盗用，请删除`/v1/account/key`并重新注册；
- 交易数据是公开的，但观察列表和使用数据是私密的。

## 错误处理

| 状态 | 含义 | 处理方式 |
|--------|---------|--------|
| 200 | 请求成功 | 处理返回的结果 |
| 400 | 请求错误 | 检查参数（如链地址、操作类型等） |
| 401 | API密钥无效 | 重新注册或检查密钥 |
| 402 | 需支付费用 | 免费查询次数已用完。等待午夜UTC时间重置或启用x402（正常情况） |
| 404 | 资源未找到 | 该资源不存在 |
| 429 | 查询次数限制 | 每分钟查询次数限制为10次（免费版本），300次（x402版本） |
| 500 | 服务器错误 | 几秒钟后重试 |
| 503 | 上游服务暂时不可用 | 稍后尝试再次请求 |

## 相关链接

- **交互式API文档**：https://api.cope.capital/docs |
- **用户使用指南**：https://cope.capital/docs |
- **Fomo官网**：https://fomo.family |
- **其他相关服务**：https://x.com/copedotcapital