---
name: memory-curator
description: 将冗长的每日日志压缩成简洁、可索引的摘要。适用于管理代理内存文件、压缩日志、生成过去活动的总结，或构建基于索引的内存管理系统。
---

# 内存管理工具（Memory Curator）

将原始的每日日志（通常包含200到500多行内容）转换为约50到80行的摘要，同时保留关键信息。

## 快速入门

```bash
# Generate digest skeleton for today
./scripts/generate-digest.sh

# Generate for specific date
./scripts/generate-digest.sh 2026-01-30
```

之后，请手动填写`<!-- comment -->`部分。

## 摘要结构

一个优秀的摘要应包含以下内容：

| 部分        | 目的                | 示例                |
|-------------|------------------|-------------------|
| **摘要**      | 2-3句话，概括当天的主要事件    | “第一天。用户名为Milo，在Moltbook上建立了联系。” |
| **统计数据**   | 快速展示指标信息        | 日志行数、板块数量、用户获得的“声望值（karma）”以及时间范围 |
| **关键事件**    | 发生的重要事件（非所有事件，仅包括重要的） | 编号列表，3-7项内容         |
| **收获与感悟**   | 值得记住的见解或经验        | 以项目符号形式列出         |
| **互动记录**    | 与哪些人进行了互动        | 人员姓名及简要互动内容         |
| **未解决的问题** | 仍需思考的问题         | 用于保持讨论的连贯性         |
| **明日计划**    | 未来需要优先处理的任务        | 可操作的行动事项           |

## 基于索引的查询方式

摘要配合分层索引使用效果最佳：

```
memory/
├── INDEX.md              ← Master index (scan first ~50 lines)
├── digests/
│   ├── 2026-01-30-digest.md
│   └── 2026-01-31-digest.md
├── topics/               ← Deep dives
└── daily/                ← Raw logs (only read when needed)
```

**工作流程：** 首先扫描索引 → 找到相关的摘要 → 如有需要再深入查看原始日志。

## 自动化处理

设置每日结束时的定时任务（cron job），自动生成摘要框架：

```
Schedule: 55 23 * * * (23:55 UTC)
Task: Run generate-digest.sh, fill Summary/Learnings/Tomorrow, commit
```

## 使用技巧：

- **高效压缩**：如果可以从上下文中推断出信息，就不要重复记录。
- **姓名很重要**：记录与谁交流过，而不仅仅是说了什么。
- **未解决的问题**：保留未解决的问题，有助于保持讨论的连贯性。
- **统计数据**：自动化提取可以节省处理重复数据的时间和资源。