---
name: security-scanner
description: 在您的 OpenClaw 安装环境中运行一次全面的本地安全扫描。该扫描会检查配置文件、网络暴露情况、凭据设置、操作系统安全加固措施以及代理程序的安全防护机制。扫描会评估您的系统安全状况，并提供自动修复建议。所有扫描结果和修复操作都仅在本地完成，不会有任何数据离开您的设备。
---
# 安全扫描器

您可以在任何安装了 OpenClaw 的系统上运行本地安全评估。

## 使用方法

该工具提供了一个 Bash 脚本，用于扫描您的 OpenClaw 配置并报告检测结果（附带严重性等级）。

### 快速扫描（仅读取数据）

```bash
bash "$(dirname "$0")/oc-security-scan.sh"
```

### 自动修复问题

```bash
bash "$(dirname "$0")/oc-security-scan.sh" --fix
```

### 保存报告

```bash
bash "$(dirname "$0")/oc-security-scan.sh" --report
```

### JSON 格式输出

```bash
bash "$(dirname "$0")/oc-security-scan.sh" --json
```

## 扫描内容：

- **OpenClaw 配置**：绑定地址、令牌强度、配置权限、执行安全模式
- **网络暴露情况**：监听端口、防火墙状态、公共接口的暴露程度
- **凭证管理**：明文密码、文件权限、.gitignore 文件中的规则
- **操作系统加固**：磁盘加密、自动更新、操作系统版本、root 用户的使用情况
- **代理安全设置**：RULES.md 文件的内容、内存文件权限、安全限制

## 输出结果：

输出结果以终端颜色编码显示，并附带严重性等级：
- 🔴 **严重**（CRITICAL）—— 需立即采取行动
- 🟡 **警告**（WARNING）—— 需要处理
- 🟢 **通过**（PASS）—— 一切正常
- ⚪ **信息提示**（INFO）—— 提供参考信息

最终会显示一个基于 100 分的安全评分（A-F 级别）。

## 安全理念：

- **仅限本地使用**—— 不会进行任何外部网络调用
- **默认为只读模式**—— 仅在明确使用 `--fix` 参数时才会修改文件
- **由所有者操作**—— 专为 OpenClaw 所有者在自己的机器上运行而设计
- **无依赖项**—— 仅使用标准的 Unix 工具和 OpenClaw CLI