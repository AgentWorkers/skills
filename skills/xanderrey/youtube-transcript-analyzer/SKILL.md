---
name: youtube-transcript
description: >
  **功能描述：**  
  无需观看视频即可提取并分析YouTube视频的文字记录。适用于用户请求视频摘要、要求“分析该YouTube视频”、需要提取文字记录或快速了解视频内容的情况。支持处理任何YouTube视频链接，提供经过清洗的文字记录以及人工智能分析结果。
---
# YouTube 字幕分析

提取、清洗并分析 YouTube 视频的字幕，从而无需观看视频即可理解其内容。

## 概述

该技能通过提取字幕并提供全面的摘要，实现了对 YouTube 视频的快速分析。非常适合用于研究、内容审核或在不花费时间的情况下理解视频内容。

## 快速工作流程

1. **提取**：使用 `scripts/extract_transcript.sh` 从 YouTube URL 中获取清洗后的文本。
2. **读取**：加载提取到的字幕文件。
3. **分析**：根据内容类型提供结构化的摘要。
4. **格式化**：以易于阅读、条理清晰的格式呈现分析结果。

## 提取过程

对于任何 YouTube 视频，都可以使用随附的脚本：

```bash
scripts/extract_transcript.sh "https://www.youtube.com/watch?v=VIDEO_ID" output.txt
```

该脚本会自动执行以下操作：
- 如果没有 `yt-dlp`，则下载该工具。
- 提取字幕（无论是自动生成的还是手动添加的）。
- 将 VTT 格式的字幕转换为纯文本。
- 显示字幕的字符数并提供预览。

## 分析方法

### 内容类型识别

首先识别视频类型，然后针对不同类型进行针对性分析：

- **教育/教程类视频**：分步骤讲解、关键概念、学习前提。
- **产品评论类视频**：对比分析、优缺点、推荐信息、产品规格。
- **新闻/评论类视频**：主要话题、关键论点、引用来源。
- **娱乐类视频**：精彩片段、核心情节、反复出现的主题。

### 分析结构

**对于所有类型的视频：**
- **标题/主题**：对视频内容的清晰描述。
- **时长信息**：根据字幕长度提供简要或详细的时长信息。
- **关键要点**：以项目符号形式列出 3-7 个主要结论。
- **重要引述**：相关的关键陈述（如适用）。
- **后续行动**：下一步建议或操作指南（如果有的话）。

**对于技术类视频**：
- 包括具体的术语、版本号以及提到的工具。
- 记录任何代码示例或配置信息。
- 识别所需的前提条件或依赖项。

### 质量考量

**自动生成的字幕可能包含：**
- 重复的短语。
- 技术术语的转写错误。
- 拼写或标点符号缺失。
- 无意义的填充词（如 “um”、“uh”、“you know” 等）。

请根据实际情况对这些内容进行过滤和处理，确保分析结果清晰、连贯。

## 高级分析

有关详细的分析模式和针对特定类型内容的方法，请参阅 [analysis-patterns.md](references/analysis-patterns.md)。

## 错误处理

**如果提取失败**：
- 视频可能没有字幕。
- 视频可能是私密或受限制的内容。
- 可能存在网络连接问题。
- 视频属于年龄限制的内容。

**备用方案**：使用 `web_fetch` 命令从 YouTube URL 获取基本视频信息，然后向用户说明字幕的获取限制。