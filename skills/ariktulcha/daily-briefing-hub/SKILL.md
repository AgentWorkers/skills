---
name: daily-briefing-hub
description: 这是一个集成了多种功能的一体化每日简报工具：它能够将 Google 日历事件、Gmail/Outlook 的重要邮件、天气预报、GitHub 的 Pull Request 和持续集成（CI）状态、Hacker News 以及 RSS 源的内容，还有 Todoist/ClickUp/Linear 中的任务整合到一个优先级排序的每日汇总中，并通过 Telegram、Slack、WhatsApp 或 Discord 发送给用户。该工具可用于以下场景：晨间简报、每日摘要、每日总结、每日站会准备、“我今天需要处理什么任务”、“给我介绍一下今天的重点内容”、“我错过了什么”、“每日回顾”、个性化新闻摘要、日程概览、收件箱总结、每日通知，以及通过 cron 定时器自动发送的重复性晨间更新。它就像你的“人工智能首席幕僚”，可以替代你每天早上查看多个应用程序的繁琐工作。无论你使用的是哪些工具，该工具都能自动适应并仅使用你已配置的功能。
metadata:
  openclaw:
    emoji: "☀️"
---
# 每日简报中心

这是您的AI首席参谋。该功能从多个来源收集数据，并生成一份按优先级排序的每日简报——用户可以按照自己的需求接收简报的格式。

## 为何需要这个功能

大多数OpenClaw用户最终都是通过手动调用5到8个不同的工具来制作自己的晨间简报。而这个功能只需一步即可完成所有工作：收集所有信息、进行优先级排序、美化格式，然后将其呈现给用户。

## 工作原理

当触发该功能时，它会从用户可用的任何数据来源中收集数据，然后整理成一份结构清晰的简报。并非所有数据来源都需要进行配置——系统会自动忽略无法使用的来源，仅使用已连接的数据源。

## 数据来源

系统会按以下顺序尝试从这些来源获取数据。如果某个来源不可用（工具未启用或API未配置），系统会默默地跳过该来源，继续处理其他数据。

### 1. 日历（高优先级）
使用`gog`工具或Google Calendar CLI获取当天的事件信息：
- 显示：事件名称、时间、地点、参与者（如有的话）
- 标记冲突事件（时间重叠的事件）
- 将超过2小时的空档标记为“专注时间”
- 如果明天的第一个事件时间较早，会提前提醒用户

### 2. 电子邮件（高优先级）
通过`gog`或配置的电子邮件工具扫描Gmail中的未读邮件：
- 概述前5到10封最重要的未读邮件（忽略新闻邮件和促销信息）
- 优先级排序：来自已知联系人的邮件 > 包含紧急关键词的邮件 > 其他邮件
- 对每封邮件显示：发件人、主题、简短摘要以及建议的操作（回复/阅读/归档）
- 统计未读邮件总数，如果收件箱中的未读邮件数量超过50封，则进行标记

### 3. 天气（中等优先级）
使用`curl`从公共API获取天气信息，或使用已安装的天气插件：
- 如果知道用户的位置（通过记忆或配置），则自动获取天气信息
- 如果不知道位置，会询问一次并记录下来以供后续使用
- 显示：当前温度、最高/最低温度、天气状况、降雨概率
- 仅在天气情况显著时显示（如下雨、极端温度或暴风雨）——忽略“晴朗，72°F”的天气信息
- 根据天气情况提供建议（如“带伞”或“穿暖和的衣服”）

### 4. GitHub / 开发活动（中等优先级——非开发者可跳过）
使用GitHub CLI（`gh`）或GitHub插件检查开发活动：
- 显示等待您审核的拉取请求（按创建时间排序，例如：“PR #142 已等待3天”）
- 您提交的拉取请求中是否有新的审核或评论
- 过去24小时内您仓库中的持续集成/持续部署（CI/CD）失败情况
- 新分配给您的任务
- 如果用户未配置GitHub，可以跳过此部分

### 5. 任务（中等优先级）
检查已配置的任务管理工具：Todoist、ClickUp、Linear、GitHub Issues或本地任务文件：
- 显示今天到期的任务和逾期任务
- 如果可能，按项目或标签分组显示任务
- 将逾期任务突出显示

### 6. 新闻与资讯（低优先级）
使用网络搜索或RSS订阅源获取相关新闻标题：
- 如果用户指定了感兴趣的领域（通过记忆或配置），则过滤相关内容
- 默认显示：过去24小时内的3到5条科技/商业新闻标题
- 每条新闻的摘要保持在一句话以内
- 如果用户是开发者，还会显示Hacker News上的前三条新闻

## 简报格式

简报必须按照以下格式呈现。根据实际可用的数据调整各部分的内容：

```
☀️ Good [morning/afternoon], [Name]! Here's your briefing for [Day, Date].

📅 TODAY'S SCHEDULE
[Calendar events in chronological order]
[Flag any conflicts or notable gaps]

📧 EMAIL HIGHLIGHTS
[Top priority emails with one-line summaries]
[Total unread count]

⚡ ACTION ITEMS
[Overdue tasks — URGENT]
[Tasks due today]
[PRs needing your review]

🌤️ WEATHER
[Only if notable — rain, extreme temps, etc.]

💻 DEV ACTIVITY
[CI failures, new issues, PR updates]

📰 NEWS
[3-5 relevant headlines, one line each]

---
Have a great day! Reply with any item number to dive deeper.
```

## 优先级逻辑

简报应该像一个智能助手一样提供信息，而不是简单的数据堆砌。请遵循以下规则：
1. **紧急事项优先显示**：逾期任务、1小时内召开的会议、CI失败信息、来自老板或客户的邮件
2. **相关事项合并显示**：如果有与某个拉取请求相关的会议，将相关内容一起展示
3. **默认简洁明了**：每条信息仅显示一行。用户可以要求详细查看某个部分
4. **省略空内容**：如果某个部分没有数据，就直接省略该部分
5. **时间敏感**：晨间简报主要关注当天的内容；晚间简报则回顾当天发生的事情

## 设置定期简报

如果用户要求“每天早上发送简报”或“设置每日摘要”：
1. 帮助用户通过OpenClaw的cron系统配置定时任务
2. 建议的安排：工作日早上7:00（根据用户偏好调整）
3. 通过用户选择的渠道（Telegram、Slack、WhatsApp、Discord）发送简报
4. 将简报配置信息保存在工作区中以确保信息持久化

### 示例cron配置：

```json
{
  "schedule": "0 7 * * 1-5",
  "prompt": "Generate my daily briefing and send it to me",
  "channel": "telegram"
}
```

## 自定义设置

用户可以随时自定义简报内容：
- “在我的简报中添加RSS订阅源” → 询问用户所需的订阅源URL并保存在系统中
- “在我的简报中省略天气信息” → 记录用户的偏好
- “我希望每天早上6点接收简报” → 更新cron任务的时间
- “仅关注GitHub和电子邮件” → 禁用其他数据来源
- “在我的简报中添加Stripe的收入数据” → 添加财务数据源

所有用户设置都会保存在OpenClaw的内存系统中，以便在不同会话间保持一致。

## 特殊情况处理：
- **首次使用**：首次使用该功能时，先解释功能用途并询问用户的偏好，避免生成空内容的简报
- **周末简报**：语气轻松一些，省略工作相关的邮件和GitHub信息，重点关注个人日历和天气情况
- **晚间简报**：如果用户要求在下午5点之后接收简报，改为提供当天的总结以及明天的安排
- **完全没有数据**：如果没有任何工具被配置，先帮助用户设置日历和电子邮件来源再生成简报
- **多个日历**：如果用户同时使用个人日历和工作日历，会同时显示两个日历，但需明确区分

## 示例交互：
**用户**：“生成一份简报”
→ 根据所有可用数据生成完整的简报

**用户**：“我今天有哪些任务？”
→ 重点展示日历和任务信息，新闻部分简化

**用户**：“设置每天早上7点的每日简报”
→ 配置cron任务，确认发送渠道，生成测试简报

**用户**：“我今天错过了什么？”
→ 晚间简报：总结当天的邮件、已完成的任务以及GitHub上的活动

**用户**：“在我的每日简报中添加Hacker News”
→ 保存用户的偏好设置，展示简报的预览内容