---
name: only-baby-skills
description: 分析 `contractions_*.json` 和 `babyLogs_*.json` 文件，以评估母亲的宫缩情况、婴儿的喂养状况以及尿布更换情况。当用户提供（或引用）这些文件，并希望了解母亲的安全状况、婴儿的健康状况，或请求获取宫缩情况、喂养记录或尿布更换情况的汇总时，可以使用该功能。
---

# 分析孕产妇与婴儿的日志数据

本功能会分析两个JSON数据源，生成关于母婴安全和健康状况的总结：**孕产妇的宫缩情况**以及**婴儿的喂养和换尿布状态**。最终会给出明确的判断结果及相应的建议。

## 使用场景

- 用户提供了或引用了包含宫缩和婴儿日志的JSON文件（例如：`contractions_*.json`、`babyLogs_*.json`）。
- 用户希望了解孕产妇的安全状况、婴儿的健康情况，或获取宫缩、喂养、换尿布的相关信息。

## 输入文件

1. **宫缩日志JSON**：包含`id`、`startTime`（ISO 8601格式）的数组对象。
2. **婴儿日志JSON**：包含`babyLog`（条目数组）和`birthday`（ISO 8601格式）的对象。每个条目包含`id`、`timestamp`、`type`以及特定类型的详细信息：
   - `type === "feeding"`：`feedingDetails.volumeML`（喂奶量，单位：毫升）。
   - `type === "diaper"`：`diaperDetails.hasPee`（是否排尿）、`diaperDetails.hasPoo`（是否排便）（布尔值）。
   - `type === "breastFeeding"`：`breastFeedingDetails.durationSeconds`（母乳喂养时长，单位：秒）。

具体数据结构和健康/安全阈值请参考[references/schemas-and-thresholds.md](references/schemas-and-thresholds.md)。

## 工作流程

### 1. 加载并解析两个JSON文件

- 从用户提供的路径或工作区（如下载目录、项目文件夹）中读取文件。
- 将宫缩数据解析为数组；将婴儿数据解析为包含`babyLog`和`birthday`的对象。

### 2. 分析宫缩情况

- 按`startTime`对宫缩记录进行排序（时间顺序）。
- 计算每次宫缩的**持续时间**（`endTime - startTime`，单位：秒或分钟）。
- 计算两次宫缩之间的**间隔时间**（从上一次宫缩的`endTime`到当前`startTime`的分钟数）。首次宫缩的间隔时间视为N/A。
- 统计宫缩次数、时间范围、平均持续时间、平均间隔时间，并分析宫缩模式（规律性或不规律性）。
- 应用[references/schemas-and-thresholds.md](references/schemas-and-thresholds.md)中规定的安全标准（例如“5-1-1规则”，即何时需要就医）。

### 3. 分析婴儿日志

- 根据`birthday`和最新的日志时间戳计算婴儿的年龄（以天或周为单位）。
- 将`babyLog`按类型（`feeding`、`diaper`、`breastFeeding`）进行分类：
   - **喂养**：提取`feedingDetails.volumeML`和`timestamp`，统计过去24小时（可选：过去48小时）内的总喂养量和喂养次数；计算每次喂养的平均量及每小时平均量。
   - **母乳喂养**：提取`breastFeedingDetails.durationSeconds`和`timestamp`，统计过去24小时（可选：过去48小时）内的喂养次数和总时长；可选：计算平均每次喂养的时长。
   - **换尿布**：统计过去24小时（可选：过去48小时）内婴儿的排尿/排便次数。
- 将这些数据与[references/schemas-and-thresholds.md]中规定的年龄对应阈值进行比较。

### 4. 生成报告并给出判断结果

- **孕产妇的宫缩情况总结**：
  - 宫缩次数、时间范围、持续时间及间隔时间分布。
  - 判断孕产妇是否安全（安全/需要监测/需要就医），并附上简要原因及后续建议（例如：“继续记录宫缩情况；如果符合5-1-1规则，请就医”）。

- **婴儿的喂养与换尿布情况总结**：
  - 婴儿年龄；过去24小时内的喂养次数及总喂养量（瓶喂/母乳喂养）；过去24小时内的换尿布次数及状态（湿润/脏污）。
  - 判断婴儿是否健康（健康/需要监测/存在问题），并附上简要原因及建议（例如：“确保每天至少喂养8次，尿布湿润或脏污的次数达到6次以上”）。

### 注意事项

- 本功能仅提供参考信息，不构成医疗建议。如有疑问，请咨询助产士、产科医生或儿科医生。

## 输出格式

使用清晰的标题和项目符号进行排版。首先列出两个判断结果（孕产妇是否安全？婴儿是否健康？），然后详细说明各项数据及分析结果。确保报告易于阅读，尽量控制在一页内显示。