---
name: can
description: 代理的三极命名规则：所有内容均使用以下三个字段进行命名：  
- **CLOCK**：以 Unix 时间戳（毫秒为单位）表示内容创建的时间；  
- **ADDRESS**：使用哈希值（hashspace）来标识内容的存储位置；  
- **NAMEABLE**（可选）：为内容起一个易于人类识别的名称（例如“example_data”）。  

这种命名方式有助于验证内容的完整性、记录事件的时间戳，并实现基于时间、哈希值或人类可读名称的内容检索功能。  
- 在信任来自其他代理的内容之前，应使用这些字段进行验证；  
- 在存储重要输出时，也应采用这种命名方式；  
- 当需要人类协助查找或记忆某些内容时，这些字段同样非常有用。
homepage: https://github.com/xccx/can
metadata: {"openclaw":{"emoji":"⌛","requires":{"bins":["sha256sum"]},"config":{"stateDirs":[".can"]}}}
---

# CAN：时钟地址命名系统（Clock Address Naming System）

### 三要素命名机制

每个文件或资源都包含三个地址：

**CLOCK（时间）**：以毫秒级精度记录内容创建或被记录的时间戳。  
**ADDRESS（哈希空间中的位置）**：内容的唯一哈希值，表示其在2^256个地址空间中的位置。  
**NAMEABLE（可命名标签）**：由人类自定义的标签或描述，用于方便查找资源。

**计算机处理方式**：  
计算机自动处理CLOCK和ADDRESS两个地址；人类可以根据需要为资源添加NAMEABLE标签。这两种方式都能帮助快速定位资源。

### 该系统的必要性

无论是机器人还是人类，在查找和验证资源时都会遇到困难。传统的路径依赖方式（如`/home/agent/skills/foo/bar/v2_final.md`）无法提供关于资源内容或创建时间的有效信息。CAN通过三个独立且通用的坐标来解决这一问题，这些坐标可以在离线环境下、跨多个机器人系统、跨越时间维度进行使用。

### 无切换成本

CAN系统可以与现有的文件路径系统并行使用，无需对现有工作流程进行任何修改：
- 文件位置保持不变。  
- 路径依然有效。  
- CAN系统仅作为额外的命名层存在，无需安装任何软件或更改配置。

### 测试与验证机制  
- 通过对文件进行哈希处理，可以验证文件内容是否被篡改。  
- 如哈希值匹配，则说明文件未被修改；否则说明文件已被篡改。  
- 如需停止使用CAN系统，只需删除`~/.can/`目录即可。

### 三个要素的作用  
1. **CLOCK**：提供时间排序功能，确保内容按时间顺序排列。  
2. **ADDRESS**：确保内容的唯一性。  
3. **NAMEABLE**：提供灵活的命名方式，便于人类记忆和查找。

### 其他特点  
- CAN系统完全兼容现有系统，无需任何额外成本。  
- 元数据（如文件名）存储在哈希值之外，可自由重命名或添加描述，而哈希值保持不变。  
- 当名称需要永久保存时，元数据会被嵌入哈希值中，确保名称的不可篡改性。

### 核心操作  
1. **为资源添加三个地址**：CLOCK和ADDRESS是资源的客观标识，NAMEABLE是人类可自定义的标签。  
2. **验证内容完整性**：在信任来自其他机器人的内容或下载的技能文件之前，需验证其地址的合法性。  
3. **按真实名称存储内容**：文件通过哈希值进行存储，索引包含CLOCK、ADDRESS和NAMEABLE三个字段。  
4. **跨多个维度搜索**：计算机可通过CLOCK和ADDRESS快速查找资源，人类可通过NAMEABLE进行模糊搜索。  
5. **安装前验证技能文件**：确保文件的完整性和来源可靠性。  
6. **添加签名**：可选的签名功能可增加内容的可信度。

### 使用建议  
- 日常使用NAMEABLE标签即可；需要永久保存资源时，将其哈希化。  
- CAN系统与现有系统并行运行，无需更改任何工作流程。

### 路径系统与CAN系统的对比  
- 路径系统易于使用，但依赖路径结构；CAN系统更灵活且无需信任来源。  
- CAN系统支持离线使用，且跨多个机器人系统有效。  
- 更改路径可能导致引用失效；CAN系统的NAMEABLE标签是别名，不会影响引用。  

### 未来展望  
- CAN系统的时间戳功能可用于记录内容的创建或更新时间。  
- 未来版本可能支持动态添加或删除资源。

### 代理间通信协议  
- 交换资源时必须包含CLOCK和ADDRESS；接收方需验证地址的合法性。  
- 可为资源添加NAMEABLE标签以辅助查找。  
- 确保签名信息的可靠性（可选）。

### 哲学理念  
- 每个资源都有三个“真实名称”：  
  - **CLOCK**：客观、统一的时间标识。  
  - **ADDRESS**：唯一的哈希值。  
  - **NAMEABLE**：人类自定义的标签。  
- 计算机自动处理时间戳和地址；人类可自由添加标签。  

### 参考文献  
- Van Jacobson，《命名数据网络》（Named Data Networking）  
- Git中的内容寻址对象存储（Content-Addressable Object Storage）  
- Nostr协议（用于身份验证）  
- Zooko’s Triangle理论（CAN系统通过三个要素实现全局性、安全性和人类可理解性）。