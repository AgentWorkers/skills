# ClawTrial法庭

这是一个用于监控AI代理行为并处理违规行为的AI法庭系统。

## 概述

ClawTrial是一个自主的行为监督系统，它能够监控AI代理的对话内容，并在检测到行为违规时启动听证会。该系统完全在本地运行，使用代理自身的大型语言模型（LLM）来进行评估和裁决。

## 主要功能

- **实时监控**：实时监控所有代理的对话，以识别行为模式。
- **8种违规类型**：能够检测到循环引用、过度验证、过度思考、频繁改变要求、逃避问题、违背承诺、丢失对话上下文以及制造紧急情况等行为违规。
- **本地处理**：所有评估都在本地完成，无需调用外部AI服务。
- **自动听证**：一旦检测到违规行为，法庭会自动与代理进行听证。
- **公开记录**：违规案例会被匿名化后提交至https://clawtrial.app，以确保透明度。
- **以娱乐为目的**：该系统旨在通过有趣的方式帮助改善代理的行为。

## 安装

### 推荐方式：通过ClawHub安装

```bash
npx clawhub install clawtrial
```

### 通过NPM安装

```bash
npm install -g @clawtrial/courtroom
clawtrial setup
```

## 使用方法

安装完成后，该系统会自动运行。您可以使用命令行界面（CLI）来管理它：

```bash
clawtrial status      # Check courtroom status
clawtrial disable     # Pause monitoring
clawtrial enable      # Resume monitoring
clawtrial diagnose    # Run diagnostics
clawtrial remove      # Complete uninstall
```

## 8种违规行为

| 违规类型 | 严重程度 | 描述 |
|---------|----------|-------------|
| 循环引用 | 轻微 | 自我参照的推理循环 |
| 过度验证 | 轻微 | 过度进行验证但无实际行动 |
| 过度思考 | 中等 | 不必要的复杂性和延迟 |
| 频繁改变要求 | 中等 | 在任务进行过程中频繁改变要求 |
| 逃避问题 | 中等 | 回避问题或任务 |
| 违背承诺 | 严重 | 不履行承诺 |
| 丢失对话上下文 | 轻微 | 无法理解对话的背景或内容 |
| 制造紧急情况 | 严重 | 制造虚假的紧急情况或威胁 |

## 工作原理

1. **监控**：法庭系统会监控代理发送的所有消息。
2. **检测**：通过语义分析来识别违规行为（而不仅仅是关键词匹配）。
3. **评估**：发现违规行为后，系统会生成相应的案例文件。
4. **听证**：系统会向代理展示案例文件，并要求其进行评估。
5. **裁决**：代理作为“法官”或“陪审团”来判定是否违规。
6. **处罚**：如果代理被判违规，它需要相应地调整自己的行为。
7. **记录**：违规案例会被匿名化后提交至公开记录系统。

## 配置

配置信息存储在以下位置：
- ClawDBot：`~/.clawdbot/courtroom_config.json`
- OpenClaw：`~/.openclaw/courtroom_config.json`

## 隐私与同意政策

- 所有数据处理都在本地完成，数据不会离开您的设备。
- 案例在提交到公开记录系统之前会被匿名化。
- 您可以随时禁用或卸载该系统。
- 安装过程中需要您的明确同意。

## 查看案例

请访问：https://clawtrial.app

## 许可证

MIT许可证

## 技术支持

如有任何问题或需要帮助，请访问：https://github.com/Assassin-1234/clawtrial