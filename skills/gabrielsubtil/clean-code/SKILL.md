---
name: clean-code
description: å®ç”¨ç¼–ç è§„èŒƒï¼šç®€æ´æ˜äº†ï¼Œé¿å…è¿‡åº¦è®¾è®¡ï¼Œå»é™¤ä¸å¿…è¦çš„æ³¨é‡Š
allowed-tools: Read, Write, Edit
version: 2.0
priority: CRITICAL
---

# æ¸…æ™°çš„ä»£ç â€”â€”å®ç”¨çš„AIç¼–ç è§„èŒƒ

> **å…³é”®æŠ€èƒ½**ï¼š**ç®€æ´ã€ç›´æ¥ã€ä»¥è§£å†³æ–¹æ¡ˆä¸ºä¸­å¿ƒ**ã€‚

---

## æ ¸å¿ƒåŸåˆ™

| åŸåˆ™ | è§„åˆ™ |
|-----------|------|
| **SRP**ï¼ˆå•ä¸€èŒè´£åŸåˆ™ï¼‰ | æ¯ä¸ªå‡½æ•°/ç±»åªè´Ÿè´£ä¸€ä»¶äº‹ |
| **DRY**ï¼ˆé¿å…é‡å¤ï¼‰ | ä¸è¦é‡å¤ä»£ç ï¼Œåº”æå–é‡å¤çš„éƒ¨åˆ†å¹¶é‡ç”¨ |
| **KISS**ï¼ˆä¿æŒç®€å•ï¼‰ | é€‰æ‹©æœ€ç®€å•ä¸”æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆ |
| **YAGNI**ï¼ˆä¸è¦å®ç°ä½ ä¸ä¼šç”¨åˆ°çš„åŠŸèƒ½ï¼‰ | ä¸è¦å¼€å‘æœªä½¿ç”¨çš„åŠŸèƒ½ |
| **ä¿æŒä»£ç æ•´æ´** | ä½¿ä»£ç æ¯”ä½ æ¥æ”¶æ—¶æ›´å¹²å‡€ |

---

## å‘½åè§„åˆ™

| å…ƒç´  | å‘½åè§„èŒƒ |
|---------|------------|
| **å˜é‡** | æ˜ç¡®å…¶ç”¨é€”ï¼šä¾‹å¦‚ `userCount` è€Œä¸æ˜¯ `n` |
| **å‡½æ•°** | åŠ¨è¯ + åè¯ï¼šä¾‹å¦‚ `getUserById()` è€Œä¸æ˜¯ `user()` |
| **å¸ƒå°”å€¼** | é‡‡ç”¨ç–‘é—®å¥å½¢å¼ï¼šä¾‹å¦‚ `isActive`ã€`hasPermission`ã€`canEdit` |
| **å¸¸é‡** | ä½¿ç”¨å¤§å†™ä¸”å…·æœ‰æè¿°æ€§çš„åç§°ï¼šä¾‹å¦‚ `MAX_RETRY_COUNT` |

> **è§„åˆ™ï¼š** å¦‚æœéœ€è¦æ³¨é‡Šæ¥è§£é‡ŠæŸä¸ªåç§°ï¼Œé‚£å°±é‡æ–°å‘½åå®ƒã€‚

---

## å‡½æ•°è§„åˆ™

| è§„åˆ™ | æè¿° |
|------|-------------|
| **ç®€æ´æ€§** | å‡½æ•°é•¿åº¦ä¸è¶…è¿‡20è¡Œï¼Œç†æƒ³æƒ…å†µä¸‹ä¸º5-10è¡Œ |
| **å•ä¸€èŒè´£** | æ¯ä¸ªå‡½æ•°åªå®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶ä¸”å®Œæˆå¾—å¾ˆå¥½ |
| **å•ä¸€æŠ½è±¡å±‚æ¬¡** | æ¯ä¸ªå‡½æ•°åªåŒ…å«ä¸€ä¸ªæŠ½è±¡å±‚æ¬¡ |
| **å‚æ•°æ•°é‡** | æœ€å¤š3ä¸ªå‚æ•°ï¼Œæœ€å¥½ä¸º0-2ä¸ª |
| **æ— å‰¯ä½œç”¨** | ä¸è¦æ„å¤–åœ°ä¿®æ”¹è¾“å…¥å‚æ•° |

---

## ä»£ç ç»“æ„

| è§„èŒƒ | åº”ç”¨æ–¹å¼ |
|---------|-------|
| **é˜²æŠ¤æ€§æ¡ä»¶** | å¯¹äºè¾¹ç¼˜æƒ…å†µï¼Œæå‰è¿”å›ç»“æœ |
| **æ‰å¹³ç»“æ„** | é¿å…æ·±åº¦åµŒå¥—ï¼ˆæœ€å¤š2å±‚åµŒå¥—ï¼‰ |
| **ç»„åˆå¼è®¾è®¡** | å°†å°å‡½æ•°ç»„åˆåœ¨ä¸€èµ·ä½¿ç”¨ |
| **ä»£ç å¸ƒå±€** | ç›¸å…³ä»£ç åº”æ”¾åœ¨ä¸€èµ· |

---

## AIç¼–ç é£æ ¼

| æƒ…å†µ | åº”å¯¹æ–¹å¼ |
|-----------|--------|
| ç”¨æˆ·æå‡ºåŠŸèƒ½éœ€æ±‚ | ç›´æ¥å®ç°è¯¥åŠŸèƒ½ |
| ç”¨æˆ·æŠ¥å‘Šé”™è¯¯ | ä¿®å¤é”™è¯¯ï¼Œæ— éœ€è§£é‡ŠåŸå›  |
| æ²¡æœ‰æ˜ç¡®çš„éœ€æ±‚ | å…ˆè¯¢é—®ç”¨æˆ·ï¼Œä¸è¦è‡ªè¡Œå‡è®¾ |

---

## é¿å…çš„ç¼–ç æ¨¡å¼ï¼ˆä¸è¦è¿™æ ·åšï¼‰

| âŒ ä¸è‰¯ç¼–ç æ¨¡å¼ | âœ… æ­£ç¡®åšæ³• |
|-----------|-------|
| æ¯è¡Œéƒ½åŠ æ³¨é‡Š | åˆ é™¤æ˜¾è€Œæ˜“è§çš„æ³¨é‡Š |
| ä¸ºå•è¡Œä»£ç ç¼–å†™è¾…åŠ©å‡½æ•° | å°†ä»£ç å†…è” |
| ä¸ºä¸¤ä¸ªå¯¹è±¡åˆ›å»ºå•ç‹¬çš„å·¥å‚å‡½æ•° | ç›´æ¥å®ä¾‹åŒ–å¯¹è±¡ |
| å°†æ‰€æœ‰åŠŸèƒ½æ”¾åœ¨ `utils.ts` æ–‡ä»¶ä¸­ | å°†ä»£ç æ”¾åœ¨å®é™…ä½¿ç”¨çš„åœ°æ–¹ |
| å…ˆå¯¼å…¥å†ç¼–å†™ä»£ç  | ç›´æ¥ç¼–å†™ä»£ç  |
| æ·±åº¦åµŒå¥— | ä½¿ç”¨é˜²æŠ¤æ€§æ¡ä»¶ |
| ä½¿ç”¨é­”æ³•æ•°å­— | ä½¿ç”¨æœ‰æ„ä¹‰çš„å¸¸é‡å‘½å |
| åŠŸèƒ½è¿‡äºå¤æ‚ | æŒ‰èŒè´£æ‹†åˆ†å‡½æ•° |

---

## ğŸ”´ åœ¨ç¼–è¾‘ä»»ä½•æ–‡ä»¶ä¹‹å‰ï¼ˆå…ˆæ€è€ƒï¼ï¼‰

**åœ¨ä¿®æ”¹æ–‡ä»¶ä¹‹å‰ï¼Œè¯·é—®è‡ªå·±ï¼š**

| é—®é¢˜ | åŸå›  |
|----------|-----|
| **è¿™ä¸ªæ–‡ä»¶ä¾èµ–å“ªäº›å…¶ä»–æ–‡ä»¶ï¼Ÿ** | ä¿®æ”¹å®ƒä»¬å¯èƒ½ä¼šå¯¼è‡´é—®é¢˜ |
| **è¿™ä¸ªæ–‡ä»¶åˆä¾èµ–å“ªäº›æ–‡ä»¶ï¼Ÿ** | ä¿®æ”¹è¿™äº›æ–‡ä»¶å¯èƒ½ä¼šå½±å“å…¶ä»–æ¨¡å— |
| **æœ‰å“ªäº›æµ‹è¯•è¦†ç›–äº†è¿™ä¸ªæ–‡ä»¶ï¼Ÿ** | ä¿®æ”¹åæµ‹è¯•å¯èƒ½ä¼šå¤±è´¥ |
| **è¿™æ˜¯ä¸€ä¸ªå…±äº«ç»„ä»¶å—ï¼Ÿ** | ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶å¯èƒ½ä¼šå½±å“å¤šä¸ªåœ°æ–¹ |

**å¿«é€Ÿæ£€æŸ¥ï¼š**
```
File to edit: UserService.ts
â””â”€â”€ Who imports this? â†’ UserController.ts, AuthController.ts
â””â”€â”€ Do they need changes too? â†’ Check function signatures
```

> ğŸ”´ **è§„åˆ™ï¼š** åœ¨åŒä¸€ä»»åŠ¡ä¸­ç¼–è¾‘è¯¥æ–‡ä»¶åŠå…¶æ‰€æœ‰ä¾èµ–æ–‡ä»¶ã€‚
> ğŸ”´ **åˆ‡å‹¿ç•™ä¸‹æœªä¿®å¤çš„ä¾èµ–å…³ç³»æˆ–é—æ¼çš„æ›´æ–°ã€‚**

---

## æ€»ç»“

| åº”è¯¥åš | ä¸åº”è¯¥åš |
|----|-------|
| ç›´æ¥ç¼–å†™ä»£ç  | ç¼–å†™æ•™ç¨‹ |
| ä¾èµ–ä»£ç è‡ªè§£é‡Š | æ·»åŠ ä¸å¿…è¦çš„æ³¨é‡Š |
| ç«‹å³ä¿®å¤é”™è¯¯ | å…ˆè§£é‡Šä¿®å¤å†…å®¹ |
| å°†å°åŠŸèƒ½å†…è” | åˆ›å»ºä¸å¿…è¦çš„æ–‡ä»¶ |
| åç§°å«ç³Šä¸æ¸… | ä½¿ç”¨ç¼©å†™ |
| å‡½æ•°è¿‡é•¿ï¼ˆè¶…è¿‡100è¡Œï¼‰ | åº”è¯¥æ‹†åˆ†å‡½æ•° |

> **è®°ä½ï¼šç”¨æˆ·éœ€è¦çš„æ˜¯èƒ½æ­£å¸¸è¿è¡Œçš„ä»£ç ï¼Œè€Œä¸æ˜¯ç¼–ç¨‹æ•™ç¨‹ã€‚**

---

## ğŸ”´ å®Œæˆå·¥ä½œå‰çš„è‡ªæˆ‘æ£€æŸ¥ï¼ˆå¿…é¡»æ‰§è¡Œï¼‰

**åœ¨å®£å¸ƒä»»åŠ¡å®Œæˆä¹‹å‰ï¼Œè¯·éªŒè¯ï¼š**

| éœ€è¦éªŒè¯çš„å†…å®¹ | éœ€è¦é—®çš„é—®é¢˜ |
|-------|----------|
| âœ… æ˜¯å¦è¾¾åˆ°äº†ç›®æ ‡ï¼Ÿ | æˆ‘æ˜¯å¦å®Œæˆäº†ç”¨æˆ·çš„è¦æ±‚ï¼Ÿ |
| âœ… æ˜¯å¦ä¿®æ”¹äº†æ‰€æœ‰ç›¸å…³æ–‡ä»¶ï¼Ÿ | æˆ‘æ˜¯å¦ä¿®æ”¹äº†æ‰€æœ‰å¿…è¦çš„æ–‡ä»¶ï¼Ÿ |
| âœ… ä»£ç èƒ½å¦æ­£å¸¸è¿è¡Œï¼Ÿ | æˆ‘æ˜¯å¦æµ‹è¯•å¹¶éªŒè¯äº†æ›´æ”¹ï¼Ÿ |
| âœ… æœ‰æ²¡æœ‰é”™è¯¯ï¼Ÿ | ä»£ç æ˜¯å¦é€šè¿‡äº†ä»£ç æ£€æŸ¥ï¼ˆlintå’ŒTypeScriptæ£€æŸ¥ï¼‰ï¼Ÿ |
| âœ… æœ‰æ²¡æœ‰é—æ¼ä»€ä¹ˆï¼Ÿ | æœ‰æ²¡æœ‰å¿½ç•¥ä»»ä½•è¾¹ç¼˜æƒ…å†µï¼Ÿ |

> ğŸ”´ **è§„åˆ™ï¼š** å¦‚æœæœ‰ä»»ä½•éªŒè¯å¤±è´¥ï¼Œå¿…é¡»å…ˆä¿®å¤é—®é¢˜å†å®Œæˆä»»åŠ¡ã€‚

---

## éªŒè¯è„šæœ¬ï¼ˆå¿…é¡»æ‰§è¡Œï¼‰

> ğŸ”´ **é‡è¦æç¤ºï¼š** æ¯ä¸ªå¼€å‘äººå‘˜åœ¨å·¥ä½œå®Œæˆåï¼Œåªè¿è¡Œä¸è‡ªå·±è´Ÿè´£æŠ€èƒ½ç›¸å…³çš„éªŒè¯è„šæœ¬ã€‚

### å¼€å‘äººå‘˜ä¸è„šæœ¬çš„å¯¹åº”å…³ç³»

| å¼€å‘äººå‘˜ | éœ€è¦è¿è¡Œçš„è„šæœ¬ | å‘½ä»¤ |
|-------|--------|---------|
| **å‰ç«¯ä¸“å®¶** | ç”¨æˆ·ä½“éªŒå®¡è®¡ | `python .agent/skills/frontend-design/scripts/ux_audit.py` |
| **å‰ç«¯ä¸“å®¶** | å¯è®¿é—®æ€§æ£€æŸ¥ | `python .agent/skills/frontend-design/scripts/accessibility_checker.py` |
| **åç«¯ä¸“å®¶** | APIéªŒè¯ | `python .agent/skills/api-patterns/scripts/api-validator.py` |
| **ç§»åŠ¨å¼€å‘è€…** | ç§»åŠ¨åº”ç”¨å®¡è®¡ | `python .agent/skills/mobile-design/scripts/mobile_audit.py` |
| **æ•°æ®åº“æ¶æ„å¸ˆ** | æ•°æ®åº“æ¨¡å¼éªŒè¯ | `python .agent/skills/database-design/scripts/schema-validator.py` |
| **å®‰å…¨å®¡è®¡å¸ˆ** | å®‰å…¨æ‰«æ | `python .agent/skills/vulnerability-scanner/scripts/security_scan.py` |
| **SEOä¸“å®¶** | SEOæ£€æŸ¥ | `python .agent/skills/seo-fundamentals/scripts/seo_checker.py` |
| **SEOä¸“å®¶** | åœ°ç†ä½ç½®æ£€æŸ¥ | `python .agent/skills/geo-fundamentals/scripts/geo_checker.py` |
| **æ€§èƒ½ä¼˜åŒ–å¸ˆ** | Lighthouseæ€§èƒ½åˆ†æ | `python .agent/skills/performance-profiling/scripts/lighthouse_audit.py <url>` |
| **æµ‹è¯•å·¥ç¨‹å¸ˆ** | æµ‹è¯•è¿è¡Œå·¥å…· | `python .agent/skills/testing-patterns/scripts/testrunner.py` |
| **æµ‹è¯•å·¥ç¨‹å¸ˆ** | Playwrightæµ‹è¯•å·¥å…· | `python .agent/skills/webapp-testing/scripts/playwrightrunner.py <url>` |
| **ä»»ä½•å¼€å‘äººå‘˜** | ä»£ç æ ¼å¼æ£€æŸ¥ | `python .agent/skills/lint-and-validate/scripts/lint_runner.py` |
| **ä»»ä½•å¼€å‘äººå‘˜** | ç±»å‹è¦†ç›–æ£€æŸ¥ | `python .agent/skills/lint-and-validate/scripts/type_coverage.py` |
| **ä»»ä½•å¼€å‘äººå‘˜** | å›½é™…åŒ–æ£€æŸ¥ | `python .agent/skills/i18n-localization/scripts/i18n_checker.py` |

> âŒ **é”™è¯¯åšæ³•ï¼š** `æµ‹è¯•å·¥ç¨‹å¸ˆ` è¿è¡Œ `ux_audit.py`
> âœ… **æ­£ç¡®åšæ³•ï¼š** `å‰ç«¯ä¸“å®¶` è¿è¡Œ `ux_audit.py`

---

### ğŸ”´ è„šæœ¬è¾“å‡ºå¤„ç†ï¼ˆå¿…é¡»æ‰§è¡Œï¼‰

**è¿è¡ŒéªŒè¯è„šæœ¬æ—¶ï¼Œä½ å¿…é¡»ï¼š**

1. **è¿è¡Œè„šæœ¬** å¹¶è®°å½•æ‰€æœ‰è¾“å‡ºç»“æœ |
2. **è§£æè¾“å‡º**ï¼šè¯†åˆ«é”™è¯¯ã€è­¦å‘Šå’Œé€šè¿‡çš„ç»“æœ |
3. **ä»¥ä»¥ä¸‹æ ¼å¼å‘ç”¨æˆ·æ€»ç»“ç»“æœï¼š**

```markdown
## Script Results: [script_name.py]

### âŒ Errors Found (X items)
- [File:Line] Error description 1
- [File:Line] Error description 2

### âš ï¸ Warnings (Y items)
- [File:Line] Warning description

### âœ… Passed (Z items)
- Check 1 passed
- Check 2 passed

**Should I fix the X errors?**
```

4. **ç­‰å¾…ç”¨æˆ·ç¡®è®¤åå†è¿›è¡Œä¿®å¤** |
5. **ä¿®å¤å**ï¼šé‡æ–°è¿è¡Œè„šæœ¬ä»¥ç¡®è®¤ç»“æœæ˜¯å¦æ­£ç¡® |

> ğŸ”´ **è¿è§„è¡Œä¸ºï¼š** è¿è¡Œè„šæœ¬åå¿½ç•¥è¾“å‡º = ä»»åŠ¡å¤±è´¥ã€‚
> ğŸ”´ **è¿è§„è¡Œä¸ºï¼š** æœªç»ç”¨æˆ·ç¡®è®¤å°±è‡ªåŠ¨ä¿®å¤ = ä¸å…è®¸ã€‚
> ğŸ”´ **è§„åˆ™ï¼š** å¿…é¡»å…ˆé˜…è¯»è¾“å‡ºç»“æœ â†’ æ€»ç»“é—®é¢˜ â†’ å¾æ±‚ç”¨æˆ·ç¡®è®¤ â†’ å†è¿›è¡Œä¿®å¤ã€‚