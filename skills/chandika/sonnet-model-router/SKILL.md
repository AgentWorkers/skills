---
name: model-router
description: OpenClaw的智能模型路由功能：根据任务的复杂性将任务路由到Sonnet 4.6或Opus 4.6。这种方式能够实现更快的响应速度、更少的速率限制，并延长Claude子系统的使用时长。
version: 1.0.0
homepage: https://github.com/chandika/openclaw-model-router
metadata: {"clawdbot":{"emoji":"🧭"}}
---
# OpenClaw的模型路由器

将合适的模型分配给相应的任务。日常任务使用Sonnet 4.6，复杂任务使用Opus。

## 我为何开发这个工具

我的Claude订阅即将达到使用量上限。Sonnet 4.6在处理大多数任务时的表现与Opus相当，但模型容量仅为100万条上下文数据。继续为所有任务使用同一款昂贵的模型已经不再合理。

## 如何阅读基准测试结果表

不要将这些表格理解为“哪种模型更好”，而应将其视为一份**路由表**。每行都说明了应该将哪个模型分配给哪个任务。

### Sonnet 4.6的优势

| 基准测试 | 测量指标 | Sonnet 4.6 | Opus 4.6 |
|-----------|-----------------|------------|----------|
| OSWorld | 计算机使用/浏览器操作 | **72.5%** | 66.3% |
| Finance Agent v1.1 | 金融分析 | **63.3%** | 60.1% |
| GDPval-AA Elo | 办公室任务 | **1633** | 1606 |
| Pace Insurance | 计算机使用准确性 | **94%** | — |

**→ 应将任务分配给Sonnet：** 浏览器自动化、文件操作、研究、草稿编写、计划任务、计算机使用、金融分析、办公工作。

### Opus 4.6的优势

| 基准测试 | 测量指标 | Sonnet 4.6 | Opus 4.6 |
|-----------|-----------------|------------|----------|
| Terminal-Bench 2.0 | 终端编程 | 59.1% | **65.4%** |
| BrowseComp | 代理搜索 | 74.7% | **84.0%** |
| ARC-AGI-2 | 新问题解决 | 58.3% | **68.8%** |
| GPQA Diamond | 研究生水平推理 | 89.9% | **91.3%** |

**→ 应将任务分配给Opus：** 架构决策、深度调试、复杂的多步骤规划、新问题解决、高级搜索任务。

### 大致平分秋色

| 基准测试 | 测量指标 | Sonnet 4.6 | Opus 4.6 |
|-----------|-----------------|------------|----------|
| SWE-bench Verified | 代理编程 | 79.6% | 80.8% |
| OfficeQA | 文档质量检查 | 结果相同 | 结果相同 |

**→ 两种模型均可使用。** 默认情况下推荐使用Sonnet（速度更快，对使用量上限的影响更小）。

## 定价信息

- **Sonnet 4.6**：每百万个输入token费用为3美元，每百万个输出token费用为15美元
- **Opus 4.6**：每百万个输入token费用为15美元，每百万个输出token费用为75美元
- **Sonnet便宜5倍** —— 但对于Claude Pro/Max订阅用户来说，真正的优势在于速度和使用量上限的限制，而非成本。

## 先决条件

- **OpenClaw v2026.2.17或更高版本** —— Sonnet 4.6不支持旧版本。请先更新：
  - 使用Docker：`docker pull openclaw/openclaw:latest`，然后重新创建容器
  - 通过Git安装：`openclaw update`
- **Claude Max订阅或API密钥** —— Sonnet 4.6需要通过你的认证token访问。Claude Max的OAuth token在2026年2月18日获得了对Sonnet 4.6的支持。如果`anthropic/claude-sonnet-4-6`被拒绝，請更新OpenClaw并重新认证。
- 如果你的订阅计划中尚未包含Sonnet 4.6，可以使用Sonnet 4.5作为备用模型。

## OpenClaw的配置方法

### 推荐配置：主模型使用Opus，辅助模型使用Sonnet

将需要最佳推理能力的任务分配给Opus；将后台任务、定时任务和生成的子任务分配给Sonnet。

在`openclaw.json`文件中添加以下配置：

```json
{
  "agents": {
    "defaults": {
      "subagents": {
        "model": "anthropic/claude-sonnet-4-6"
      }
    }
  }
}
```

或者通过命令告诉你的代理：“将子模型设置为Sonnet 4.6”。

这样设置后，代理就能智能地选择合适的模型来执行任务了。

### 另一种配置：默认使用Sonnet，需要时使用Opus

如果你使用的是20美元的Pro订阅计划，并希望充分利用系统性能：

```json
{
  "agents": {
    "defaults": {
      "model": {
        "primary": "anthropic/claude-sonnet-4-6"
      }
    }
  }
}
```

那么在需要深度推理时使用`/model anthropic/claude-opus-4-6`模型，需要切换回默认模型时使用`/model default`。

## 关键要点

现在的技能和模型已经足够强大，可以让你自主选择合适的工具。如果你为代理提供模型选择的功能，它们就能做出正确的决策。

使用更强大的模型来为具体任务选择合适的辅助模型——这就是这个工具的作用。

## 两种使用场景

**生产系统**（API、SaaS产品）：需要进行充分的评估，使用真实数据来衡量模型的适用性，切勿走捷径。

**个人代理工作流程**（OpenClaw，日常使用）：如果基准测试结果相差不大，那么当前配置就足够用了。只要结果足够接近最佳值即可。

这个工具适用于后者；对于生产环境，建议自行构建评估体系。