---
name: council-builder
description: "**为 OpenClaw 构建个性化的 AI 代理团队**  
该服务会与用户进行访谈，分析其工作流程，然后创建具有独特个性、自我提升机制以及代理间协作能力的 AI 代理。  
**适用场景：**  
- 用户希望创建一个 AI 代理团队或顾问委员会  
- 需要构建具有特定功能的 AI 代理  
- 需要设置多代理协同工作流程  
- 希望为自身工作流程定制 AI 代理  
- 希望获得专业的 AI 辅助工具  
**不适用场景：**  
- 用户仅需要单一技能（请使用 `skill-creator`）  
- 用户希望安装现有的技能（请使用 `clawhub`）  
- 用户仅希望与现有的 AI 代理进行聊天（请直接与它们交互）。"
---
# Council Builder

根据用户的具体需求，构建一个由专门的人工智能代理组成的团队。每个代理都具有独特的个性、自我提升能力以及明确的协作规则。

## 工作流程

### 第1阶段：需求分析

与用户进行面谈，了解他们的需求。每次提问不超过2-3个问题。

**第1轮 - 个人信息：**
- 您从事什么工作？（职业、主要活动、所在行业）
- 您每天使用哪些工具和平台？

**第2轮 - 难点：**
- 哪些任务占用了您大部分时间？
- 在哪些方面您最需要帮助？

**第3轮 - 偏好：**
- 您使用哪种（或哪些）编程语言？（用于代理之间的沟通）
- 您希望代理覆盖哪些特定领域？（编码、内容创作、财务、研究、日程安排等）

**可选 - 历史数据分析：**
如果用户有使用OpenClaw的历史记录，请分析其中的数据模式：
- 检查`memory/`文件中的重复性任务
- 查看现有的工作空间结构中的活跃项目
- 检查已安装的技能以了解当前的能力

在确认完全理解用户需求之前，不要进入第2阶段。如果有任何不清楚的地方，请继续提问。

### 第2阶段：规划

根据需求分析结果，设计代理团队：

1. **确定代理数量**：3-7个代理。数量越少越好。每个代理都应有其存在的必要性。
2. **定义每个代理的详细信息**：名称、角色、专长、个性特点。
3. **规划代理之间的数据协作方式**：哪些代理负责向哪些代理提供数据。
4. 以清晰的表格形式向用户展示规划方案：

```
| Agent | Role | Specialties | Personality |
|-------|------|-------------|-------------|
| [Name] | [One-line role] | [Key areas] | [Personality angle] |
```

5. 在开始构建之前，获得用户的明确批准。允许根据需要进行调整。

**命名代理：**
- 为代理起一个易于记忆的、简短的名称（不要使用像“Agent 1”这样的通用名称）。
- 名称应能体现其角色，同时具有“角色”的感觉。
- 可以参考用户喜欢的主题来命名，或者选择独立的、有特色的名称。
- 请参阅`references/example-councils.md`以获取不同行业的命名示例和完整团队构建方案。

### 第3阶段：构建

首先运行初始化脚本，创建目录结构：
```bash
./scripts/init-council.sh <workspace-path> <agent-name-1> <agent-name-2> ...
```

然后，为每个经过批准的代理填充相应的文件。在编写每个代理的`SOUL.md`文件之前，请先阅读`references/soul-philosophy.md`。

**每个代理的目录结构：**
```
agents/[agent-name]/
├── SOUL.md           # Personality, role, rules (see soul-philosophy.md)
├── AGENTS.md         # Agent-specific coordination rules
├── memory/           # Agent's memory directory
├── .learnings/       # Self-improvement logs
│   ├── LEARNINGS.md
│   ├── ERRORS.md
│   └── FEATURE_REQUESTS.md
└── [workspace dirs]  # Role-specific output directories
```

**每个代理的`SOUL.md`文件：**
1. 阅读`references/soul-philosophy.md`以获取编写指南。
2. 阅读`assets/SOUL-TEMPLATE.md`以了解文件结构。
3. 根据该代理的角色和个性进行个性化定制。
4. 每个代理的`SOUL.md`文件都必须是独一无二的，不得复制其他代理的文件。

**每个代理的`AGENTS.md`文件：**
1. 以`assets/AGENT-AGENTS-TEMPLATE.md`为基础进行编写。
2. 定义该代理需要读取和写入的文件。
3. 规定与其他代理之间的数据传递规则。

**`.learnings/`文件夹：**
1. 复制`assets/LEARNINGS-TEMPLATE.md`中的文件结构。
2. 创建空的日志文件。

**根目录下的`AGENTS.md`文件：**
1. 以`assets/ROOT-AGENTS-TEMPLATE.md`为基础进行编写。
2. 创建所有代理的路由表。
3. 定义文件协作规则。
4. 设置执行规则。

### 第4阶段：自我提升机制的设置

阅读`references/self-improvement.md`以了解整个系统的自我提升机制。

每个代理都具备内置的自我提升功能：
- 包含适当模板的`.learnings/`文件夹。
- `SOUL.md`文件中包含错误检测和自我改进的触发机制。
- 设有学习提升的规则（将学习成果更新到`SOUL.md`、`AGENTS.md`和`TOOLS.md`文件中）。
- 通过`shared/learnings/CROSS-AGENT.md`实现代理之间的学习共享。
- 提供定期复习的指导。

### 第5阶段：验证

在完成所有构建工作后：
1. 向用户列出所有创建的文件。
2. 展示代理的路由表。
3. 展示文件协作图。
4. 确认所有内容都已正确设置。

### 第6阶段：扩展（按需）

当用户要求添加、修改或删除代理时：

**添加代理：**
1. 进行简短的需求分析：这个代理需要执行哪些任务？
2. 创建完整的代理结构（步骤与第3阶段相同）。
3. 更新根目录下的`AGENTS.md`中的路由表。
4. 更新文件协作图。

**修改代理：**
1. 阅读当前的`SOUL.md`文件。
2. 在保持个性一致性的前提下进行修改。
3. 如有需要，更新相关的协作规则。

**删除代理：**
1. 征求用户的确认。
2. 将代理的职责重新分配给其他代理。
3. 更新路由表和文件协作图。
4. 将代理的相关文件移动到“回收站”（切勿直接删除）。

## 关键原则

1. **每个代理都是一个独立的“角色”，而不是简单的模板。** 不同的代理具有不同的个性、语音和优势。如果两个代理的声音相似，那么其中一个代理就没有存在的必要。
2. **所有代理的文档中都不得使用公司统一的语言。** 请参阅`references/soul-philosophy.md`中的规定。
3. **自我提升是必须的。** 每个代理都需要记录自己的错误并从中学习。详情请参阅`references/self-improvement.md`。
4. **通过文件进行协作。** 代理之间通过共享目录进行沟通，而不是直接发送消息。每个代理都有明确的读写权限范围。
5. **所有文件都要简洁明了。** `SOUL.md`文件、代理文件和模板都应保持简洁性。
6. **用户的主要助手是整个系统的协调者。** 是用户负责任务分配，而不是代理本身。
7. **语言适应性。** `SOUL.md`文件应使用用户的工作语言编写。无论是阿拉伯语、英语还是双语，只要适合用户的使用习惯即可。