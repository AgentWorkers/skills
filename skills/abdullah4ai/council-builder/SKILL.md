---
name: council-builder
description: "**为 OpenClaw 构建个性化的 AI 代理团队**  
该服务会与用户进行深入交流，分析其工作流程，随后创建具有独特性格的 AI 代理。这些代理具备不同的处理能力（快速响应/深度分析/战略规划），并支持每周的学习与优化机制。同时，系统会生成详细的视觉架构文档以及代理间的协作机制。  
**适用场景：**  
- 用户希望组建 AI 代理团队或委员会  
- 需要定制化的 AI 助手来辅助工作流程  
- 希望设置多代理协同的工作模式  
**不适用场景：**  
- 用户仅需要单一技能（可使用 “skill-creator” 功能）  
- 需要安装现有的 AI 技能（请使用 “clawhub”）  
- 仅希望与现有的 AI 代理进行简单对话（直接通过相应渠道进行沟通即可）"
---
# Council Builder

根据用户的实际需求，构建一个由专门的人工智能代理组成的团队。每个代理都具有独特的个性、自我提升能力以及明确的协作规则。

## 工作流程

### 第1阶段：需求分析

与用户进行访谈，了解他们的需求。每次最多提出2-3个问题。

**第1轮 - 用户身份：**
- 您从事什么工作？（职业、主要活动、所在行业）
- 您每天使用哪些工具和平台？

**第2轮 - 难点：**
- 哪些任务占用了您最多的时间？
- 在哪些方面您最需要帮助？

**第3轮 - 偏好：**
- 您使用哪种（或哪些）编程语言？（用于代理之间的沟通）
- 您希望代理覆盖哪些特定领域？（编码、内容处理、财务、研究、日程安排等）

**可选 - 历史数据分析：**
如果用户有使用OpenClaw的历史记录，请分析其中的一些模式：
- 查看`memory/`文件中的重复性任务
- 检查现有工作空间结构中的活跃项目
- 查看已安装的技能以了解当前的能力

在确保完全理解用户需求之前，不要进入第2阶段。如果有任何不清楚的地方，请继续提问。

### 第2阶段：规划

根据需求分析结果，设计代理团队：

1. **确定代理数量**：3-7个代理。数量越少越好。每个代理都应有其存在的意义。
2. **定义每个代理**：名称、角色、专长、个性特点
3. **规划代理之间的协作关系**：确定哪些代理负责向哪些代理传递数据
4. 以清晰的表格形式向用户展示规划方案：

```
| Agent | Role | Specialties | Personality |
|-------|------|-------------|-------------|
| [Name] | [One-line role] | [Key areas] | [Personality angle] |
```

5. 在开始构建之前，获取用户的明确批准。允许根据需要进行调整。

**为代理命名：**
- 为它们起一个易于记忆的、简短的名称（不要使用像“Agent 1”这样的通用名称）
- 名称应能体现其角色，但同时具有“角色”的感觉
- 名称可以参考用户喜欢的主题，或者选择独立的、有特色的名称
- 请参阅`references/example-councils.md`以获取不同行业的命名示例和完整团队构建方案

### 第3阶段：构建

首先运行初始化脚本，创建目录框架：
```bash
./scripts/init-council.sh <workspace-path> <agent-name-1> <agent-name-2> ...
```

然后，为每个经过批准的代理填充相应的文件。在编写每个代理的`SOUL.md`文件之前，请先阅读`references/soul-philosophy.md`。

**每个代理的目录结构：**
```
agents/[agent-name]/
├── SOUL.md           # Personality, role, rules (see soul-philosophy.md)
├── AGENTS.md         # Agent-specific coordination rules
├── memory/           # Agent's memory directory
├── .learnings/       # Self-improvement logs
│   ├── LEARNINGS.md
│   ├── ERRORS.md
│   └── FEATURE_REQUESTS.md
└── [workspace dirs]  # Role-specific output directories
```

**每个代理的`SOUL.md`文件内容：**
1. 阅读`references/soul-philosophy.md`以获取写作指南
2. 阅读`assets/SOUL-TEMPLATE.md`以了解文件结构
3. 根据该代理的角色和个性进行个性化定制
4. 每个代理的`SOUL.md`文件都必须是独一无二的，不得相互复制

**每个代理的`AGENTS.md`文件内容：**
1. 以`assets/AGENT-AGENTS-TEMPLATE.md`为基础进行编写
2. 定义该代理的数据来源和输出目标
3. 规定与其他代理之间的协作规则

**`.learnings/`文件的内容：**
1. 复制`assets/LEARNINGS-TEMPLATE.md`中的文件结构
2. 初始化空的日志文件

**根目录下的`AGENTS.md`文件内容：**
1. 以`assets/ROOT-AGENTS-TEMPLATE.md`为基础进行编写
2. 创建所有代理的路由表
3. 定义文件协作规则
4. 设置执行规则
5. 设置适应性模型路由阈值（快速、思考、深入、策略性）

### 第4阶段：适应性路由设置

阅读`references/adaptive-routing.md`。

在根目录下的`AGENTS.md`文件中设置适应性路由规则：
- 默认路由方式为“快速”模式
- 为“思考”、“深入”和“策略性”模式设置升级阈值
- 在经过复杂推理后，自动切换回“快速”模式
- 设置高级模型的速率限制机制

同时创建可视化架构文档：
- 使用`assets/ADAPTIVE-ROUTING-LEARNING-TEMPLATE.md`生成`docs/architecture/ADAPTIVE-ROUTING-LEARNING.md`文档

### 第5阶段：自我提升机制设置

阅读`references/self-improvement.md`以了解整个系统的自我提升机制。

每个代理都具备内置的自我提升功能：
- 包含`.learnings/`目录，其中包含相应的模板
- `SOUL.md`文件中包含错误检测和修正触发机制
- 设定晋升规则（学习内容 → `SOUL.md` / `AGENTS.md` / `TOOLS.md`）
- 通过`shared/learnings/CROSS-AGENT.md`实现代理间的学习共享
- 提供定期复习指导
- 每周的学习数据存储在`memory/learning-metrics.json`文件中（使用`assets/LEARNING-METRICS-TEMPLATE.json`模板）

### 第6阶段：验证

在完成所有构建工作后：
1. 列出所有生成的文件
2. 向用户展示路由表
3. 展示协作关系图
4. 确认所有内容都已正确设置

### 第7阶段：扩展（按需）

当用户请求添加、修改或删除代理时：

**添加代理：**
1. 进行简短的需求分析：这个代理需要执行什么任务？
2. 创建完整的代理结构（步骤与第3阶段相同）
3. 更新根目录下的`AGENTS.md`中的路由表
4. 更新协作关系图

**修改代理：**
1. 阅读当前的`SOUL.md`文件
2. 在保持个性一致性的前提下进行修改
3. 如有需要，更新相关的协作规则

**删除代理：**
1. 征求用户确认
2. 将代理的职责重新分配给其他代理
3. 更新路由表和协作关系图
4. 将代理文件移至“待删除”文件夹（切勿直接删除）

## 关键原则

1. **每个代理都是一个独立的“角色”，而不是简单的模板。** 不同的代理具有不同的个性、语音和优势。如果两个代理的声音相同，那么其中一个就没有存在的必要。
2. **所有`SOUL.md`文件中禁止使用公司统一的语言。** 请参阅`references/soul-philosophy.md`中的规定。
3. **自我提升是强制性的。** 每个代理都需要记录错误并从中学习。详见`references/self-improvement.md`。
4. **通过文件进行协作。** 代理之间通过共享目录进行沟通，而不是直接发送消息。每个代理都有明确的读写权限。
5. **所有文件都要简洁明了。** `SOUL.md`、`AGENTS.md`文件以及模板都要简洁易懂。
6. **用户的主要助手是整个系统的协调者。** 是用户负责任务的分配，而不是代理本身。
7. **语言自适应。** `SOUL.md`文件应使用用户的工作语言编写，可以是阿拉伯语、英语或双语。
8. **默认采用适应性路由机制。** 所有的代理团队都应包含快速、思考、深入和策略性模式的路由设置。
9. **以数据指标为导向。** 每周的学习进度需要通过`memory/learning-metrics.json`文件进行量化评估。
10. **架构必须可视化。** 生成简洁的架构文档`docs/architecture/ADAPTIVE-ROUTING-LEARNING.md`，用于培训和新员工入职。