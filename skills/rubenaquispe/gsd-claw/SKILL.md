---
name: GSD Claw
description: 针对大型项目，采用基于规范的开发（Spec-driven development）模式，并内置了验证机制。适用于用户需要规划项目、明确功能范围、有条理地构建软件系统的情况。用户可以使用“GSD模式”（Spec-driven mode）来指导开发流程，具体步骤包括：讨论（Discuss）→ 规划（Plan）→ 执行（Execute）→ 验证（Verify）。该模式基于 glittercowboy 开发的 GSD 系统（采用 MIT 许可协议）。不适用于快速解答问题或处理简单任务。
---

# GSD Claw

这是一个专为 OpenClaw 设计的规范驱动开发系统，它通过结构化的工作流程将模糊的想法转化为可验证、可执行的实现方案。

**基于：** [glittercowboy/get-shit-done](https://github.com/glittercowboy/get-shit-done)  
**原始作者：** Lex Christopherson (@glittercowboy)  
**许可证：** MIT

## 使用场景

当用户提出以下请求时，可以使用该系统：  
- “让我们规划一下 [项目/功能]”  
- “我想构建 [某个东西]”  
- “评估一下 [项目名称] 的范围”  
- “启用 GSD 模式” 或 “采用规范驱动的开发方式”  
- “规划并执行 [任务]”  
- 任何需要系统化管理的复杂项目  

**不适用场景：**  
- 快速查询  
- 简单任务  
- 聊天交流  

## 核心理念  

源自原始的 GSD 系统：  
> “问题的根源在于系统本身，而非开发流程。”  

**核心原则：**  
1. **计划本身就是可执行的指令**——而不是需要解释的文档。  
2. **内置验证机制**——每个任务都有明确的验收标准。  
3. **每个任务都有独立的上下文**——子代理确保上下文信息不会丢失。  
4. **单人开发者 + 人工智能**——无需复杂的团队协作流程。  

## 工作流程概述  

---

## 第一阶段：讨论  
**目的：** 在进行任何规划之前，明确用户的愿景。  

**流程：**  
1. 询问项目的目标（我们要构建什么？）  
2. 根据项目领域识别潜在的模糊或不确定之处：  
   - 视觉界面元素 → 布局、交互方式、空态显示  
   - API 接口 → 响应格式、错误处理方式  
   - 内容结构 → 信息组织方式、语言风格、内容深度  
3. 对每个问题持续追问，直到用户满意为止。  
4. 将讨论结果记录在 `{project}/.gsd/CONTEXT.md` 文件中。  

**输出结构：**  
（具体结构内容请参考原文中的 `{project}/.gsd/CONTEXT.md` 模板。）  

**规则：** 永远不要假设用户的意图，务必通过提问来确认。  

---

## 第二阶段：规划  
**目的：** 制定具有内置验证机制的可执行任务规范。  

### 研究（可选但推荐）  
启动子代理来调查：  
- 可能的技术实现方案  
- 需要避免的陷阱  
- 该领域的最佳实践  

**保存路径：** `{project}/.gsd/RESEARCH.md`  

### 制定计划  
每个计划最多包含 2-3 个任务（以保持工作效率）。  

**任务 XML 结构：**  
（具体结构内容请参考原文中的 `{project}/.gsd/plans/{phase}-{N}-PLAN.md` 模板。）  

**任务类型：**  
- `type="auto"`：代理自动执行任务。  
- `type="checkpoint:verify"`：用户需要验证任务结果。  
- `type="checkpoint:decision"`：用户需要做出决策。  

### 计划验证  
在执行任务之前，需验证以下内容：  
- 任务是否具体且可执行。  
- 每个任务是否都有明确的验证标准和完成标准。  
- 任务范围是否与 `CONTEXT.md` 中的规划一致。  
- 代码结构是否过于复杂（避免企业级开发中的冗余）。  

**保存路径：** `{project}/.gsd/plans/{phase}-{N}-PLAN.md`  

---

## 第三阶段：执行  
**目的：** 逐步执行任务，并处理可能出现的偏差。  

### 执行规则：**  
1. 按照计划中的指令逐个执行任务。  
2. 在继续执行前，验证每个任务是否已完成。  
3. 自动应用相应的偏差处理规则。  
4. 记录所有执行过程中的细节。  

### 偏差处理规则（自动应用）：  
| 规则 | 触发条件 | 应采取的行动 | 权限要求 |  
|------|---------|--------|------------|  
| **错误** | 程序异常、错误、安全问题 | 自动修复 → 验证 → 记录问题 | 自动执行 |  
| **关键组件缺失** | 缺少必要的验证机制、授权处理、错误处理功能 | 添加缺失组件 → 验证 → 记录问题 | 自动执行 |  
| **阻碍执行** | 缺少依赖项、类型错误等 | 修复问题 → 继续执行 | 自动执行 |  
| **架构相关问题** | 新增数据表、数据库模式变更、API 不兼容 | 停止执行 → 询问用户意见 | 由用户决定下一步行动 |  

**架构相关规则的具体格式：**  
（具体格式内容请参考原文中的 `{code_block_3}` 模板。）  

### 保持上下文更新  
在多任务执行过程中，为每个子代理提供最新的上下文信息（约 200K 字节）。  
这样可以确保用户始终能获得清晰的信息，避免因上下文过时而导致的质量下降。  

### 任务完成  
完成每个任务后：  
1. 验证任务是否已完成。  
2. （如适用）提交代码变更。  
3. 将执行结果记录下来。  
4. 进入下一个任务。  

---

## 第四阶段：验证  
**目的：** 确认最终成果是否能够正常使用。  

### 自动化验证：**  
- 对每个任务执行相应的验证命令。  
- 检查相关文件是否存在。  
- （如适用）运行测试。  

### 用户验收  
引导用户逐一查看可测试的成果：  
1. 说明用户现在应该能够实现的功能。  
2. 逐一展示每个功能。  
3. 获取用户的反馈（“可以”/“不行”或问题描述）。  
4. 如果发现问题，立即制定修复计划。  

**如果所有测试都通过，则标记该阶段完成。**  
**如果发现问题，则不要手动调试，而是立即制定修复计划并重新执行相关任务。**  

## 文件结构  
（具体文件结构请参考原文中的文件目录说明。）  

## 快速模式  
对于不需要完整规划的小型任务：  
**触发方式：** “快速完成：[任务描述]”  

**流程：**  
1. 跳过研究阶段和讨论环节。  
2. 创建包含 1-3 个任务的简单计划。  
3. 自动执行任务并处理可能出现的偏差。  
4. 完成后进行验证并提交代码。  

**适用场景：**  
- 修复漏洞  
- 添加小功能  
- 修改配置设置  
- 一次性完成的任务  

---

## 状态管理  
**STATE.md 模板：**  
（具体模板内容请参考原文中的 `{project}/.gsd/STATE.md` 模板。）  
在每次重要操作后更新 `STATE.md` 文件，以便随时了解项目状态。  

## 应避免的错误做法（已被禁止）  
**源自原始 GSD 的不良实践：**  
❌ **企业级开发流程**（如故事点管理、冲刺会议、人工时间估算等）  
❌ **表述模糊的任务**（如“让我……”、“我很乐意……”等）  
❌ **含糊不清的表述方式**  

**推荐的做法：**  
使用直接、明确、技术性强的沟通语言。  

## 与 OpenClaw 的适配  
**原始 GSD 系统** 与 **OpenClaw 的差异：**  
| GSD | OpenClaw |  
|-----|----------|  
| 使用 `/gsd:command` 命令触发任务 | 使用自然语言触发任务执行 |  
| 通过 `Claude Code Task()` 启动子代理 | 通过 `sessions_spawn` 启动子代理 |  
| 代码存储在 `.claude/` 目录中 | 代码存储在 `{project}/.gsd/` 目录中 |  
| 使用 Bash 脚本 | 支持 PowerShell 和跨平台执行 |  
| 使用 git 提交协议 | 可选，取决于用户偏好 |  

**保留的核心功能：**  
- 基于 XML 的任务结构及验证机制  
- 自动化的偏差处理规则  
- 通过子代理保持上下文更新  
- 任务规划与验证流程  

## 使用示例  
**用户：** “让我们规划 ORO 网站的 SEO 改进方案。”  

**代理（讨论阶段）：**  
（具体对话内容请参考原文中的 `{code_block_7}` 模板。）  

**讨论结束后，代理会生成 `CONTEXT.md` 文件。**  

**代理（规划阶段）：**  
（具体规划过程请参考原文中的 `{code_block_8}` 模板。）  

## 致谢  
该系统基于 Lex Christopherson（@glittercowboy）开发的 **Get Shit Done (GSD)** 系统进行改编。  
- **原始仓库：** https://github.com/glittercowboy/get-shit-done  
- **许可证：** MIT  
- **核心理念：** 依赖单人开发者与人工智能的协作，避免企业级开发中的冗余流程。  

感谢 Lex 创建了这个高效的任务管理工具！  

## 版本历史  
- **1.0.0**：首次适配 OpenClaw 的版本。