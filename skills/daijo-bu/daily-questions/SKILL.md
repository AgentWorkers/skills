---
name: daily-questions
description: 每日自我提升问卷：该问卷用于了解用户情况并优化代理行为。可通过设置 cron 作业，利用 Telegram 的内联按钮逐个向用户提问（问题内容存储在 USER.md 文件中），随后再询问有关代理行为的问题（问题内容存储在 SOUL.md 文件中）。适用于在配置、修改或执行每日问卷流程时使用。
---

# 每日问答

这是一个每日例行程序，通过向用户提问来持续加深用户的理解并提升代理（agent）的行为表现。问题会**逐一**在 Telegram 上展示，并提供**多个选择按钮**，方便用户快速回答。

## 设置

创建一个 cron 作业，其提示内容如下：

```
Time for your daily questions. Read the daily-questions SKILL.md, then follow the workflow exactly. Read USER.md and SOUL.md, identify gaps. Ask {N} user questions then {N} agent questions, one at a time with multiple choice buttons. Update the files after each round.
```

可配置参数：
- **时间安排**：默认为每天 21:00（可根据用户习惯进行调整）
- **沟通渠道**：Telegram（按钮功能需要 Telegram 的内联键盘支持）
- **每轮问题数量**：默认为 3 个（保持问题量适中）

## 工作流程

1. **完整阅读** `USER.md` 和 `SOUL.md` 文件。
2. **识别知识空白** — 有哪些主题、用户偏好或行为尚未被涉及？
3. **第一轮（用户提问）**：逐一向用户提出问题（具体流程见下文）。所有问题回答完毕后，更新 `USER.md` 文件——将用户的答案整合到现有章节中或创建新章节。确保 `USER.md` 保持整洁，避免变成单纯的问答记录。
4. **第二轮（代理行为相关问题）**：同样逐一向用户提出关于代理行为/沟通方式的问题。所有问题回答完毕后，以相同方式更新 `SOUL.md` 文件。

## 问题提出流程（逐一提问）

对于每个问题：
1. **生成问题** 并准备 **3 个合理的多个选择答案**（A、B、C），这些问题应针对具体问题设计，确保选项具有区分度且实际可行（而非随意的填充内容）。
2. 使用 `message` 工具发送问题，问题中包含 **4 个内联按钮**：
   - 按钮 A：第一个选项
   - 按钮 B：第二个选项
   - 按钮 C：第三个选项
   - ✏️ 输入自定义答案：用于用户提供更详细的回答
3. 使用 `message` 工具发送问题时，为每个问题分配一个**唯一的回调 ID**，以防止用户误点击旧按钮导致的冲突：

   格式示例：`dq_r2q3_b` 表示“第二轮，第 3 个问题，选项 B”。

4. **等待用户回复**。用户可以选择点击按钮或直接输入文字答案（视为自定义回答）。
5. **如果收到的回调信息与当前问题不匹配**（例如用户点击了旧按钮），**忽略该回复**，继续等待正确答案。
6. **如果是自定义答案（格式为 `dq_rXqX_custom`），回复用户让他们输入答案，然后等待下一次回复。
7. **记录用户的答案**，接着进入下一个问题。
8. 所有问题回答完毕后，更新相应的文件（`USER.md` 或 `SOUL.md`）。

## 问题设计指南

- **问题内容多样化** — 不断更换提问主题（参考 `references/example-questions.md` 文件）
- **深入探讨** — 如果用户信息中提到某方面的兴趣（如“喜欢烹饪”，可进一步询问具体菜系、烹饪水平或最爱菜肴）
- **保持轻松氛围** — 采用对话式语气，避免正式的面试风格
- **避免重复** — 不要重复已经详细记录过的内容
- **结合趣味性和实用性** — 问题应兼顾轻松和实用
- **选择合理的选项** — 选项应符合实际情况，让用户感觉像是真实人物可能给出的答案

## 重要提示

- **每个问题只发送一次** — 不要将多个问题合并成一条消息发送
- **务必使用 Telegram 的内联按钮** — 这是主要的交互方式
- **在消息正文中同时显示问题内容和选项**，以便用户在点击前能看清所有信息
- **标注每轮的问题编号**（例如“第一轮，第 2/3 个问题”），让用户清楚当前处于哪一轮
- **使用 `message` 工具发送按钮后，回复 `NO_REPLY` 以避免重复发送纯文本消息