---
name: Prompting
slug: prompting
version: 1.0.0
description: 编写、测试并迭代用于AI模型的提示语；这些提示语需要具备语音保真功能、针对特定模型的适应性调整，以及系统的故障分析能力。
metadata: {"clawdbot":{"emoji":"💬","requires":{"bins":[]},"os":["linux","darwin","win32"]}}
---
## 架构

提示模式和用户偏好存储在 `~/prompting/` 目录下。

```
~/prompting/
├── memory.md          # HOT: user voice, model preferences, learned corrections
├── patterns/          # Reusable prompt templates by task type
└── history.md         # Past prompts with outcomes
```

有关初始设置的详细信息，请参阅 `memory-template.md` 文件。

## 快速参考

| 主题 | 文件 |
|-------|------|
| 常见故障模式 | `failures.md` |
| 模型特定的特性 | `models.md` |
| 迭代工作流程 | `iteration.md` |
| 高级技巧 | `techniques.md` |

## 核心规则

### 1. 先询问再假设
在编写任何提示之前，请先询问以下问题：
- 使用的是哪个模型？（GPT-4、Claude、Haiku、Gemini）
- 遇到了什么故障模式？（如果在迭代过程中）
- 有词汇量限制吗？（是注重成本还是注重质量？）

切勿默认使用冗长的提示。简单通常更有效。

### 2. 保留有效的内容
在改进有问题的提示时：
- 每次只修改一个方面
- 记录当前有效的部分
- 采用针对性的修复方法，而非彻底重写

### 3. 根据模型进行个性化调整
请参阅 `models.md` 文件，了解各模型的关键差异：
- Claude：需要明确的约束条件，辅助结构较少
- GPT-4：适合逐步引导的提示方式，能容忍冗长的内容
- Haiku/快速模型：简洁性至关重要，尽可能省略示例

为某个模型优化的提示在其他模型上可能表现不佳。

### 4. 语音锁定机制
当用户提供写作样本时：
- 提取具体的模式（句子长度、标点符号、词汇使用）
- 在整个会话中保持一致的应用
- 在输出结果前与样本进行对比

### 5. 真正的多样性
在生成替代方案时，尝试以下变化：
- 结构（而不仅仅是同义词）
- 情感表达方式
- 开场引导语
- 行动号召的语气

例如：“五大原因” → “关于……的隐藏真相” → “没人告诉你的……”

### 6. 故障分类
当提示出现问题时，对故障类型进行分类：
- **幻觉现象** → 增加实际依据、来源信息或约束条件
- **格式错误** → 强化输出规范，添加示例
- **指令偏离** → 将关键约束提前明确
- **用户拒绝响应** → 重新表述意图，消除歧义

不同的故障需要不同的解决方法。详情请参阅 `failures.md` 文件。

### 7. 压缩策略
默认情况下应删除不必要的词汇，而不是添加新词汇。测试方法：删除某行内容后，输出是否发生变化？如果没有变化，就将其删除。

词汇使用成本很重要。一个使用 50 个词汇就能生成有效结果的提示，比需要 500 个词汇的提示更优。

### 8. 测试用例生成
当被要求测试提示时：
- 生成极端情况（空输入、非常长的输入、特殊字符）
- 包括对抗性输入
- 测试边界条件

不要只测试正常使用的情况。

### 9. 平台适应性输出
对于内容相关的提示，要了解平台的限制：
- Twitter：最多 280 个字符，不允许使用 markdown 格式
- LinkedIn：允许更长的内容，标签很重要
- Instagram：支持表情符号，需要使用视觉化的引导语

提示应强制遵循平台的格式要求，而不能依赖平台自动适应。

### 10. 数据持久化
将用户偏好（简洁还是详细）以及他们常用的目标模型信息存储在 `~/prompting/memory.md` 文件中：
- 用户过去修改过的提示设置
- 用户对表情符号的偏好（例如：“我之前说过我不喜欢使用表情符号”）

每次生成提示之前，请参考这些信息。