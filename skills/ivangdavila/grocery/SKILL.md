---
name: Grocery
slug: grocery
version: 1.0.0
description: **使用食品储藏清单、家庭库存数据以及饮食限制要求来构建和管理购物清单。**
metadata: {"clawdbot":{"emoji":"🛒","requires":{"bins":[]},"os":["linux","darwin","win32"]}}
---
## 使用场景

当用户需要帮助处理购物相关事务时，例如创建购物清单、追踪食品库存、记住家庭所需的物品数量，或者检查物品是否符合饮食限制等。该工具主要关注购物过程本身，而非餐食规划。

## 架构

数据存储在 `~/grocery/` 目录下。具体设置请参考 `memory-template.md` 文件。

```
~/grocery/
├── memory.md          # HOT: preferences, restrictions, current list
├── pantry.md          # WARM: what's at home, quantities, expiry
├── history.md         # COLD: past purchases, patterns
└── stores.md          # User's preferred stores, aisle layouts
```

## 快速参考

| 主题 | 对应文件 |
|-------|------|
| 内存设置 | `memory-template.md` |
| 列表操作 | `lists.md` |

## 数据存储

所有数据均存储在 `~/grocery/` 目录下。首次使用时需要手动创建相关文件。

## 功能范围

该工具仅负责以下功能：
- 根据用户输入维护购物清单；
- 跟踪用户报告的食品库存情况；
- 记录用户的饮食限制和偏好；
- 根据家庭人数建议合适的购买数量。

该工具绝不执行以下操作：
- 访问实际商店的库存信息或价格；
- 完成购买或下单；
- 扫描条形码或收据；
- 读取 `~/grocery/` 目录以外的文件。

## 核心规则

### 1. 了解家庭情况
| 需要记录的信息 | 举例 |
|-----------------|---------|
| 家庭成员人数 | “2个成年人，1个挑食的幼儿” |
| 饮食限制 | “无麸质，不吃海鲜” |
| 偏好的商店 | “主要选择Mercadona，备用选择Carrefour” |
| 通常的购买数量 | “每周购买4升牛奶，而非1升” |

首次提及相关信息时，需将其记录在 `memory.md` 文件中。切勿重复询问。

### 2. 数量判断
- 默认提供适合家庭人数的购买数量（单人 = 少量，家庭 = 大量）；
- 记住用户之前的购买习惯：“你通常会购买2公斤鸡肉”；
- 对异常的购买请求进行提示：“这个数量是你平时购买量的3倍——是准备餐食吗？”

### 3. 遵守饮食限制
- 在购买新物品前，务必检查是否符合已记录的饮食限制；
- 了解某些成分的隐藏名称（例如：caseína属于乳制品，酱油中可能含有麸质）；
- 当不确定时，提示用户：“该物品含有小麦成分——根据你的饮食限制，是否需要跳过？”

### 4. 列表管理
- 根据用户需求按商店类别（如蔬果、乳制品、冷冻食品）对购物清单进行分类；
- 支持同时使用多个购物清单（如每周购物清单、聚会清单、露营清单）；
- 自动去除重复项，并合并不同清单中的数量信息。

### 5. 监控食品库存
- 当用户报告家中现有物品时，更新 `pantry.md` 文件中的库存数量和购买日期；
- 通过对比购物清单避免重复购买；
- 例如：“你家已经有6个鸡蛋了，还再买12个吗？”

### 6. 食谱输入（非餐食规划功能）
- 当用户分享食谱或餐食计划时：
  - 从食谱中提取所需食材并添加到购物清单中；
  - 根据家庭人数调整食材数量；
  - 注意：餐食规划属于另一个独立的功能（`meals`）——该工具仅负责接收食材清单。

## 常见错误

- 向单人推荐适合4人的食谱 → 请先确认家庭人数；
- 建议使用当地无法购买的特殊食材 → 建议用户选择可购买的商店；
- 在不同会话之间忘记用户的饮食限制 → 请务必每次使用前重新加载 `memory.md` 文件；
- 忽视家庭中挑食成员的饮食需求 → 请始终记录每个人的饮食偏好。

## 与“餐食规划”功能的区别

| 购物管理（本工具） | 餐食规划（另一工具） |
|-------------------|------------------------|
| 关注点 | 关注点 |
| 购买什么 | 需要吃什么 |
| 食品库存 | 每周餐食计划 |
| 数量和品牌 | 食材种类和食谱 |
| 饮食限制 | 饮食平衡 |
| 店铺管理 | 餐食安排 |

如果用户询问“这周该吃什么？”，请推荐使用“餐食规划”功能。  
而本工具的主要功能是帮助用户确定“需要购买哪些食材”。