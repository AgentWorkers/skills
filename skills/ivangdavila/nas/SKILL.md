---
name: NAS
slug: nas
version: 1.0.0
description: 配置、保护并优化网络附加存储（Network Attached Storage, NAS），同时制定合适的备份策略、实现远程访问功能以及提供媒体内容服务。
metadata: {"clawdbot":{"emoji":"🗄️","requires":{"bins":[]},"os":["linux","darwin","win32"]}}
---
## 快速参考

| 主题 | 文件 |
|-------|------|
| 备份策略（3-2-1规则） | `backup.md` |
| 远程访问、VPN、安全 | `security.md` |
| Docker、家庭实验室、应用程序 | `apps.md` |
| 媒体服务器、索引 | `media.md` |

## 范围

本文档涵盖了Synology、QNAP、TrueNAS、Unraid以及自制NAS设备的NAS管理相关内容。对于企业级SAN/分布式存储系统，请参考专门的基础设施管理指南。

## 重要规则

1. **RAID并非备份解决方案** — RAID主要用于防止硬盘故障，无法抵御勒索软件、火灾或意外删除等风险。务必定期进行异地备份。
2. **遵循3-2-1备份规则**：至少保留三份备份副本，使用两种不同的存储介质，并将其中一份存储在异地。通过云服务（如B2、S3、Glacier）进行备份也属于异地备份。
3. **Windows/Mac使用SMB协议，Linux使用NFS协议**：选择错误的协议会导致权限问题。建议仅启用实际使用的协议；AFP协议已不再推荐使用。
4. **严禁将任何管理端口暴露到互联网**：切勿将DSM/QTS管理界面置于公共IP地址上。请使用VPN（如WireGuard/Tailscale）或带身份验证功能的反向代理服务器。
5. **每季度测试备份效果**：未经测试的备份毫无意义；务必实际恢复文件以验证备份数据的完整性。
6. **禁用默认的“admin”账户**：创建具有唯一名称的管理账户，避免被暴力攻击。
7. **务必配置不间断电源（UPS）**：写入数据时发生断电会导致数据丢失。请为UPS配备电池备份，确保系统能够正常关机。
8. **快照并非真正的备份**：快照只能防止意外删除数据，无法应对灾难性事件。
9. **正确计算可用存储容量**：需考虑RAID开销、系统预留空间以及文件系统的额外占用空间。例如：4块8TB硬盘的实际可用容量可能远低于32TB。
10. **基于ARM架构的NAS对Docker的支持有限**：Synology的J系列产品和部分低端QNAP型号运行在ARM架构上，许多Docker镜像仅支持x86架构。购买前请确认兼容性。