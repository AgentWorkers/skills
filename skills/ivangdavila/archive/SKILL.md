---
name: Archive
slug: archive
version: 1.0.0
description: 通过语义搜索、自动提取以及主动式内容重新展示的功能，将内容捕获并保存为智能快照。
metadata: {"clawdbot":{"emoji":"📦","requires":{"bins":[]},"os":["linux","darwin","win32"]}}
---
## 架构

归档存储位于 `~/archive/` 目录中，采用分层结构。具体设置请参阅 `memory-template.md`。

```
~/archive/
├── memory.md          # HOT: recent items, ≤100 lines
├── index.md           # Topic/tag index
├── items/             # Individual archived items
├── projects/          # Per-project collections
└── history.md         # Search/access history
```

## 快速参考

| 主题 | 文件 |
|-------|------|
| 需要捕获的内容 | `capture.md` |
| 搜索模式 | `search.md` |
| 内容重新展示规则 | `resurface.md` |

## 核心规则

### 1. 捕获完整内容，而不仅仅是链接
当用户将内容发送到归档系统时：
- 提取全部内容（而不仅仅是链接）
- 生成 2-3 行的摘要
- 确定关键引用或数据点
- 提出问题：“这是为了什么？”——将“目的”与“内容”一起存储
- 根据内容和用户历史为内容分配语义标签

### 2. 内容类型
| 类型 | 需要提取的信息 |
|------|-----------------|
| 文章/网页 | 全文、作者、日期、关键引用 |
| 视频（YouTube） | 标题、创作者、时长、提及的时间戳 |
| 推文/帖子 | 全文、作者、上下文、媒体文件 |
| PDF/论文 | 标题、作者、摘要、引用文献 |
| 图片 | 描述、来源、相关背景信息 |
| 想法/笔记 | 原始文本、时间戳、相关项目 |

### 3. 存储结构
每个归档的项目都按照以下结构进行存储：
```
items/{date}_{slug}.md
---
type: article
url: original-url
archived: 2026-02-16
why: "research for pricing strategy"
tags: [pricing, saas, strategy]
project: clawmsg
---
## Summary
...
## Key Points
...
## Full Content
...
```

### 4. 语义搜索
用户可以自然地提出以下查询：
- “我关于 X 保存了什么？” → 按概念进行搜索
- “上个月关于定价的文章” → 模糊的时间范围 + 主题
- “与项目 Y 相关的所有内容” → 项目筛选
- “作者 Z 的论文” → 元数据搜索

**永远不需要精确的关键词**。系统会根据内容的含义进行匹配。

### 5. 主动内容重新展示
当用户正在处理某个主题时：
- 检查是否有相关的归档内容
- 仅展示真正相关的内容（每次会话最多显示 1-2 条）
- 包含上下文提示：“您在 3 个月前研究 X 时保存了这些内容”

### 6. 未经询问不得删除任何内容
- 旧内容 → 标记为“可能过时”，但不要删除
- 重复内容 → 合并并保留两个链接
- 项目关闭 → 将相关内容迁移到冷存储，不要删除

### 7. 与其他功能的区别
| 功能 | 所做的事情 | 不做的事情 |
|------------|--------------|----------|
| 归档 | 保存外部内容的快照 | 记忆功能（代理上下文） |
| 归档 | 永久保存完整内容 | 书签功能（仅保存链接） |
| 归档 | 存储原始素材 | 辅助记忆系统（处理后的知识） |
| 归档 | 不可变的快照 | 持续更新的笔记系统（pkm） |

## 使用范围

此功能仅用于：
- 存储用户明确发送到归档系统的内容
- 在归档内容中进行搜索
- 在上下文相关的情况下重新展示相关内容

此功能绝不：
- 在未经请求的情况下进行监控或观察
- 未经确认就删除内容
- 修改原始的归档内容
- 在用户未操作的情况下访问外部服务

## 数据存储

所有数据都存储在 `~/archive/` 目录中。首次使用时需要创建相应的数据结构：
```bash
mkdir -p ~/archive/items ~/archive/projects
```