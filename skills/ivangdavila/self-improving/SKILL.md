---
name: Self-Improving
slug: self-improving
version: 1.0.0
description: 通过结构化的记忆、纠正性学习以及跨项目和年份的优雅扩展（即灵活的系统扩展能力），逐步构建复合型知识体系。
metadata: {"clawdbot":{"emoji":"🧠","requires":{"bins":[]},"os":["linux","darwin","win32"]}}
---
## 架构

内存数据存储在 `~/self-improving/` 目录中，并采用分层存储结构。具体配置请参考 `memory-template.md` 文件。

```
~/self-improving/
├── memory.md          # HOT: ≤100 lines, always loaded
├── index.md           # Topic index with line counts
├── projects/          # Per-project learnings
├── domains/           # Domain-specific (code, writing, comms)
├── archive/           # COLD: decayed patterns
└── corrections.md     # Last 50 corrections log
```

## 快速参考

| 主题 | 对应文件 |
|-------|------|
| 学习机制 | `learning.md` |
| 安全边界 | `boundaries.md` |
| 扩展规则 | `scaling.md` |
| 内存操作 | `operations.md` |

## 数据存储

所有数据均存储在 `~/self-improving/` 目录中。首次使用时会自动创建相关数据文件。

```bash
mkdir -p ~/self-improving/{projects,domains,archive}
```

## 使用范围

该技能仅具备以下功能：
- 仅从用户的明确反馈中学习；
- 将用户的偏好设置存储在本地文件（`~/self-improving/`）中；
- 在启动时读取自身的内存数据文件。

该技能绝不会：
- 访问日历、电子邮件或联系人信息；
- 发起网络请求；
- 读取 `~/self-improving/` 目录之外的文件；
- 通过用户的沉默或行为来推断其偏好设置。

## 自我修改

该技能绝不会修改自身的 `SKILL.md` 文件。所有学习到的数据均存储在 `~/self-improving/memory.md` 及其子目录中。

## 核心规则

### 1. 仅从用户反馈中学习
- 当用户明确指出错误时，系统会记录该反馈；
- 绝不通过用户的沉默或行为来推断其意图；
- 如果连续收到 3 次相同的错误反馈，系统会要求用户再次确认。

### 2. 分层存储机制
| 存储层级 | 存储位置 | 存储容量限制 | 行为方式 |
|------|----------|------------|----------|
| 热层（HOT） | `memory.md` | 不超过 100 行 | 始终处于加载状态 |
| 温层（WARM） | `projects/`, `domains/` | 每个文件不超过 200 行 | 在匹配相关上下文时加载 |
| 冷层（COLD） | `archive/` | 无容量限制 | 仅在用户明确请求时加载 |

### 3. 自动升级/降级规则
- 如果某个规则在 7 天内被使用 3 次，会升级到热层；
- 如果 30 天内未被使用，会降级到温层；
- 如果 90 天内未被使用，会自动归档到冷层；
- 任何修改操作都需要用户的明确授权。

### 4. 命名空间隔离
- 项目相关的规则存储在 `projects/{name}.md` 文件中；
- 全局偏好设置存储在热层（`memory.md`）中；
- 域相关的规则（代码、写作相关）存储在 `domains/` 目录中；
- 规则之间存在跨命名空间的继承关系（全局 → 域 → 项目）。

### 5. 冲突解决规则
当不同规则之间存在冲突时：
- 优先采用最具体的规则（项目规则 > 域规则 > 全局规则）；
- 如果规则相同，则优先采用最近被使用的规则；
- 如果仍无法确定，系统会询问用户。

### 6. 数据压缩机制
- 当文件大小超过预设限制时：
  - 将相似的错误反馈合并为一条规则；
  - 将未被使用的规则归档；
  - 对冗长的规则内容进行简化；
  - 确保已确认的偏好设置不会被删除。

### 7. 查询支持
用户可以执行以下操作：
- “你了解关于 X 的哪些信息？” → 在所有层级中搜索相关信息；
- “显示我的 [项目] 相关规则” → 加载特定命名空间的规则；
- “忘记 X” → 从所有层级中删除相关规则；
- “本月有哪些变化？” → 查看 `corrections.md` 文件中的修改记录。

### 8. 透明度
- 系统会记录所有操作，并注明规则来源（例如：“使用的是来自 `projects/foo.md:12` 的规则”）；
- 每周会生成总结报告，列出学习到的新规则、被降级的规则以及被归档的规则；
- 用户可随时请求导出所有数据（格式为 ZIP 文件）。

### 9. 安全边界
请参考 `boundaries.md` 文件——系统绝不会存储用户的凭证信息、健康数据或第三方信息。

### 10. 优雅的降级机制
当系统达到容量限制时：
- 仅加载热层（`memory.md`）中的规则；
- 根据用户需求加载相关命名空间的规则；
- 系统绝不会在出现问题时无声地退出，而是会向用户说明无法加载哪些内容。