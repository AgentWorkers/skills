---
name: Voice Notes
slug: voice-notes
version: 1.0.2
description: 将语音消息的转录内容整理成一个结构化、可搜索的知识库，其中包含标签、链接以及逐步记录的笔记。
metadata: {"clawdbot":{"requires":{"bins":[]},"os":["linux","darwin","win32"]}}
---
## 使用场景

用户发送语音消息，代理平台通过其配置的文本转语音（STT）功能进行转录。该技能会将转录结果整理成结构化的笔记，链接相关内容，并维护一个基于标签的可扩展系统。

## 重要提示：转录工作由平台负责

该技能本身不执行转录操作，它依赖于代理平台完成以下步骤：
1. 从用户处接收音频文件；
2. 使用平台配置的文本转语音工具（无论是本地的还是云端的）将音频转录为文本；
3. 将转录后的文本传递给该技能进行进一步处理。

该技能仅将文本转录结果存储在 `~/voice-notes/` 目录中。该技能不会访问或存储音频文件。

## 架构

所有数据均存储在 `~/voice-notes/` 目录中。具体配置信息请参阅 `memory-template.md` 文件。

```
~/voice-notes/
+-- memory.md           # HOT: tag registry + recent activity
+-- index.md            # Note index with tags and links
+-- transcripts/        # Raw transcriptions (text only)
+-- notes/              # Processed notes
+-- archive/            # Superseded content
```

## 快速参考

| 功能 | 对应文件 |
|-------|------|
| 内存配置 | `memory-template.md` |
| 笔记处理 | `processing.md` |
| 链接系统 | `linking.md` |
| 标签管理 | `tags.md` |

## 数据存储

所有数据均存储在 `~/voice-notes/` 目录中。首次使用时需要创建相应的目录结构。

```bash
mkdir -p ~/voice-notes/{transcripts,notes,archive}
```

## 功能范围

该技能仅执行以下操作：
- 从代理平台接收转录后的文本；
- 将转录结果和笔记存储在 `~/voice-notes/` 目录中；
- 根据内容链接相关笔记；
- 管理用户自定义的标签。

该技能绝不执行以下操作：
- 执行音频转录（由平台负责）；
- 访问音频文件；
- 未经用户明确确认就删除内容；
- 访问 `~/voice-notes/` 目录之外的文件；
- 向外部发送数据；
- 需要 API 密钥或认证信息。

## 自我修改规则

该技能永远不会修改自身的 `SKILL.md` 文件。所有数据均存储在 `~/voice-notes/` 目录中。

## 核心规则

### 1. 信息不丢失原则
| 事件 | 处理方式 |
|-------|--------|
| 新转录结果产生 | 立即保存到 `transcripts/` 目录 |
| 笔记被编辑 | 保留原始笔记的引用信息 |
| 策略变更 | 将旧版本归档，并在新版本中添加链接 |
| 用户删除笔记 | 先确认删除操作，再将其移至 `archive/` 目录 |

### 2. 标签系统与文件夹的关系
- 标签定义位于 `~/voice-notes/memory.md` 文件的 `## Tag Registry` 部分；
- 用户可以自定义标签的详细程度（宽泛或具体）；
- 创建新标签前请优先使用现有的标签；
- 一个笔记可以包含多个标签。

### 3. 相关内容的识别
- 在创建新笔记之前：
  1. 检查现有笔记中是否存在相同或相关的主题；
  2. 如果相关，则进行链接（避免重复）；
  3. 如果是新内容的延续，则扩展现有笔记；
  4. 如果内容相互矛盾，则将两者作为不同版本进行链接并保留。

### 4. 数据结构优化
- 当笔记内容超过 100 行时：
  1. 分析内容结构，找出自然的分段；
  2. 将这些分段链接成独立的子笔记；
  3. 父笔记作为概览，包含所有子笔记的链接；
  4. 类似 Notion 的笔记结构：一个笔记中可以包含其他笔记。

### 5. 数据的逐步展示
- 数据展示的层级：
  - `~/voice-notes/memory.md`：始终可见（包含标签和最新笔记）；
  - `~/voice-notes/index.md`：在搜索时显示；
  - 单个笔记：按需显示；
  - 转录结果：仅用于验证目的。

### 6. 杂乱输入的处理
- 用户可能会以随意的方式表达信息：
  - 提取信息的核心含义；
  - 逻辑性地组织内容；
  - 保留原文的细微差别（避免过度压缩）；
  - 将相关内容分组。

### 7. 首次使用时的设置提示
- 首次使用时询问用户：
  - “希望使用宽泛的分类还是具体的标签？”
  - “是否有现有的主题可以作为参考？”

## 常见错误
- 应该添加内容时却创建了新笔记 -> 请先进行搜索；
- 标签使用不一致 -> 创建标签前请检查标签注册表；
- 内容过于压缩 -> 请保留用户的意图和表达的细微差别；
- 删除“过时”的内容 -> 应将其归档，而非直接删除。