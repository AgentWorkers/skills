---
name: Voice Notes
slug: voice-notes
version: 1.0.0
description: 将混乱的语音备忘录转化为一个可搜索的知识库，实现自动组织、链接功能以及基于标签的检索机制。
metadata: {"clawdbot":{"emoji":"🎙️","requires":{"bins":[]},"os":["linux","darwin","win32"]}}
---
## 使用场景

用户可以发送关于任何主题的语音笔记。系统会将其转录成结构化的文本，链接相关内容，并维护一个可扩展的基于标签的笔记管理系统。

## 架构

所有数据存储在 `~/voice-notes/` 目录下。具体配置请参考 `memory-template.md` 文件。

```
~/voice-notes/
├── memory.md           # HOT: tag registry + recent activity
├── index.md            # Note index with tags and links
├── transcripts/        # Raw transcriptions (never deleted)
├── notes/              # Processed notes
└── archive/            # Superseded content (never deleted)
```

## 快速参考

| 功能 | 对应文件 |
|-------|------|
| 数据存储设置 | `memory-template.md` |
| 笔记处理 | `processing.md` |
| 链接系统 | `linking.md` |
| 标签管理 | `tags.md` |

## 数据存储

所有数据均保存在 `~/voice-notes/` 目录下。首次使用时需要创建相应的文件结构。

```bash
mkdir -p ~/voice-notes/{transcripts,notes,archive}
```

## 功能范围

本技能仅负责：
- 使用配置好的语音转文字（STT）技术转录音频内容；
- 将转录结果和笔记存储在 `~/voice-notes/` 目录下；
- 根据内容链接相关的笔记；
- 管理用户自定义的标签。

本技能绝不会：
- 在未经用户明确确认的情况下删除任何内容；
- 访问 `~/voice-notes/` 目录之外的文件；
- 将数据发送到外部；
- 仅凭用户沉默状态来推断其组织偏好。

## 自我更新规则

本技能不会自行修改其自身的配置文件（`SKILL.md`）。所有数据均保存在 `~/voice-notes/` 目录下的文件中。

## 核心规则

### 1. 信息永不丢失
- 新音频文件生成时：立即将转录结果保存到 `transcripts/` 目录中；
- 编辑笔记时：保留原始笔记的引用信息；
- 策略发生变化时：将旧版本归档，并在新版本中添加链接；
- 用户删除笔记时：先确认删除操作，再将其移至 `archive/` 目录。

### 2. 标签系统与文件夹的关系
- 标签的定义位于 `~/voice-notes/memory.md` 文件中的 `## Tag Registry` 部分；
- 用户可以自定义标签的详细程度（宽泛或具体）；
- 创建新标签前请优先使用已存在的标签；
- 一个笔记可以包含多个标签。

### 3. 检测相关内容
- 在创建新笔记之前：
  - 检查现有笔记中是否存在相同或相关的主题；
  - 如果存在关联内容，则将其添加为新笔记的链接或扩展现有笔记；
  - 如果新笔记是对现有笔记的补充，则直接添加链接；
  - 如果新笔记与现有笔记内容矛盾，则同时保留两者。

### 4. 文本结构优化
- 当笔记超过 100 行时：
  - 分析笔记的结构，将其拆分为多个相互链接的子笔记；
  - 保留原始笔记作为概览，并添加链接；
  - 类似 Notion 的笔记格式：一个笔记中可以包含其他笔记。

### 5. 逐步展示信息
- 不同级别的数据访问权限：
  - `~/voice-notes/memory.md`：始终可见（包含标签和最新笔记）；
  - `~/voice-notes/index.md`：在搜索时显示；
  - 单个笔记：按需显示；
  - 转录结果：仅用于验证目的。

### 6. 整理混乱的输入内容
- 用户可能会以随意的语序表达想法：
  - 提取核心信息并进行逻辑排序；
  - 保留原文的细微差别（避免过度压缩）；
  - 将相关内容分组整理。

### 7. 首次使用时的设置指导
- 首次使用时询问用户：
  - “希望使用宽泛的分类还是详细的标签？”
  - “是否有现有的主题可以作为笔记的起点？”

## 常见错误
- 应该添加链接时却创建了新笔记 → 请务必先进行搜索；
- 标签使用不一致 → 创建标签前请检查标签库；
- 内容压缩过度 → 请保留用户的意图和原文的细微差别；
- 删除“过时”的内容 → 请将其归档，切勿直接删除。