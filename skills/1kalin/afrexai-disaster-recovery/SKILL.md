# IT灾难恢复计划生成器

生成可实际应用的灾难恢复计划，确保在系统故障时能够得到有效执行。

## 功能介绍

该工具可生成涵盖基础设施、数据、应用程序和通信方面的完整灾难恢复计划。输出内容包括恢复时间目标（RTO）、恢复点目标（RPO）、故障转移流程、测试计划以及成本估算。

## 使用场景

- 为满足合规性要求（如SOC 2、ISO 27001、HIPAA）而制定灾难恢复文档  
- 在系统故障后发现恢复流程中的漏洞时使用  
- 新团队入职时需要快速搭建灾难恢复体系  
- 每年对灾难恢复计划进行审查和更新  

## 使用方法

向工具说明您的需求，具体说明您所使用的技术栈和具体要求。  

### 快速入门  
```
Generate a disaster recovery plan for our SaaS platform. Stack: AWS (us-east-1 primary, eu-west-1 secondary), PostgreSQL RDS, Redis, S3. RTO target: 4 hours. RPO target: 1 hour. Team size: 8 engineers.
```  

### 需要提供的输入信息  
- **基础设施**：云服务提供商、区域、关键服务  
- **数据存储**：数据库、对象存储、消息队列  
- **恢复时间目标（RTO）**：可接受的最高停机时间  
- **恢复点目标（RPO）**：可接受的最大数据丢失量  
- **团队规模**：在事件发生时能够参与的人员  
- **合规性要求**：需要遵循的框架（SOC 2、ISO 27001、HIPAA、PCI DSS）  
- **预算等级**：初创企业（每年5,000-15,000美元）| 成长型企业（每年15,000-50,000美元）| 企业级（每年50,000美元以上）  

## 输出结构  

### 1. 风险评估矩阵  
| 危害类型 | 发生概率（1-5） | 影响程度（1-5） | 风险等级 | 应对措施 |
|--------|------------------|--------------|------------|------------|
| 区域性故障 | 2 | 5 | 10 | 实施多区域主动-主动架构（active-active） |
| 数据库损坏 | 3 | 5 | 15 | 使用即时恢复机制及跨区域数据备份 |
| 勒索软件攻击 | 3 | 5 | 15 | 采用不可篡改的备份方式并存储在隔离环境中 |
| DNS故障 | 2 | 4 | 8 | 使用多个DNS服务提供商 |
| 关键人员缺席 | 4 | 3 | 制定操作手册并进行跨团队培训 |

### 2. 恢复层级分类  
**层级1 — 关键业务（RTO < 1小时）**  
- 认证服务  
- 支付处理  
- 核心API  

**层级2 — 重要业务（RTO < 4小时）**  
- 管理控制台  
- 报告系统  
- 邮件发送服务  

**层级3 — 标准业务（RTO < 24小时）**  
- 分析系统  
- 内部工具  
- 开发/测试环境  

### 3. 故障转移流程  
针对每个层级1的服务，生成详细的操作手册：  
- 故障转移前的健康检查  
- DNS/负载均衡器的切换步骤  
- 数据一致性验证  
- 故障转移后的测试  
- 若故障转移失败时的回滚流程  

### 4. 备份策略  
| 数据存储方式 | 备份频率 | 备份保留期限 | 备份位置 | 恢复测试频率 |  
|-----------|-----------------|-----------|----------|----------------------|  
| 主数据库 | 持续备份（WAL） | 30天 | 跨区域存储 | 每月一次 |  
| 对象存储 | 跨区域复制 | 无限期 | 辅助区域 | 每季度一次 |  
| 配置文件/敏感信息 | 发生变更时立即备份 | 90天 | 加密存储在S3中 | 每月一次 |  

### 5. 通信计划  
- **内部沟通机制**：通过PagerDuty/Opsgenie系统通知相关人员  
- **状态更新**：在事件发生时自动更新相关信息  
- **客户通知**：根据严重程度（P1-P4）提供模板  
- **管理层会议**：P1级别事件时每15分钟召开一次会议；P2级别事件时每小时召开一次  

### 6. 测试计划  
| 测试类型 | 测试频率 | 测试范围 | 测试时长 |  
|-----------|-----------|-------|----------|  
| 桌面演练 | 每季度一次 | 全团队参与 | 2小时 |  
| 单个服务故障转移测试 | 每月一次 | 单个服务 | 1小时 |  
| 完整灾难恢复模拟 | 每年一次 | 全部系统参与 | 4-8小时 |  
| 备份恢复测试 | 每月一次 | 随机选择数据存储方式 | 1小时 |  

### 7. 成本估算  
按类别分解灾难恢复相关费用：  
- 基础设施（备用容量、跨区域复制）  
- 工具费用（监控、警报系统、备份软件）  
- 测试费用（工程师工作时间、演练期间的云服务费用）  
- 培训费用（新员工培训、年度培训）  

**参考数据**：灾难恢复计划的成本通常占基础设施支出的15-25%。没有灾难恢复计划的公司平均每分钟将面临5,600美元的停机损失。  

## 合规性要求映射  
将每个灾难恢复措施与相关标准进行对照：  
- **SOC 2 CC7.4/CC7.5**：事件响应与恢复机制  
- **ISO 27001 A.17**：信息安全连续性  
- **HIPAA §164.308(a)(7)**：应急计划  
- **PCI DSS 12.10**：事件响应计划  

## 注意事项  
- 必须提供具体的命令和CLI（命令行接口）示例（而不仅仅是“执行故障转移”这样的描述）  
- 明确标注每个步骤的预计执行时间  
- 采用“3-2-1”备份规则：保留3份备份副本，使用2种存储介质，其中1份存储在异地  
- 每项建议都需附带美元金额的预估成本  
- 不得假设预算无限——根据成本为不同层级提供相应的建议  

## 下一步行动  
想深入了解更多内容？可以查看完整的[AI Context Packs](https://afrexai-cto.github.io/context-packs/)——这些预构建的知识库适用于SaaS、医疗保健、法律、制造业等多个领域。每个行业包售价47美元，10个行业包售价197美元。  
计算您的团队进行手动灾难恢复规划所需的成本：[AI Revenue Calculator](https://afrexai-cto.github.io/ai-revenue-calculator/)  
只需5分钟即可完成代理设置：[Agent Setup Wizard](https://afrexai-cto.github.io/agent-setup/)