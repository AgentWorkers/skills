# 云成本优化审计

本工具用于分析 AWS、Azure 和 GCP 上的云基础设施支出，识别资源浪费、优化机会以及通过预留实例节省的成本。

## 该工具的功能

当提供云支出数据（账单导出文件、成本管理工具的截图或手动输入的数据）时，该工具能够：
1. **按 8 个成本类别对支出进行分类**（计算、存储、网络、数据库、人工智能/机器学习、可观测性、安全、许可）；
2. **利用 12 种常见的资源浪费模式进行识别**；
3. **计算每次优化的具体节省金额**；
4. **根据优化工作的复杂性和影响程度对行动进行优先级排序**（从快速见效的措施到战略性调整）；
5. **生成包含 90 天实施计划的执行摘要**。

## 成本类别及基准（2026 年）

### 1. 计算（通常占总成本的 40-55%）
- **闲置实例**：闲置时间超过 30% 的实例属于资源浪费。基准值：闲置容量应低于 10%；
- **实例规格不合理**：60% 的实例的规格超出实际需求；
- **按需实例与可抢占实例的使用**：非按需使用的批处理工作负载会导致 60-80% 的额外费用；
- **预留实例与节省计划**：对于稳定状态的应用，按需实例的使用方式可能导致 30-50% 的额外费用；
- **容器资源利用率**：节点上的 CPU 利用率低于 40% 表示资源分配不合理。

### 2. 存储（通常占总成本的 10-20%）
- **数据分层管理**：90 天内未被访问的数据仍存储在高性能存储中，导致 60-80% 的额外费用；
- **快照管理**：超过 30 天的废弃快照占用大量存储空间；
- **数据重复**：无业务需求的跨区域数据复制；
- **对象生命周期管理**：缺乏有效的对象生命周期策略会导致存储空间浪费。

### 3. 网络（通常占总成本的 8-15%）
- **跨 AZ 数据传输**：不必要的数据传输会增加成本（通常每 GB 0.01-0.02 美元）；
- **NAT 网关滥用**：高吞吐量的数据流量通过 NAT 而非 VPC 端点传输；
- **内容分发网络（CDN）配置问题**：超过 20% 的数据传输失败；
- **出站流量优化**：缺乏出站流量折扣政策。

### 4. 数据库（通常占总成本的 10-20%）
- **RDS/Cloud SQL 的过度配置**：开发/测试环境使用多 AZ 设计；
- **读复制资源的浪费**：查询负载低于 5% 的复制资源被持续保留；
- **DynamoDB/Cosmos 的过度配置**：配置的容量远超实际需求；
- **许可证浪费**：使用商业数据库而非开源解决方案。

### 5. 人工智能/机器学习基础设施（占比逐渐增加，约为 5-25%）
- **GPU 资源浪费**：训练实例全天候运行，但仅用于每天 4 小时的工作负载；
- **推理任务配置不合理**：使用高配置的 GPU 实例进行计算密集型推理；
- **模型存储问题**：旧模型版本占用大量存储空间；
- **API 成本**：未使用缓存层的 API 调用导致额外费用。

### 6. 可观测性（通常占总成本的 3-8%）
- **日志管理问题**：生产环境中存在大量调试日志和重复的日志流；
- **自定义指标管理**：高基数指标导致不必要的成本；
- **追踪日志采样**：100% 的日志都被采样，而实际上 10% 的样本就足够了；
- **数据保留策略**：非合规数据被保留 13 个月。

### 7. 安全（通常占总成本的 2-5%）
- **WAF 规则冗余**：未定期调整的安全规则；
- **密钥管理**：将 KMS 密钥用于非敏感数据；
- **合规性检查工具重复**：多个工具重复执行相同的合规性检查。

### 8. 许可证（通常占总成本的 5-15%）
- **长期未使用的许可证**：超过 60 天未登录的付费许可证；
- **工具重复**：多个工具用于解决相同的问题；
- **企业级许可证**：企业用户购买高级功能但未充分利用。

## 12 种常见的资源浪费模式

| 序号 | 模式 | 典型浪费情况 | 修复所需工作量 |
| --- | --- | --- | --- |
| 1 | 闲置资源（已停止使用但仍然被占用） | 账单金额的 5-15% | 较低的工作量 |
| 2 | 实例配置过高 | 计算资源的 15-30% | 中等的工作量 |
| 3 | 无预留资源策略 | 计算资源的 25-40% | 中等的工作量 |
| 4 | 无效的存储策略 | 存储资源的 40-70% | 较低的工作量 |
| 5 | 不必要的跨 AZ 数据传输 | 网络资源的 10-30% | 中等的工作量 |
| 6 | 开发/测试环境与生产环境配置相同 | 20-40% 的资源浪费 | 较低的工作量 |
| 7 | 废弃的快照/AMI（自动创建的实例） | 存储资源的 3-8% | 较低的工作量 |
| 8 | 无日志采样机制 | 可观测性工具的 30-60% 资源浪费 | 较低的工作量 |
| 9 | 使用 GPU 进行计算密集型任务 | 计算资源的 70-85% | 中等的工作量 |
| 10 | 批量任务未使用可抢占/按需实例 | 批量任务的 60-80% 资源浪费 | 中等的工作量 |
| 11 | 未使用的许可证 | 许可证费用的 20-40% | 较低的工作量 |
| 12 | 缺乏标签管理 | 无法准确追踪资源使用情况 | 高度的工作量 |

## 节省成本估算框架

对于每个识别出的资源浪费问题，将计算相应的节省金额。

### 不同公司规模的节省成本估算

| 公司规模 | 月度云支出 | 典型资源浪费比例 | 年度节省成本 |
| --- | --- | --- | --- |
| 初创公司（5-15 人） | 2,000–15,000 美元 | 35-50% | 8,000–9,000 美元 |
| 成长型企业（15-50 人） | 15,000–80,000 美元 | 25-40% | 45,000–384,000 美元 |
| 中型公司（50-200 人） | 80,000–500,000 美元 | 20-35% | 192,000–210,000 美元 |
| 企业级公司（200 人以上） | 500,000–500,000 美元以上 | 15-25% | 900,000–1,500,000 美元 |

## 输出格式

生成的报告包含：
1. **执行摘要**：总支出、识别出的资源浪费情况、潜在节省成本以及最优先的优化措施；
2. **成本类别明细**：各成本类别的实际支出与基准值的对比；
3. **问题列表**：每个问题的当前成本、优化后的成本、节省金额以及优先级；
4. **90 天实施计划**：分为三个阶段：第一至第二周的快速优化措施、第三至第六周的中等难度优化措施、第七至第十二周的战略性优化措施；
5. **管理建议**：包括资源标签管理策略、预算监控建议以及定期审查的安排。

## 使用方法

请提供以下形式的云费用数据：
- AWS Cost Explorer 的导出文件 / Azure Cost Management 的数据；
- 月度账单摘要；
- 包含大致资源配置的架构描述；
- 或者仅提供您的技术栈和团队规模信息以便进行估算。

该工具将分析这些数据并生成完整的优化报告。

---

## 需要针对特定行业的云优化方案吗？

不同行业有不同的合规要求、数据存储要求和工作负载模式，这些因素会显著影响优化策略。  

**获取适用于您行业的优化方案**：我们提供了针对金融科技、医疗保健、法律、SaaS、电子商务、建筑、房地产、招聘、制造和专业服务等行业的预构建优化框架。  

🛒 浏览相关方案：https://afrexai-cto.github.io/context-packs/  
🧮 计算您的 AI 成本节省潜力：https://afrexai-cto.github.io/ai-revenue-calculator/  
🤖 设置您的优化工具：https://afrexai-cto.github.io/agent-setup/  

**套餐优惠**：
- 选择 3 个方案：97 美元  
- 所有 10 个方案：197 美元  
- 全部方案：247 美元