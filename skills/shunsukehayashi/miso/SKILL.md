# 任务控制 - MISO

## 概述
**MISO** 是一个专为 OpenClaw 多代理工作流程设计的 Telegram 内置任务控制工具。它统一了并行工作的可视化展示方式，使操作员能够通过聊天列表随时跟踪任务进度。

## 状态模型
`INIT` → `RUNNING` → `PARTIAL` → `AWAITING APPROVAL` → `COMPLETE` (+ `ERROR`)

状态对应的图标：
- `🔥`：INIT / RUNNING / PARTIAL
- `👀`：AWAITING APPROVAL
- `🎉`：COMPLETE
- `❌`：ERROR

## 消息格式（必填）
使用纯文本格式，不要使用代码块。

- 左对齐显示
- 保持以下格式：
  - `🤖 任务控制`
  - `——————————————`
  - `🌸 由 miyabi 提供支持`

模板示例：

🤖 任务控制
——————————————
📋 {任务名称}
⏱ {已用时间} ∣ 🧩 {已完成/总代理数} ∣ {状态}
- 问题编号：#{问题编号}
- 负责人：SHUNSUKE AI
- 目标：{任务目标}

↳ {代理A}：{状态A}
↳ {代理B}：{状态B}
↳ {代理C}：{状态C}

- 下一步操作：{下一步行动}

——————————————
🌸 由 miyabi 提供支持

## 命令
- 用于评论问题的命令：
  - `/agent analyze`：分析问题
  - `/agent execute`：执行任务
  - `/agent review`：审查任务
  - `/agent status`：查看代理状态
  - `/task-start`：启动任务
  - `/task-plan`：制定任务计划

## /task-start
```
/task-start
- 负责人：SHUNSUKE AI
- 问题编号：#<问题编号>
- 目标：<简短的目标描述>
- 范围：<涉及的文件/区域>
- 完成标准：<完成任务的判断标准>
- 风险等级：<无|低|中|高>
```

## /task-plan
```
/task-plan
- 执行计划：
  - 问题分析
  - 代理执行（或代理团队协作/人工智能辅助）
  - Git 工作流程
  - 调试与故障排除
```

## /task-close
```
/task-close
- 实施情况：<任务执行总结>
- 验证结果：<通过的测试/检查>
- 变更内容：<修改的文件>
- 风险/后续步骤：<需要采取的措施>
- 通知方式：pushcut / Telegram 按钮通知
```

## 可复现性规则：
1. 所有任务的消息头和消息尾格式必须一致。
2. 状态和进度更新必须具有确定性。
3. 每次更新时都必须包含 `问题编号`、`目标`、`状态` 和 `下一步操作`。
4. 对于需要审批的任务，必须明确显示 `AWAITING APPROVAL` 状态，并要求用户进行操作。
5. 任务完成后或出现错误时，必须附上状态总结和相关成果。