---
name: briefing
description: "每日简报：将日历（gcalcli-calendar）、待办事项（todo-management）以及天气信息（openmeteo-sh-weather-simple）整合成一份简洁的汇总报告。"
metadata: {"openclaw":{"emoji":"📋"}}
user-invocable: true
---

# 每日简报

使用相关技能来生成每日简报。每个数据源都是可选的——如果某个技能不可用，则可以跳过。

## 数据源

以下是三个可选的数据源。如果某个数据源不在可用技能列表中，请跳过它：

- **日历** — `gcalcli-calendar`
- **待办事项** — `todo-management`
- **天气** — `openmeteo-sh-weather-simple`（需要使用会话上下文中的默认城市/国家）

如果这三个数据源都不可用，请告知用户没有数据可供生成简报，并停止操作。切勿伪造简报内容。

## 简报的生成规则

根据当前时间和当天的日历事件，判断用户的一天是否已经结束：

- 如果当天还有活动安排，则简报内容涵盖当天；
- 如果当天即将结束，则简报内容涵盖明天。

请注意：待办事项没有时间限制，因此始终会显示所有未完成的任务。

## 数据收集

对于每个可用的数据源，在执行任何命令之前，请先阅读其对应的 `SKILL.md` 文件。

### 日历

1. 阅读 `gcalcli-calendar` 的 `SKILL.md` 文件。
2. 获取简报当天的日程安排。
3. 如果没有日程安排，请在简报中注明。

### 待办事项

1. 阅读 `todo-management` 的 `SKILL.md` 文件。
2. 列出所有未完成或待处理的待办事项。
3. 如果没有待办事项，请在简报中注明。

### 天气

1. 获取简报当天的天气状况和预报。使用会话上下文中的默认城市/国家。
2. 使用以下命令获取天气信息（务必加上 `--llm` 选项）：
   - 当天：`openmeteo weather --current --forecast-days=1 --city="{city}" --llm`
   - 明天：`openmeteo weather --current --forecast-days=2 --forecast-since=2 --city="{city}" --llm`

### 错误处理

如果某个命令执行失败，请跳过该部分并简要说明错误原因。切勿重复尝试。切勿伪造任何数据。

## 简报内容生成

仅包含那些能够获取到数据的源的信息。如果某个数据源没有返回任何数据，也应在简报中用一句话注明。

### 简报结构

1. **标题行**：简洁明了，包含日期、星期几和时间。例如：`2024年2月14日（星期五，8:12）简报`。如果简报内容涵盖明天，请在标题中明确说明。
2. **天气**：用1-2行描述当天的温度、天气状况以及任何值得关注的信息。
3. **日历**：按时间顺序列出简报当天的日程安排。全天事件排在最前面；如果没有事件，则用一行说明。
4. **即将发生的事宜**：列出接下来2-3天内值得关注的事件（如果有），每天用一行显示。如果没有值得关注的事件，则省略此部分。
5. **待办事项**：简要列出所有未完成的待办事项，优先显示优先级较高的任务。如果没有待办事项，则用一行说明。

### 示例输出

请严格按照以下格式生成简报（使用用户的语言）：
```
Briefing 14.02 (Sat, 8:12)

**🌤 Weather (London, UK)**
+2°C, cloudy, wind 11 km/h. Daytime to -3°C, light rain.

**📅 Calendar**
09:00 — Standup
14:00 — Sprint review
18:30 — Driving school

**🔜 Upcoming**
• 15.02: Free day.
• 16.02: Daily standup 12:00, Driving school 18:30.

**✅ Todos**
• [work] Debug feature X.
• [personal] Book a doctor's appointment.
```
**注意：** 标题部分使用粗体，并且内容紧接在下一行；各部分之间保留空行；简报结尾没有问题或行动号召。

### 格式规范（严格遵循）

这些格式规范对移动设备的阅读体验至关重要，请务必严格遵守：

- **部分之间**：必须保留一个空行。
- **部分标题与内容之间**：不能有空行，内容应直接开始在下一行。
- 正确的格式示例：
```
**Calendar**
09:00 — Standup
14:00 — Review
```
- 错误的格式示例：
```
**Calendar**

09:00 — Standup
14:00 — Review
```
- 如果简报内容涵盖明天，请在日历和天气部分的标题中明确说明。
- 不要缩短用户提供的城市名称。
- 使用用户请求的语言。
- 采用简洁的格式，便于在移动设备上阅读：使用粗体标题、简短的内容。
- 保持内容简洁明了，避免冗余信息。

### 严格禁止的内容

- 简报开头无需任何介绍性文字。
- 简报结尾不得包含任何行动号召或问题。简报应在所有内容结束后立即结束，不得使用“接下来该做什么？”或“首先应该做什么？”之类的问题。
- 绝不允许伪造任何事件、待办事项或天气数据。仅报告工具实际返回的信息。