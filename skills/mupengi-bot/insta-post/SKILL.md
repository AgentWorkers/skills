---
name: insta-post
description: 通过浏览器自动化上传Instagram帖子。适用于将图片上传到Instagram、创建Instagram帖子或自动化发布Instagram内容。该工具支持图片上传、添加标题、标记协作者，以及通过连接到活跃Instagram会话的OpenClaw浏览器工具进行分享。
author: 무펭이 🐧
---

# 通过 OpenClaw 浏览器工具上传 Instagram 帖子 🐧

使用 OpenClaw 浏览器工具（CDP 端口 18800）将图片作为 Instagram 帖子进行上传。

## 先决条件

- OpenClaw 浏览器已运行（端口 18800 已打开）
- Instagram 页面已打开且已登录
- 图片格式为 **JPG**（PNG 格式会导致“发生问题”错误）

## 快速上传

对于简单的帖子，可以使用随附的脚本：

```bash
node <skill-dir>/scripts/post.sh "<image_paths_comma_separated>" "<caption>"
```

## 推荐的浏览器工具方法

### 分步操作：

1. **获取 Instagram 页面的快照** — 使用 `browser snapshot` 功能找到对应的 Instagram 页面，并保存 `targetId`。
2. **关闭所有对话框** — 如果有设置或菜单窗口打开，请按 ESC 键或点击页面外部。
3. **点击“创建”** — 在侧边栏中找到“创建新帖子”（“새로운 게시물 만들기”或“만들기”）并点击它。
4. **上传图片** — 通过 `evaluate` 函数找到 `input[type=file]` 元素：
   ```js
   document.querySelectorAll('input[type="file"]')
   ```
   通常使用该元素的第二个元素（索引为 2），该元素支持上传视频和图片。使用 `browser upload` 功能进行上传。
5. **等待 5 秒** — 等待图片加载完成。
6. **点击“下一步”** — 进入图片裁剪界面。
7. **再次点击“下一步”** — 进入图片筛选界面。
8. **输入标题** — 找到带有 `aria-label="문구 입력..."` 的文本框，点击后开始输入标题。
9. **添加协作者**（可选）—— 在分享前：
   - 点击“添加人员标签”（“사람 태그하기”）或协作者相关选项。
   - 搜索并添加团队成员的 Instagram 账号。
10. **点击“分享”** — 提交帖子。
11. **验证** — 等待系统显示“帖子已分享”的确认信息。

## 图片准备

- **格式**：仅支持 JPG 格式。如果需要将 PNG 图片转换为 JPG，可以使用以下命令：`convert input.png -quality 92 output.jpg`
- **尺寸**：建议使用 1024x1024 或 1080x1080 的图片。
- **多张图片**：可以将多张图片上传到同一个输入框中，以创建轮播效果。

## 协作者标签设置

请在工作区的 `TOOLS.md` 文件中配置默认的协作者信息。

## 常见问题及解决方法

| 问题 | 解决方法 |
|---------|-----|
| 出现“发生问题”错误 | 将 PNG 图片转换为 JPG 格式，然后刷新浏览器 |
| 操作超时 | 重新获取页面快照并重新确认相关引用信息 |
- 设置对话框未关闭 | 按 ESC 键或点击页面外部 |
- 无法找到文件输入框 | 重新点击“创建”按钮 |
- 无法输入标题 | 先点击文本框，然后再开始输入 |
- 点击错误的元素 | 在点击任何按钮之前，请先获取页面快照并确认目标元素 |

---
> 🐧 由 **무펭이** 开发 — [무펭이즘(Mupengism)](https://github.com/mupeng) 生态系统技能