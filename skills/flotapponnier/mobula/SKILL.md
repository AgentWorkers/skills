---
name: mobula
displayName: Mobula - Crypto Market Data & Wallet Intelligence
description: 实时加密市场数据、钱包投资组合追踪以及超过88个区块链上的代币分析功能。用户可以借此查询任何代币的价格（按名称、符号或合约地址），查看所有区块链上的钱包余额和持有情况，获取历史价格数据，追踪投资组合的盈亏情况，监控大型钱包（“鲸鱼钱包”），发现新的代币，或获取类似预言机级别的价格信息。使用该服务需要从mobula.io获取免费的API密钥。
version: 1.0.1
author: Mobula
category: crypto
tags:
  - crypto
  - market-data
  - wallet
  - portfolio
  - defi
  - blockchain
  - price-api
  - token-analytics
  - multi-chain
  - real-time
requiredEnvVars:
  - MOBULA_API_KEY
homepage: https://mobula.io
docs: https://docs.mobula.io
repository: https://github.com/Flotapponnier/Crypto-date-openclaw
---
# Mobula - 多链加密货币数据智能服务

提供实时加密货币市场数据、钱包追踪以及超过88个区块链上的链上分析功能。所使用的定价服务经过Chainlink、Supra和API3的验证，具有极高的可靠性。

## 适用场景

- 当用户询问任何代币的价格、成交量、市值或价格变动时
- 当用户想要查看钱包的持有情况或投资组合价值时
- 当用户需要历史价格数据用于图表绘制或分析时
- 当用户提供合约地址并请求代币信息时
- 当用户询问特定链（如Base、Arbitrum、Solana等）上的代币时
- 当用户需要跨链投资组合概览时
- 当用户需要一次性获取多个代币的批量数据时
- 当用户询问代币的流动性、历史最高价（ATH）、历史最低价（ATL）或交易量时
- 当用户希望追踪大型钱包或监控重要交易时
- 当用户需要根据特定条件查找新代币时

## 不适用场景

- 当用户需要执行交易时（请使用bankr技能）
- 当用户需要去中心化交易所（DEX）的交换报价时（请使用defi技能）
- 当用户需要特定交易所的数据时（请使用okx或binance技能）

---

## 核心功能

### 1. 市场数据 (`mobula_market_data`)

**接口地址：`GET https://api.mobula.io/api/1/market/data`

获取所有支持链上任意代币的实时价格、成交量、市值和流动性数据。

**参数：**
- `asset`（必填）：代币名称、符号或合约地址
  - 例如："Bitcoin", "ETH", "0x532f27101965dd16442e59d40670faf5ebb142e4"
- `blockchain`（可选）：要查询的特定链
  - 例如："base", "arbitrum", "ethereum", "solana", "polygon"

**返回值：**
- 当前价格（美元）
- 价格变动：1小时、24小时、7天、30天（百分比和绝对值）
- 成交量（24小时）
- 市值
- 全稀释估值
- 流动性
- 历史最高价（ATH）和历史最低价（ATL）及其对应的日期
- 总供应量、流通量

**使用示例：**
- “比特币的价格是多少？”
- “显示Brett在Base链上的投资组合数据”
- “获取合约0x532f27101965dd16442e59d40670faf5ebb142e4的数据”
- “ETH现在是在上涨还是下跌？”
- “PEPE的市值是多少？”

**适用场景：**
- 用户询问代币价格
- 用户想了解代币的涨跌情况
- 分析代币的基本面（市值、流动性、成交量）
- 比较不同代币

---

### 2. 钱包投资组合 (`mobula_wallet_portfolio`)

**接口地址：`GET https://api.mobula.io/api/1/wallet/portfolio`

通过一次请求获取用户在所有88个链上的所有钱包的投资组合信息。

**参数：**
- `wallet`（必填）：钱包地址
  - 格式："0x..." 或 ENS名称（例如："vitalik.eth")
- `blockchains`（可选）：用逗号分隔的链列表（用于过滤特定链）
  - 默认：所有链
- `cache`（可选）：使用缓存数据（更快，但数据更新稍慢）

**返回值：**
- 持有的所有代币：
  - 代币名称、符号、地址
  - 余额（数量和美元价值）
  - 当前价格
  - 24小时价格变动
  - 估计利润/亏损
  - 所在链
- 投资组合总价值（美元）
- 各代币在投资组合中的占比
- 如果有NFT，也会显示

**使用示例：**
- “显示钱包0x123...的投资组合”
- “vitalik.eth持有哪些代币？”
- “查看我的钱包余额”
- “这个钱包的总价值是多少？”
- “显示这个钱包中前5大持有代币”

**适用场景：**
- 跟踪投资组合
- 分析钱包资产
- 在交易前后检查持有情况
- 监控投资组合分配
- 设置投资组合警报

---

### 3. 历史价格数据 (`mobula_market_history`)

**接口地址：`GET https://api.mobula.io/api/1/market/history`

获取任意代币的历史价格数据，支持灵活的时间范围。

**参数：**
- `asset`（必填）：代币名称、符号或地址
- `from`（可选）：开始时间戳（Unix秒）
- `to`（可选）：结束时间戳（Unix秒）
- `period`（可选）：数据粒度
  - 选项："1h", "1d", "1w"
  - 默认：根据时间范围自动选择

**返回值：**
- 带时间戳的价格点数组
- 每个时间点的成交量
- 每个时间点的市值

**使用示例：**
- “显示过去30天的ETH价格”
- “1月1日这个代币的价格是多少？”
- “这个代币这周是上涨还是下跌？”
- “绘制过去7天BTC的价格走势”

**适用场景：**
- 分析价格趋势
- 计算历史盈亏
- 比较不同时间范围内的价格走势
- 发现价格模式（突破点、支撑位、阻力位）

---

### 4. 最新交易 (`mobula_market_trades`)

**接口地址：`GET https://api.mobula.io/api/1/market/trades`

获取所有DEX和链上任意代币的最新交易记录。

**参数：**
- `asset`（必填）：代币名称、符号或地址
- `limit`（可选）：返回的交易数量（默认：50条，最大300条）

**返回值：**
- 最新交易记录数组：
  - 时间戳
  - 交易类型（买入/卖出）
- 交易数量（代币和美元）
- 交易价格
- 交易方钱包地址
- 交易所和链
- 交易哈希

**使用示例：**
- “显示这个代币的最新交易”
- “现在谁在买入PEPE？”
- “这个代币有大型交易吗？”
- “这个代币最近10笔交易是什么？”

**适用场景：**
- 监控大型交易者（“鲸鱼”）
- 发现异常交易行为（大额买卖）
- 验证交易量
- 分析市场情绪（买入多还是卖出多）

---

### 5. 钱包交易历史 (`mobula_wallet_transactions`)

**接口地址：`GET https://api.mobula.io/api/1/wallet/transactions`

获取任何钱包在所有链上的完整交易记录。

**参数：**
- `wallet`（必填）：钱包地址
- `from`（可选）：开始时间戳
- `to`（可选）：结束时间戳
- `asset`（可选）：按特定代币过滤
- `limit`（可选）：交易数量（默认：100条）

**返回值：**
- 交易记录数组：
  - 交易类型（交换、转账、铸造、销毁）
- 涉及的代币
- 交易金额
- 交易时的美元价值
- 时间戳
- 链
- 交易哈希

**使用示例：**
- “这个钱包最近买了什么？”
- “显示0x123...的最近10笔交易”
- “这个钱包最后一次出售ETH是什么时候？”
- “追踪这个大型钱包的活动”

**适用场景：**
- 监控钱包活动
- 跟踪大型交易者
- 发现交易模式

---

### 6. 多资产数据 (`mobula_market_multi`)

**接口地址：`GET https://api.mobula.io/api/1/market/multi-data`

通过一次请求获取多个代币的市场数据。

**参数：**
- `assets`（必填）：用逗号分隔的代币名称/符号/地址列表
  - 例如："Bitcoin,Ethereum,Solana" 或 "BTC,ETH,SOL"
  - 每次请求最多500个代币

**返回值：**
- 与`mobula_market_data`相同的数据，但适用于多个代币
- 适用于投资组合分析、 watchlist管理和市场概览

**使用示例：**
- “比较今天的BTC、ETH和SOL的表现”
- “显示我的watchlist中表现最好的代币”
- “获取这些10个代币的价格”

**适用场景：**
- 投资组合估值
- 更新watchlist
- 查看市场概况（热门币种）
- 批量查询价格

---

### 7. 代币元数据 (`mobula_metadata`)

**接口地址：`GET https://api.mobula.io/api/1/metadata`

获取任意代币的详细元数据。

**参数：**
- `asset`（必填）：代币名称、符号或地址

**返回值：**
- 代币名称、符号、标志
- 项目描述
- 官方网站、Twitter、Telegram、Discord链接
- 所有链上的合约地址
- 上市日期
- 分类/标签

**使用示例：**
- “介绍一下这个代币”
- “这个项目的官网是哪里？”
- “在哪里可以找到他们的社区？”

**适用场景：**
- 研究新代币
- 验证代币的合法性
- 查找官方信息

---

## 认证

**要求：** 所有API请求都需要通过API密钥进行认证。

**设置步骤：**
1. 在**https://mobula.io**获取免费的API密钥（免费 tier每分钟100次请求）
2. 设置环境变量：
   ```bash
   export MOBULA_API_KEY="your_key_here"
   ```
3. 重启OpenClaw代理

**请求头格式：**
```
Authorization: ${MOBULA_API_KEY}
```

**如果认证失败（401/403）：**
- 确认密钥已设置：`echo $MOBULA_API_KEY`
- 如果密钥过期，请在https://mobula.io重新生成
- 检查请求速率限制（免费 tier每分钟100次请求，如需更多请升级）

---

## 隐私与安全

**重要提示 - 使用前请阅读：**

### 本功能访问的数据
- **仅访问公共区块链数据**：钱包地址、代币价格、交易历史
- **不访问私钥**：切勿向本功能提供私钥、助记词或密码
- **仅需要Mobula API密钥**（用于访问公共数据）

### 钱包地址隐私
- 通过本功能查询的钱包地址会被发送到Mobula的API（https://api.mobula.io）
- 查询钱包地址会公开其持有情况（链上数据本身是公开的）
- **仅使用您愿意公开的钱包地址**
- **切勿输入您希望保密的地址**

### API密钥权限
- Mobula API密钥仅提供对公共区块链数据的**只读**访问权限
- 可以在https://mobula.io设置密钥的访问范围、轮换或撤销权限
- 免费 tier每分钟100次请求
- 建议为测试环境和生产环境使用不同的API密钥

### 数据保留
- Mobula可能会记录API请求用于分析和限制请求频率
- 请参阅Mobula的隐私政策：https://mobula.io/privacy
- 请勿查询您认为敏感的钱包或数据

### 最佳实践
1. 在初始测试阶段使用一次性/测试用的API密钥
2. 仅查询公共钱包地址（例如：vitalik.eth、知名地址）
3. 如果希望保护隐私，请避免查询个人钱包
4. 定期轮换API密钥
5. 定期在https://mobula.io查看请求速率限制和使用情况

---

## 使用Heartbeat系统进行智能监控

OpenClaw的Heartbeat系统每约30分钟检查一次系统状态。您可以使用以下模式进行主动监控：

### 模式1：投资组合监控

每次检查时：
1. 通过`mobula_wallet_portfolio`获取用户的投资组合信息
2. 计算各代币的占比
3. 检查以下情况：
   - 任何代币占比超过40% → 建议重新平衡
   - 任何代币24小时内跌幅超过15% → 发出警报并附上详细信息
   - 投资组合总价值变化超过10% → 通知用户
4. 将之前的数据存储在内存中以便检测变化
5. 每天在用户指定的时间发送汇总信息

### 模式2：大型交易者监控

每次检查时：
1. 通过`mobula_wallet_transactions`检查被监控钱包的交易记录
2. 如果有新的大额交易（>50K美元）：
   - 通过`mobula_market_data`获取代币详情
   - 通过`mobula_market_trades`查看最新交易
   - 核对是否有其他被监控的大型交易者购买了相同的代币
3. 如果有多个大型交易者同时购买同一代币 → 发出优先级警报

### 模式3：代币自动发现

每4-6小时检查一次：
1. 用户定义筛选条件（存储在内存中）：
   - 链：Base、Arbitrum
   - 市值：<500万美元
   - 流动性：>10万美元
   - 24小时成交量变化：>50%
2. 通过`mobula_market_data`查询符合条件的代币
3. 对于每个符合条件的代币：
   - 获取7天的历史价格数据
   - 查看代币元数据
   - 计算风险评分
4. 提供排名前三的代币及其分析结果

### 模式4：智能价格警报

不仅仅是简单的“价格超过X”警报，而是根据具体条件发送警报：

**示例：**“如果比特币在1小时内价格上涨超过5%，并且成交量是24小时平均值的2倍，则向我发送警报”

每次检查时：
1. 通过`mobula_market_data`获取当前价格和成交量
2. 与1小时前的价格进行比较（数据存储在内存中）
3. 检查成交量条件是否满足
4. 仅当两个条件都满足时发送警报

---

## 结合多个接口获取深入分析

**示例：全面分析代币**

用户询问：“我应该买入这个代币吗？”

1. 使用`mobula_market_data`获取当前价格、市值、成交量和流动性
2. 使用`mobula_market_history`获取7天和30天的价格趋势
3. 使用`mobula_market_trades`获取最新交易情况（是否为积累或分散）
4. 使用`mobula_metadata`获取项目信息、社交媒体链接和合约验证

**响应格式：**
```
TOKEN Analysis

Price: $0.042 (down 8% 24h, up 156% 7d)
- Near 7d high, down from $0.051
- Still up 400% from 30d low

Fundamentals:
- Mcap: $2.1M (small cap, high risk/reward)
- Liquidity: $280K (decent for size)
- Volume: $1.2M 24h (healthy)

On-chain:
- Recent trades show buying pressure (3:1 buy/sell ratio)
- 2 large buys ($50K+) in last 2h

Project:
- Contract verified
- Active Twitter (12K followers)

Risk: Small cap, high volatility. Don't ape more than you can lose.
```

---

## 响应格式指南

### 价格显示
- 始终说明价格变动方向：“价格上涨12.4%”或“价格下跌3.2%”
- 包含时间范围：“价格上涨12.4%（24小时）”
- 添加背景信息：“当前价格为0.042美元（24小时内上涨12%，较12月1日的历史最高价下跌8%）”

### 大额数字
- 清晰格式化：“123万美元”，“45.6万美元”，“456亿美元”
- 避免使用“1234567”

### 百分比
- 用于表示占比时：“ETH占投资组合的42%”
- 用于表示变化时：“24小时内下跌15.3%”

### 背景信息很重要
不要简单地说“价格为0.003美元”，而应说明：“当前价格为0.003美元（24小时内下跌8%，较12月1日的历史最高价下跌65%，但较7天前的低点上涨12%）”

---

## 常见用户请求及处理方式

### “为[代币]设置警报”

1. 确认请求
2. 询问具体条件（价格阈值？百分比变化？成交量波动？）
3. 确认将通过Heartbeat系统进行监控
4. 将警报配置存储在内存中
5. 确认：“我将在每30分钟检查[代币]，并在[渠道]上向您发送警报”

### “跟踪这个钱包”

1. 将钱包添加到监控列表
2. 询问需要关注的内容：
   - 所有交易？
   - 仅关注大额交易（>X美元）？
   - 特定代币？
3. 将信息存储在内存中
4. 确认监控已启动

### “查找符合[条件]的代币”

1. 明确查询条件：
   - 链接？
   - 市值范围？
   - 流动性要求？
   - 最小成交量？
2. 设置定期检查（建议间隔4-6小时）
3. 询问所需的结果数量
4. 在下一次检查时开始监控

### “当前加密货币市场情况如何？”

1. 通过`mobula_market_multi`查看主要代币（BTC、ETH、SOL、BNB）的情况
2. 识别24小时内涨幅超过5%的主要代币
3. 查看成交量最高的代币
4. 提供简洁的市场概览

---

## 错误处理

### API密钥问题
- **未设置密钥**：“我需要Mobula API密钥来获取加密货币数据。请在https://mobula.io获取一个免费密钥，然后通过`export MOBULA_API_KEY='your_key'`将其添加到环境变量中”
- **密钥无效**：“您的API密钥似乎无效，请在https://mobula.io检查”
- **请求速率限制**：“您已达到API请求速率限制。请在https://mobula.io升级套餐以获得更多请求次数”

### 代币未找到
- “我找不到该代币。可以提供合约地址吗？或者检查拼写？”
- 如果可能，建议提供类似的代币
- 提供按合约地址搜索的功能

### 钱包问题
- **地址无效**：“这个地址看起来不是有效的钱包地址。应该是0x...（42个字符）或像vitalik.eth这样的ENS名称”
- **无交易记录**：“这个钱包没有交易记录或余额。这是正确的地址和链吗？”

---

## 请求速率限制与最佳实践

### 遵守请求速率限制
- 免费 tier每分钟100次请求
- 使用`mobula_market_multi`进行批量查询，避免多次调用`mobula_market_data`
- 在适当的情况下将数据缓存到内存中（元数据通常不会频繁变化）

### 高效使用Heartbeat系统
- 不要在每次检查时都调用所有接口
- 仅根据当前的监控需求获取所需数据
- 尽可能进行批量请求
- 存储之前的数据以便检测变化

---

## 支持的区块链

支持88个以上的区块链，包括：Ethereum、Base、Arbitrum、Optimism、Polygon、BNB Chain、Avalanche、Solana、Fantom、Cronos等。

完整列表：https://docs.mobula.io/blockchains

---

## 资源

- **Mobula官网：** https://mobula.io
- **API文档：** https://docs.mobula.io
- **技能仓库：** https://github.com/Flotapponnier/Crypto-date-openclaw
- **支持：** 在GitHub上提交问题或访问Mobula的Discord频道

---

## 版本历史

- **1.0.1**（2024-02-20）：安全性和清晰度改进
  - 添加了全面的隐私与安全章节
  - 明确了API密钥的要求（删除了“开发/测试无需API密钥”的错误说明）
  - 更新了认证文档
  - 添加了API密钥管理的最佳实践
  - 明确了关于钱包地址隐私的警告

- **1.0.0**（2024-02-20）：初始版本
  - 提供了7个核心接口（市场数据、投资组合、历史数据、交易记录、多资产数据、元数据）
  - 引入了Heartbeat监控模式
  - 提供了智能警报示例
  - 提供了详细的文档