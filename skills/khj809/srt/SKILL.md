---
name: srt
description: éŸ©å›½SRTï¼ˆSuper Rapid Trainï¼‰çš„æœç´¢ã€é¢„è®¢åŠç®¡ç†åŠŸèƒ½
homepage: https://github.com/khj809/openclaw-srt-skill
user-invocable: true
metadata:
  {
    "openclaw":
      {
        "emoji": "ğŸš…",
        "requires": { "bins": ["python3", "uv"] },
        "install": [
          {"id": "uv", "kind": "uv", "package": "SRTrain", "label": "Install SRTrain (uv)"}
        ]
      },
  }
---

# SRTéŸ©å›½é«˜é“æœåŠ¡æŠ€èƒ½

è¿™æ˜¯ä¸€ä¸ªOpenClawæŠ€èƒ½ï¼Œç”¨äºç®¡ç†éŸ©å›½SRTï¼ˆSuper Rapid Trainï¼‰çš„é¢„è®¢ï¼Œæ”¯æŒæœç´¢ã€é¢„è®¢ã€æŸ¥çœ‹å’Œå–æ¶ˆåŠŸèƒ½ã€‚

## ä¸»è¦åŠŸèƒ½

- ğŸ” **æœç´¢åˆ—è½¦**ï¼šå¯ä»¥æŸ¥è¯¢æŒ‡å®šç«™ç‚¹ä¹‹é—´çš„åˆ—è½¦ï¼Œå¹¶æ˜¾ç¤ºå®æ—¶çš„åº§ä½å¯ç”¨æƒ…å†µã€‚
- ğŸ« **é¢„è®¢åˆ—è½¦**ï¼šæ”¯æŒè‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼Œä»¥ä¿æŠ¤ç”¨æˆ·è´¦æˆ·å®‰å…¨ã€‚
- ğŸ“‹ **æŸ¥çœ‹é¢„è®¢**ï¼šç”¨æˆ·å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å·²æœ‰çš„é¢„è®¢ä¿¡æ¯ã€‚
- ğŸ—‘ï¸ **å–æ¶ˆé¢„è®¢**ï¼šæä¾›ç¡®è®¤æç¤ºåå³å¯å–æ¶ˆé¢„è®¢ã€‚
- ğŸ¤– **å…¼å®¹AI**ï¼šè¾“å‡ºJSONæ ¼å¼çš„æ•°æ®ï¼Œä¾¿äºç¨‹åºåŒ–è®¿é—®ã€‚
- ğŸ›¡ï¸ **é€Ÿç‡é™åˆ¶**ï¼šé˜²æ­¢è´¦æˆ·è¢«å°ç¦ï¼ˆæ¯æ¬¡é¢„è®¢é—´éš”è‡³å°‘3ç§’ï¼Œæ¯æ¬¡æœç´¢é—´éš”è‡³å°‘5ç§’ï¼‰ã€‚
- âš ï¸ **é‡è¯•ä¿æŠ¤**ï¼šæ¯ä¸ªä¼šè¯æœ€å¤šå…è®¸10æ¬¡é‡è¯•ã€‚

## å…ˆå†³æ¡ä»¶

- å®‰è£…äº†Python 3.10æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚
- æ‹¥æœ‰SRTè´¦æˆ·ï¼ˆåŒ…å«æ‰‹æœºå·ç å’Œå¯†ç ï¼‰ã€‚
- å®‰è£…å¹¶é…ç½®äº†OpenClawã€‚

## é…ç½®

å°†SRTçš„ç”¨æˆ·åå’Œå¯†ç è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ï¼š

```bash
export SRT_PHONE="010-1234-5678"
export SRT_PASSWORD="your_password"
```

å°†è¿™äº›å˜é‡æ·»åŠ åˆ°ä½ çš„shellé…ç½®æ–‡ä»¶ï¼ˆå¦‚`~/.zshrc`æˆ–`~/.bashrc`ï¼‰ä¸­ï¼Œä»¥ä¾¿é•¿æœŸä½¿ç”¨ã€‚

**å®‰å…¨æç¤ºï¼š**è¯·å‹¿å°†å‡­æ®æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­ã€‚

**é‡è¦æç¤ºï¼š**æ‰‹æœºå·ç å¿…é¡»ä½¿ç”¨`010-XXXX-XXXX`çš„æ ¼å¼ã€‚

## ä½¿ç”¨æ–¹æ³•

### ç”¨æˆ·è°ƒç”¨å‘½ä»¤

åœ¨OpenClawä¸­ä½¿ç”¨`/srt`å‘½ä»¤ï¼š

```
/srt search --departure "ìˆ˜ì„œ" --arrival "ë¶€ì‚°" --date "20260217" --time "140000"
/srt reserve --train-id "1"
/srt reserve --retry --timeout-minutes 60
/srt reserve --retry --train-id "1,3,5" --timeout-minutes 60
/srt log -n 30
/srt list
/srt cancel --reservation-id "RES123456"
```

### é€šè¿‡è‡ªç„¶è¯­è¨€ï¼ˆAIåè°ƒï¼‰

AIå¯ä»¥æ ¹æ®ç”¨æˆ·çš„æ„å›¾è°ƒç”¨æ­¤æŠ€èƒ½ï¼š

**ç¤ºä¾‹ï¼š**
- â€œæœç´¢2æœˆ17æ—¥ä»é¦–å°”SRTç«™åˆ°é‡œå±±ç«™çš„åˆ—è½¦ã€‚â€
- â€œé¢„è®¢æœ€å¿«çš„åˆ—è½¦ã€‚â€
- â€œæŸ¥çœ‹æˆ‘çš„é¢„è®¢ä¿¡æ¯ã€‚â€
- â€œå–æ¶ˆæˆ‘åœ¨é‡œå±±çš„é¢„è®¢ã€‚â€

### ç›´æ¥ä½¿ç”¨CLI

```bash
# Search trains
uv run --with SRTrain python3 scripts/srt_cli.py search \
  --departure "ìˆ˜ì„œ" \
  --arrival "ë¶€ì‚°" \
  --date "20260217" \
  --time "140000" \
  --passengers "adult=2"

# Make reservation (single attempt)
uv run --with SRTrain python3 scripts/srt_cli.py reserve --train-id "1"

# Make reservation with automatic retry - all trains (background mode recommended)
uv run --with SRTrain python3 scripts/srt_cli.py reserve --retry \
  --timeout-minutes 60 \
  --wait-seconds 10

# Make reservation with automatic retry - specific trains only
uv run --with SRTrain python3 scripts/srt_cli.py reserve --retry \
  --train-id "1,3,5" \
  --timeout-minutes 60 \
  --wait-seconds 10

# Check reservation log
uv run --with SRTrain python3 scripts/srt_cli.py log -n 30

# View bookings
uv run --with SRTrain python3 scripts/srt_cli.py list --format json

# Cancel booking
uv run --with SRTrain python3 scripts/srt_cli.py cancel \
  --reservation-id "RES123456" \
  --confirm
```

## å¸¸è§éŸ©å›½è½¦ç«™åç§°

**ä¸»è¦SRTè½¦ç«™ï¼š**
- é¦–å°”SRTç«™ï¼ˆìˆ˜ì„œ, Suseoï¼‰
- é‡œå±±ï¼ˆë¶€ì‚°, Busanï¼‰
- å¤§é‚±ï¼ˆë™ëŒ€êµ¬, Dongdaeguï¼‰
- å¤§ç”°ï¼ˆëŒ€ì „, Daejeonï¼‰
- å¤©å®‰-ç‰™å±±ï¼ˆì²œì•ˆì•„ì‚°, Cheonan-Asanï¼‰
- äº”æ¾ï¼ˆì˜¤ì†¡, Osongï¼‰
- å…‰å·æ¾äº­ï¼ˆê´‘ì£¼ì†¡ì •, Gwangju-Songjeongï¼‰
- ä¹Œå±±ï¼ˆìš¸ì‚°, Ulsanï¼‰
- æµ¦é¡¹ï¼ˆí¬í•­, Pohangï¼‰
- åº†å·ï¼ˆê²½ì£¼, Gyeongjuï¼‰
- é‡‘æ³‰-å¤ç¾ï¼ˆê¹€ì²œêµ¬ë¯¸, Gimcheon-Gumiï¼‰
- ä¼Šå·ï¼ˆìµì‚°, Iksanï¼‰
- å…¨å·ï¼ˆì „ì£¼, Jeonjuï¼‰
- æœ¨æµ¦ï¼ˆëª©í¬, Mokpoï¼‰
- æ–°åº†å·ï¼ˆì‹ ê²½ì£¼, Singyeongjuï¼‰

**é‡è¦æç¤ºï¼š**SRT APIåªèƒ½è¯†åˆ«éŸ©æ–‡ï¼ˆHangulï¼‰è½¦ç«™åç§°ã€‚

## æ—¥æœŸå’Œæ—¶é—´æ ¼å¼

- **æ—¥æœŸï¼š**YYYYMMDDï¼ˆä¾‹å¦‚ï¼Œ20260217è¡¨ç¤º2026å¹´2æœˆ17æ—¥ï¼‰
- **æ—¶é—´ï¼š**HHMMSSï¼ˆä¾‹å¦‚ï¼Œ140000è¡¨ç¤ºä¸‹åˆ2ç‚¹ï¼Œ093000è¡¨ç¤ºä¸Šåˆ9ç‚¹30åˆ†ï¼‰

## ç”¨äºAIä»£ç†çš„å·¥å…·

æ­¤æŠ€èƒ½æä¾›äº†5ä¸ªå·¥å…·æ¥ç®¡ç†SRTåˆ—è½¦é¢„è®¢ï¼š

### 1. `search_trains`  
æœç´¢æŒ‡å®šç«™ç‚¹ä¹‹é—´çš„å¯ç”¨åˆ—è½¦ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
uv run --with SRTrain python3 scripts/srt_cli.py search \
  --departure "ìˆ˜ì„œ" \
  --arrival "ë¶€ì‚°" \
  --date "20260217" \
  --time "120000"
```

**è¿”å›å€¼ï¼š**åŒ…å«åº§ä½å¯ç”¨æƒ…å†µçš„åˆ—è½¦åˆ—è¡¨ï¼ˆJSONæ ¼å¼ï¼‰ï¼š

```json
{
  "success": true,
  "data": [
    {
      "train_id": "1",
      "train_number": "301",
      "train_name": "SRT301",
      "departure_time": "120500",
      "arrival_time": "143000",
      "departure_station": "ìˆ˜ì„œ",
      "arrival_station": "ë¶€ì‚°",
      "seat_available": true,
      "general_seat": "ì˜ˆì•½ê°€ëŠ¥",
      "special_seat": "ì˜ˆì•½ê°€ëŠ¥"
    }
  ]
}
```

### 2. `makereservation`  
é¢„è®¢åˆ—è½¦ï¼Œæ”¯æŒå¯é€‰çš„è‡ªåŠ¨é‡è¯•åŠŸèƒ½ã€‚

**å•æ¬¡å°è¯•ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
uv run --with SRTrain python3 scripts/srt_cli.py reserve --train-id "1"
```

**å¸¦é‡è¯•åŠŸèƒ½çš„ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
# Try all trains
uv run --with SRTrain python3 scripts/srt_cli.py reserve --retry \
  --timeout-minutes 60 \
  --wait-seconds 10

# Try specific trains only
uv run --with SRTrain python3 scripts/srt_cli.py reserve --retry \
  --train-id "1,3,5" \
  --timeout-minutes 60 \
  --wait-seconds 10
```

**é€‰é¡¹ï¼š**
- `--train-id`ï¼šè¦é¢„è®¢çš„åˆ—è½¦IDï¼ˆç”¨é€—å·åˆ†éš”ï¼Œä¾‹å¦‚â€œ1â€æˆ–â€œ1,3,5â€ï¼›çœç•¥åˆ™å°è¯•æ‰€æœ‰åˆ—è½¦ï¼‰
- `--retry`ï¼šå¯ç”¨è‡ªåŠ¨é‡è¯•
- `--timeout-minutes`ï¼šæœ€å¤§é‡è¯•æ—¶é—´ï¼ˆé»˜è®¤ï¼š60åˆ†é’Ÿï¼‰
- `--wait-seconds`ï¼šæ¯æ¬¡é‡è¯•ä¹‹é—´çš„ç­‰å¾…æ—¶é—´ï¼ˆé»˜è®¤ï¼š10ç§’ï¼‰

**`--retry`é€‰é¡¹çš„è¡Œä¸ºï¼š**
1. éå†æœç´¢ç»“æœä¸­çš„æ‰€æœ‰å¯ç”¨åˆ—è½¦ã€‚
2. åœ¨æ¯æ¬¡å°è¯•ä¹‹é—´ç­‰å¾…`--wait-seconds`æŒ‡å®šçš„æ—¶é—´ï¼ˆåŠ ä¸Šé€Ÿç‡é™åˆ¶çš„å»¶è¿Ÿï¼‰ã€‚
3. é‡å¤å°è¯•ç›´åˆ°æˆåŠŸæˆ–è¶…æ—¶ã€‚
4. å°†è¿›åº¦è®°å½•åˆ°`~/.openclaw/tmp/srt/reserve.log`æ–‡ä»¶ä¸­ã€‚

**è¿”å›å€¼ï¼š**åŒ…å«æ”¯ä»˜æˆªæ­¢æ—¥æœŸçš„é¢„è®¢è¯¦æƒ…ï¼ˆJSONæ ¼å¼ï¼‰ï¼š

**æ³¨æ„ï¼š**  
- ç”¨æˆ·éœ€è¦é€šè¿‡SRTåº”ç”¨ç¨‹åºæˆ–ç½‘ç«™æ‰‹åŠ¨å®Œæˆæ”¯ä»˜ã€‚
- åœ¨ä½¿ç”¨é‡è¯•æ¨¡å¼æ—¶ï¼Œå»ºè®®åœ¨åå°è¿è¡Œè¯¥å·¥å…·å¹¶å®šæœŸæ£€æŸ¥æ—¥å¿—æ–‡ä»¶ã€‚

### 3. `view_bookings`  
åˆ—å‡ºæ‰€æœ‰å½“å‰çš„é¢„è®¢ä¿¡æ¯ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
uv run --with SRTrain python3 scripts/srt_cli.py list --format json
```

**è¿”å›å€¼ï¼š**æ‰€æœ‰æœ‰æ•ˆé¢„è®¢çš„åˆ—è¡¨ï¼ˆJSONæ ¼å¼ï¼‰ï¼š

```json
{
  "success": true,
  "data": [
    {
      "reservation_id": "RES123456",
      "journey_date": "20260217",
      "journey_time": "120500",
      "departure": "ìˆ˜ì„œ",
      "arrival": "ë¶€ì‚°",
      "train_number": "301",
      "seat_number": "3A",
      "payment_required": true
    }
  ]
}
```

### 4. `cancel_booking`  
é€šè¿‡IDå–æ¶ˆé¢„è®¢ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
uv run --with SRTrain python3 scripts/srt_cli.py cancel \
  --reservation-id "RES123456" \
  --confirm
```

**è¿”å›å€¼ï¼š**å–æ¶ˆé¢„è®¢çš„ç¡®è®¤ä¿¡æ¯ï¼ˆJSONæ ¼å¼ï¼‰ï¼š

```json
{
  "success": true,
  "data": {
    "success": true,
    "reservation_id": "RES123456",
    "message": "Reservation cancelled successfully"
  }
}
```

### 5. `check_log`  
æŸ¥çœ‹é¢„è®¢å°è¯•çš„è¿›åº¦ï¼ˆå¯¹é‡è¯•æ¨¡å¼ç‰¹åˆ«æœ‰ç”¨ï¼‰ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
uv run --with SRTrain python3 scripts/srt_cli.py log -n 30
```

**è¿”å›å€¼ï¼š**`~/.openclaw/tmp/srt/reserve.log`æ–‡ä»¶ä¸­çš„æœ€åNè¡Œè®°å½•ã€‚

**é€‰é¡¹ï¼š**
- `-n, --lines`ï¼šæ˜¾ç¤ºçš„è¡Œæ•°ï¼ˆé»˜è®¤ï¼š20è¡Œï¼‰

## é”™è¯¯å¤„ç†

è¯¥æŠ€èƒ½ä¼šæä¾›æ¸…æ™°ã€æ˜“äºç†è§£çš„é”™è¯¯ä¿¡æ¯ï¼š

**å¸¸è§é”™è¯¯ï¼š**

1. **AuthenticationFailed**  
   - å‡­æ®æ— æ•ˆ  
   - **è§£å†³æ–¹æ³•ï¼š**æ£€æŸ¥é…ç½®æ–‡ä»¶ä¸­çš„æ‰‹æœºå·ç å’Œå¯†ç ã€‚

2. **NoSeatsAvailable**  
   - åˆ—è½¦å·²å”®ç½„  
   - **è§£å†³æ–¹æ³•ï¼š**å°è¯•å…¶ä»–åˆ—è½¦æˆ–æ—¶é—´ã€‚  
   - **é€€å‡ºä»£ç ï¼š**1ï¼ˆå¯é‡è¯•ï¼‰

3. **StationNotFound**  
   - è½¦ç«™åç§°æ— æ•ˆ  
   - **è§£å†³æ–¹æ³•ï¼š**ä½¿ç”¨ä¸Šè¿°åˆ—è¡¨ä¸­çš„éŸ©æ–‡è½¦ç«™åç§°ã€‚

4. **NoTrainsFound**  
   - æŒ‡å®šè·¯çº¿/æ—¶é—´æ²¡æœ‰åˆ—è½¦  
   - **è§£å†³æ–¹æ³•ï¼š**å°è¯•å…¶ä»–æ—¥æœŸæˆ–æ—¶é—´ã€‚

5. **RateLimitExceeded**  
   - é‡è¯•æ¬¡æ•°è¶…è¿‡é™åˆ¶ï¼ˆæ¯ä¸ªä¼šè¯æœ€å¤š10æ¬¡ï¼‰  
   **è§£å†³æ–¹æ³•ï¼š**ç­‰å¾…å‡ åˆ†é’Ÿåå†è¯•ã€‚

6. **NetworkError**  
   - è¿æ¥è¶…æ—¶æˆ–å¤±è´¥  
   **è§£å†³æ–¹æ³•ï¼š**æ£€æŸ¥ç½‘ç»œè¿æ¥å¹¶é‡æ–°å°è¯•ã€‚

**é€€å‡ºä»£ç ï¼š**
- `0`ï¼šæˆåŠŸ  
- `1`ï¼šå¯é‡è¯•çš„é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œåº§ä½å·²å”®ç½„ï¼‰  
- `2`ï¼šè‡´å‘½é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œè®¤è¯å¤±è´¥ã€è¾“å…¥æ— æ•ˆï¼‰

## âš ï¸ é€Ÿç‡é™åˆ¶å’Œè´¦æˆ·ä¿æŠ¤

ä¸ºé˜²æ­¢SRTè´¦æˆ·è¢«æœåŠ¡å™¨å°ç¦ï¼Œè¯·éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š

- **è¯·æ±‚é—´éš”ï¼š**  
  - é¢„è®¢å°è¯•ä¹‹é—´è‡³å°‘é—´éš”3ç§’ã€‚  
  - æœç´¢è¯·æ±‚ä¹‹é—´è‡³å°‘é—´éš”5ç§’ã€‚  
- **æ¯æ¬¡ä¼šè¯æœ€å¤š10æ¬¡é‡è¯•ã€‚**  
- **å¤±è´¥åçš„é‡è¯•é—´éš”é€æ¸å¢åŠ ï¼ˆ3ç§’ â†’ 5ç§’ â†’ 10ç§’ â†’ 15ç§’ â†’ 20ç§’ â†’ 30ç§’ï¼‰ã€‚  

**å¯¹ç”¨æˆ·çš„å½±å“ï¼š**  
- è¯¥æŠ€èƒ½ä¼šè‡ªåŠ¨ç­‰å¾…æŒ‡å®šæ—¶é—´åå†å‘é€è¯·æ±‚ã€‚  
- ç”¨æˆ·ä¼šçœ‹åˆ°ç±»ä¼¼â€œâ³ æ­£åœ¨ç­‰å¾…ä»¥ä¿æŠ¤SRTæœåŠ¡å™¨ï¼ˆ3ç§’ï¼‰â€çš„æç¤ºã€‚  
- å¦‚æœè¾¾åˆ°é‡è¯•é™åˆ¶ï¼Œè¯·ç­‰å¾…å‡ åˆ†é’Ÿåå†è¯•ã€‚

**å¯¹äºAIåè°ƒï¼š**  
- AIåº”åœ¨é‡è¯•æœŸé—´é€šçŸ¥ç”¨æˆ·ç­‰å¾…æƒ…å†µã€‚  
- ä¾‹å¦‚ï¼šâ€œæ­£åœ¨é‡è¯•ä¸­ï¼Œè¯·ç­‰å¾…3ç§’...â€  
- å¦‚æœå°è¯•10æ¬¡å¤±è´¥ï¼Œå»ºè®®ç”¨æˆ·é€‰æ‹©å…¶ä»–æ—¶é—´æˆ–æ—¥æœŸã€‚

## è‡ªç„¶è¯­è¨€å¤„ç†

å½“ç”¨æˆ·ä½¿ç”¨éŸ©æ–‡è¿›è¡Œè¯·æ±‚æ—¶ï¼ŒAIåº”ï¼š  
1. **ä»è‡ªç„¶è¯­è¨€ä¸­æå–å‚æ•°**ï¼š  
   - è½¦ç«™åç§°ï¼ˆå¦‚æœæ˜¯è‹±æ–‡ï¼Œè¯·è½¬æ¢ä¸ºéŸ©æ–‡ï¼‰ã€‚  
   - æ—¥æœŸï¼ˆå¦‚â€œæ˜å¤©â€ã€â€œä¸‹å‘¨äº”â€åº”è½¬æ¢ä¸ºYYYYMMDDæ ¼å¼ï¼‰ã€‚  
   - æ—¶é—´ï¼ˆå¦‚â€œä¸‹åˆ2ç‚¹â€ã€â€œ12ç‚¹ä»¥åâ€åº”è½¬æ¢ä¸ºHHMMSSæ ¼å¼ï¼‰ã€‚  
   - ä¹˜å®¢äººæ•°ï¼ˆæœªæŒ‡å®šæ—¶é»˜è®¤ä¸º1äººï¼‰ã€‚  

2. **æŒ‰æ­£ç¡®é¡ºåºè°ƒç”¨å·¥å…·**ï¼š  
   - é¦–å…ˆæœç´¢åˆ—è½¦ï¼Œç„¶åé¢„è®¢ï¼Œæœ€åå–æ¶ˆã€‚  
   - åœ¨é‡è¯•æ—¶å¤„ç†é€Ÿç‡é™åˆ¶é€»è¾‘ã€‚  

3. **ä¼˜é›…åœ°å¤„ç†é”™è¯¯**ï¼š  
   - å¦‚æœåº§ä½å·²å”®ç½„ï¼Œå»ºè®®å°è¯•å…¶ä»–åˆ—è½¦ã€‚  
   - å¦‚æœæ‰¾ä¸åˆ°è½¦ç«™ï¼Œæç¤ºæ­£ç¡®çš„éŸ©æ–‡åç§°ã€‚  
   - åœ¨æ˜¾ç¤ºç­‰å¾…ä¿¡æ¯æ—¶ä½¿ç”¨éŸ©æ–‡ã€‚  

4. **ç”¨éŸ©æ–‡ç¡®è®¤æ“ä½œç»“æœ**ï¼š  
   - â€œé¢„è®¢å·²å®Œæˆã€‚â€  
   - â€œ3ç§’åå°†å°è¯•ä¸‹ä¸€ç­åˆ—è½¦ã€‚â€  
   - â€œè¯·åœ¨SRTåº”ç”¨ç¨‹åºä¸­å®Œæˆæ”¯ä»˜ã€‚â€  

## å®é™…ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šç®€å•é¢„è®¢  
**ç”¨æˆ·ï¼š**â€œé¢„è®¢2æœˆ17æ—¥ä»é¦–å°”SRTç«™åˆ°å¤§é‚±ç«™çš„åˆ—è½¦ï¼Œæ—¶é—´åœ¨12ç‚¹ä»¥åï¼Œé€‰æ‹©æœ€å¿«çš„åˆ—è½¦ï¼Œé¢„è®¢2å¼ ç¥¨ã€‚â€  

**AIæ“ä½œï¼š**  
1. è§£æå‚æ•°ï¼šå‡ºå‘ç«™=é¦–å°”SRTç«™ï¼Œåˆ°è¾¾ç«™=å¤§é‚±ç«™ï¼Œæ—¥æœŸ=20260217ï¼Œæ—¶é—´=120000ï¼Œä¹˜å®¢äººæ•°=2ã€‚  
2. æœç´¢åˆ—è½¦ã€‚  
3. é€‰æ‹©ç¬¬ä¸€ç­å¯ç”¨åˆ—è½¦ã€‚  
4. é¢„è®¢åˆ—è½¦ã€‚  
5. æé†’ç”¨æˆ·æ”¯ä»˜ä¿¡æ¯ã€‚

### åœºæ™¯2ï¼šé‡å¤å°è¯•ç›´åˆ°æˆåŠŸ  
**ç”¨æˆ·ï¼š**â€œå¦‚æœå”®ç½„äº†ï¼Œè¯·ä¸æ–­å°è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ã€‚â€  

**AIæ“ä½œï¼š**  
1. æœç´¢åˆ—è½¦ã€‚  
2. å¯åŠ¨åå°é‡è¯•ï¼š  
   ```bash
   exec reserve --retry --timeout-minutes 60 --wait-seconds 10 (in background)
   ```  
3. åˆ›å»ºç›‘æ§ä»»åŠ¡ï¼ˆä½¿ç”¨`agentTurn`ï¼‰ï¼š  
   ```bash
   cron add --job '{
     "schedule": {"kind": "every", "everyMs": 120000},
     "payload": {
       "kind": "agentTurn",
       "message": "Check SRT retry log and report progress",
       "deliver": true,
       "channel": "discord"
     },
     "sessionTarget": "isolated",
     "enabled": true
   }'
   cron wake --mode "now"
   ```  
4. é€šçŸ¥ç”¨æˆ·ï¼šâ€œå·²å¼€å§‹åå°é‡è¯•ï¼Œæ¯2åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ç»“æœã€‚â€  

## âš ï¸ åå°é‡è¯•ç›‘æ§  

**å¼ºåˆ¶è¦æ±‚ï¼š**  
ä½¿ç”¨`isolated`ä¼šè¯å’Œ`agentTurn` cronä»»åŠ¡æ¥ç›‘æ§`reserve --retry`å‘½ä»¤çš„æ‰§è¡Œã€‚

### è®¾ç½®æ–¹æ³•  

```bash
# 1. Start background retry
exec reserve --retry --timeout-minutes 60 (background)

# 2. Create monitoring cron (isolated + agentTurn)
cron add --job '{
  "schedule": {"kind": "every", "everyMs": 120000},
  "payload": {
    "kind": "agentTurn",
    "message": "Check `srt_cli.py log -n 30`, parse progress, report to user. Delete cron if done.",
    "deliver": true,
    "channel": "discord"
  },
  "sessionTarget": "isolated",
  "enabled": true
}'

# 3. Wake immediately
cron wake --mode "now"
```

### æ‰€éœ€æ¡ä»¶ï¼š  
- `sessionTarget`ï¼šè®¾ç½®ä¸º`"isolated"`ï¼ˆè€Œé`"main"`ï¼‰ã€‚  
- `payload.kind`ï¼šè®¾ç½®ä¸º`"agentTurn"`ï¼ˆè€Œé`"systemEvent"`ï¼‰ã€‚  
- `payload.deliver`ï¼šè®¾ç½®ä¸º`true`ã€‚  
- **è°ƒåº¦é¢‘ç‡ï¼š**æ ¹æ®ä»»åŠ¡æŒç»­æ—¶é—´ï¼Œæ¯1-3åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚  
- **å”¤é†’æœºåˆ¶ï¼š**åˆ›å»ºä»»åŠ¡åå§‹ç»ˆæ‰§è¡Œ`cron wake --mode "now"`ã€‚  

**åŸå› ï¼š**  
- åœ¨`main`ä¼šè¯ä¸­ä½¿ç”¨`systemEvent`æ— æ³•è§¦å‘ä»£ç†æ“ä½œã€‚  
- `isolated`ä¼šè¯ä¸­çš„`agentTurn`ä¼šå®é™…æ‰§è¡Œä»»åŠ¡å¹¶æŠ¥å‘Šç»“æœã€‚  
- è¿™å¯ä»¥é˜²æ­¢è´¦æˆ·è¢«å°ç¦ã€æ¶ˆæ¯å †ç§¯å’Œæ— å£°ç›‘æ§é—®é¢˜ã€‚

### åœºæ™¯3ï¼šæŸ¥çœ‹å’Œå–æ¶ˆé¢„è®¢  
**ç”¨æˆ·ï¼š**â€œæŸ¥çœ‹æˆ‘çš„é¢„è®¢ä¿¡æ¯ï¼Œç„¶åå–æ¶ˆæœ€å¿«çš„é‚£ç­åˆ—è½¦ã€‚â€  

**AIæ“ä½œï¼š**  
1. åˆ—å‡ºæ‰€æœ‰é¢„è®¢ä¿¡æ¯ã€‚  
2. æ ¹æ®æ—¥æœŸ/æ—¶é—´æ‰¾åˆ°æœ€æ—©çš„é¢„è®¢ï¼Œç„¶åå–æ¶ˆå®ƒã€‚  

### åœºæ™¯4ï¼šä¿®æ”¹é¢„è®¢  
**ç”¨æˆ·ï¼š**â€œå–æ¶ˆæˆ‘åœ¨é‡œå±±çš„é¢„è®¢ï¼Œç„¶åé‡æ–°é¢„è®¢åˆ°å¤§é‚±ç«™ã€‚â€  

**AIæ“ä½œï¼š**  
1. åˆ—å‡ºæ‰€æœ‰é¢„è®¢ä¿¡æ¯ã€‚  
2. æ‰¾åˆ°é‡œå±±çš„é¢„è®¢å¹¶å–æ¶ˆå®ƒã€‚  
3. æœç´¢å‰å¾€å¤§é‚±ç«™çš„åˆ—è½¦ï¼ˆç›¸åŒæ—¥æœŸå’Œæ—¶é—´ï¼‰ã€‚  
4. é¢„è®¢æ–°çš„åˆ—è½¦ã€‚  
5. ç¡®è®¤ä¸¤æ¬¡æ“ä½œçš„ç»“æœã€‚

## æ”¯ä»˜è¯´æ˜  

**é‡è¦æç¤ºï¼š**  
è¯¥æŠ€èƒ½ä»…æ”¯æŒæœç´¢å’Œé¢„è®¢åˆ—è½¦ï¼Œ**ä¸æ”¯æŒæ”¯ä»˜å¤„ç†ã€‚  

é¢„è®¢å®Œæˆåï¼Œç”¨æˆ·ä¼šæ”¶åˆ°é¢„è®¢ç¼–å·ã€‚  
è¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼å®Œæˆæ”¯ä»˜ï¼š  
- SRTç§»åŠ¨åº”ç”¨ç¨‹åºï¼ˆiOS/Androidï¼‰  
- SRTå®˜æ–¹ç½‘ç«™ï¼ˆhttps://etk.srail.krï¼‰  

**æ³¨æ„æ”¯ä»˜æˆªæ­¢æ—¶é—´**ï¼šé€šå¸¸ä¸ºé¢„è®¢åçš„20åˆ†é’Ÿå†…ã€‚  
æœªæ”¯ä»˜çš„é¢„è®¢å°†è‡ªåŠ¨å–æ¶ˆã€‚

## æ•…éšœæ’é™¤  

### é”™è¯¯ä¿¡æ¯è¯´æ˜ï¼š  
- â€œæ— æ³•æ‰¾åˆ°SRTè®¤è¯ä¿¡æ¯â€ï¼š  
  - ç¡®ä¿`SRT_phone`å’Œ`SRT_PASSWORD`ç¯å¢ƒå˜é‡å·²è®¾ç½®æ­£ç¡®ã€‚  
  - æ£€æŸ¥shellé…ç½®æ–‡ä»¶ï¼ˆ`~/.zshrc`æˆ–`~/.bashrc`ï¼‰ä¸­æ˜¯å¦åŒ…å«`export`å‘½ä»¤ã€‚  
  - ä¾‹å¦‚ï¼š`export SRT_phone="010-1234-5678"`ã€‚  

- â€œæ‰¾ä¸åˆ°æœç´¢ç»“æœâ€ï¼š  
  - åœ¨è°ƒç”¨`reserve`å‘½ä»¤ä¹‹å‰ï¼Œè¯·å…ˆè¿è¡Œ`search`å‘½ä»¤ã€‚  
  - æœç´¢ç»“æœä¼šç¼“å­˜åœ¨`~/.openclaw/tmp/srt/last_search.pkl`æ–‡ä»¶ä¸­ã€‚  

- **é‡è¯•æ¬¡æ•°è¶…è¿‡é™åˆ¶**ï¼š  
  - ä½ å·²ç»å°è¯•äº†10æ¬¡é¢„è®¢ã€‚  
  - è¯·ç­‰å¾…5-10åˆ†é’Ÿåå†è¯•ã€‚  
  - å°è¯•å…¶ä»–åˆ—è½¦æˆ–æ—¶é—´ã€‚  

### ç™»å½•å¤±è´¥  
- ç¡®è®¤å‡­æ®æ˜¯å¦æ­£ç¡®ã€‚  
- æ£€æŸ¥SRTæœåŠ¡æ˜¯å¦å¯ç”¨ã€‚  
- ç¡®ä¿æ‰‹æœºå·ç æ ¼å¼æ­£ç¡®ï¼ˆåŒ…å«è¿å­—ç¬¦ï¼Œä¾‹å¦‚010-1234-5678ï¼‰ã€‚  

## å¼€å‘ç›¸å…³å†…å®¹  

### æœ¬åœ°æµ‹è¯•  
```bash
# Install dependencies
# Install uv if not already installed
# https://docs.astral.sh/uv/getting-started/installation/

# Configure credentials
export SRT_PHONE="010-1234-5678"
export SRT_PASSWORD="your_password"

# Test commands
uv run --with SRTrain python3 scripts/srt_cli.py search --departure "ìˆ˜ì„œ" --arrival "ë¶€ì‚°" --date "20260203" --time "140000"
uv run --with SRTrain python3 scripts/srt_cli.py list
```  

### å‘å¸ƒåˆ°ClawHub  
```bash
# Authenticate
clawhub login

# Publish
clawhub publish . \
  --slug srt \
  --name "SRT Korean Train Service" \
  --version 0.1.2 \
  --tags latest
```  

## è®¸å¯è¯  

æœ¬æŠ€èƒ½é‡‡ç”¨MITè®¸å¯è¯ã€‚  

## æŠ€æœ¯æ”¯æŒ  

å¦‚æœ‰é—®é¢˜æˆ–ç–‘é—®ï¼Œè¯·ï¼š  
- åœ¨GitHubä¸Šæäº¤é—®é¢˜ã€‚  
- æŸ¥çœ‹SRTæœåŠ¡çŠ¶æ€ï¼šhttps://etk.srail.kr  

## ç‰ˆæœ¬å†å²  

- **0.1.3**ï¼šæ”¹è¿›äº†é‡è¯•æœºåˆ¶å’Œç›‘æ§è¦æ±‚ï¼š  
  - ç»Ÿä¸€äº†`reserve`å‘½ä»¤ï¼Œæ·»åŠ äº†`--retry`å‚æ•°ã€‚  
  - å¢åŠ äº†`--timeout-minutes`å‚æ•°ä»¥è®¾ç½®åŸºäºæ—¶é—´çš„é‡è¯•é™åˆ¶ï¼ˆé»˜è®¤60åˆ†é’Ÿï¼‰ã€‚  
  - æ”¯æŒé€šè¿‡é€—å·åˆ†éš”çš„å¤šä¸ªåˆ—è½¦IDï¼ˆä¾‹å¦‚â€œ1,3,5â€ï¼‰ã€‚  
  - å°†`--wait-seconds`çš„é»˜è®¤å€¼ä»20ç§’æ”¹ä¸º10ç§’ã€‚  
  - æœç´¢ç»“æœé»˜è®¤åŒ…å«å·²å”®ç½„çš„åˆ—è½¦ï¼ˆ`available_only=False`ï¼‰ã€‚  
  - å¼•å…¥äº†éš”ç¦»ä¼šè¯å’Œ`agentTurn` cronä»»åŠ¡ä»¥æ”¯æŒåå°é‡è¯•ã€‚  

- **0.1.2**ï¼šæ·»åŠ äº†`--all`å‚æ•°ä»¥å¤„ç†å·²å”®ç½„çš„åˆ—è½¦ï¼ˆå·²å¼ƒç”¨ï¼‰ã€‚  
- **0.1.1**ï¼šä½¿ç”¨`uv`è¿›è¡Œä¾èµ–ç®¡ç†ã€‚  
  - ç”¨`uv run --with SRTrain`æ›¿ä»£äº†`venv/pip`ã€‚  
  - ä»…ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨å‡­æ®ï¼ˆä¸å†ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼‰ã€‚  

- **0.1.0**ï¼šåˆå§‹ç‰ˆæœ¬ï¼š  
  - æ”¯æŒæœç´¢åˆ—è½¦ã€é¢„è®¢ã€æŸ¥çœ‹å’Œå–æ¶ˆé¢„è®¢ã€‚  
  - å®ç°äº†é€Ÿç‡é™åˆ¶ä¿æŠ¤ã€‚  
  - è¾“å‡ºç¬¦åˆAIè¦æ±‚çš„JSONæ ¼å¼æ•°æ®ã€‚