---
name: srt
description: éŸ©å›½SRTï¼ˆSuper Rapid Trainï¼‰çš„æœç´¢ã€é¢„è®¢åŠç¥¨åŠ¡ç®¡ç†åŠŸèƒ½
homepage: https://github.com/khj809/openclaw-srt-skill
user-invocable: true
metadata:
  {
    "openclaw":
      {
        "emoji": "ğŸš…",
        "requires": { "bins": ["python3", "uv"], "env": ["SRT_PHONE", "SRT_PASSWORD"] },
        "install": [
          {"id": "uv", "kind": "uv", "package": "SRTrain", "label": "Install SRTrain from PyPI (uv) â€” source: https://pypi.org/project/SRTrain / https://github.com/ryanking13/SRT"}
        ]
      },
  }
---
# SRT éŸ©å›½ç«è½¦æœåŠ¡æŠ€èƒ½

## å…ˆå†³æ¡ä»¶

åœ¨è¿è¡Œè„šæœ¬ä¹‹å‰ï¼Œå¿…é¡»è®¾ç½®ç¯å¢ƒå˜é‡ `SRT_PHONE`ï¼ˆæ ¼å¼ï¼š`010-XXXX-XXXX`ï¼‰å’Œ `SRT_PASSWORD`ã€‚

## å‚è€ƒ

**ç¯å¢ƒå˜é‡ï¼š**
| å˜é‡ | æ˜¯å¦å¿…éœ€ | æè¿° |
|----------|----------|-------------|
| `SRT_PHONE` | âœ… | SRT è´¦æˆ·ç”µè¯å·ç ï¼ˆå¿…é¡»åŒ…å«è¿å­—ç¬¦ï¼š`010-XXXX-XXXX`ï¼‰ |
| `SRT_PASSWORD` | âœ… | SRT è´¦æˆ·å¯†ç  |
| `SRT_DATA_DIR` | å¯é€‰ | ç”¨äºå­˜å‚¨æ—¥å¿—ã€ç¼“å­˜å’ŒçŠ¶æ€æ–‡ä»¶çš„ç›®å½•ã€‚é»˜è®¤ä¸ºç³»ç»Ÿä¸´æ—¶ç›®å½•ï¼ˆ`/tmp/srt`ï¼‰ã€‚ |

**è½¦ç«™åç§°**ï¼ˆä»…é™éŸ©æ–‡ï¼‰ï¼š
ìˆ˜ì„œï¼ˆæ°´è¥¿ï¼‰ã€ë¶€ì‚°ï¼ˆé‡œå±±ï¼‰ã€ë™ëŒ€êµ¬ï¼ˆä¸œå¤§é‚±ï¼‰ã€ëŒ€ì „ï¼ˆå¤§ç”°ï¼‰ã€ì²œì•ˆì•„ì‚°ï¼ˆå¤©å®‰é˜¿å±±ï¼‰ã€ì˜¤ì†¡ï¼ˆæ¢§æ¾ï¼‰ã€ê´‘ì£¼ì†¡ì •ï¼ˆå…‰å·æ¾äº­ï¼‰ã€ìš¸ì‚°ï¼ˆè”šå±±ï¼‰ã€í¬í•­ï¼ˆæµ¦é¡¹ï¼‰ã€ê²½ì£¼ï¼ˆåº†å·ï¼‰ã€ê¹€ì²œêµ¬ë¯¸ï¼ˆé‡‘æ³‰ä¹ç¾ï¼‰ã€ìµì‚°ï¼ˆç›Šå±±ï¼‰ã€ì „ì£¼ï¼ˆå…¨å·ï¼‰ã€ëª©í¬ï¼ˆæœ¨æµ¦ï¼‰ã€ì‹ ê²½ì£¼ï¼ˆæ–°åº†å·ï¼‰

**æ—¥æœŸï¼š** `YYYYMMDD` Â· **æ—¶é—´ï¼š** `HHMMSS`ï¼ˆä¾‹å¦‚ï¼š`200000` è¡¨ç¤º 20:00ï¼‰

---

## å‘½ä»¤

### æœç´¢ç«è½¦
```bash
cd <project_dir> && uv run --with SRTrain python3 scripts/srt_cli.py train search \
  --departure "ìˆ˜ì„œ" --arrival "ë™ëŒ€êµ¬" --date "20260227" --time "200000"
```
æœç´¢å‚æ•°å’Œç»“æœä¼šè¢«ç¼“å­˜ï¼ˆä¿å­˜åœ¨ `SRT_DATA_DIR` ç›®å½•ä¸­ï¼‰ï¼Œå¹¶ä¸”æ˜¯ `reserve` å‘½ä»¤æ‰€å¿…éœ€çš„ã€‚

### é¢„è®¢ï¼ˆä¸€æ¬¡æ€§ï¼‰
```bash
cd <project_dir> && uv run --with SRTrain python3 scripts/srt_cli.py reserve one-shot --train-id "1"
```
`--train-id` æ˜¯æœç´¢ç»“æœä¸­çš„ç´¢å¼•ï¼ˆä» 1 å¼€å§‹ï¼‰ã€‚å¿…é¡»å…ˆæ‰§è¡Œ `train search` æ“ä½œã€‚

### æŸ¥çœ‹é¢„è®¢ä¿¡æ¯
```bash
cd <project_dir> && uv run --with SRTrain python3 scripts/srt_cli.py reserve list --format json
```

### å–æ¶ˆé¢„è®¢
```bash
cd <project_dir> && uv run --with SRTrain python3 scripts/srt_cli.py reserve cancel \
  --reservation-id "RES123456" --confirm
```

---

## æŒç»­ç›‘æ§ï¼ˆå–æ¶ˆè®¢å•çš„ç›‘æ§ï¼‰

å¯¹äºâ€œä¸æ–­å°è¯•ç›´åˆ°æ‰¾åˆ°åº§ä½â€çš„è¯·æ±‚ï¼Œè¯·**ä¸è¦åœ¨ cron ä½œä¸šä¸­å¾ªç¯æ‰§è¡Œ**ã€‚
**å»ºè®®çš„åšæ³•**æ˜¯ï¼šè¿è¡Œ `srt_cli.py reserve retry` ä½œä¸ºåå°è¿›ç¨‹æŒç»­è¿è¡Œï¼Œç„¶ååˆ›å»ºå¦ä¸€ä¸ª cron ä½œä¸šæ¥è¯»å–æ—¥å¿—å¹¶ç”ŸæˆæŠ¥å‘Šã€‚

### ç¬¬ä¸€æ­¥ï¼šæœç´¢ï¼ˆå¡«å……ç¼“å­˜ï¼‰
```bash
cd <project_dir> && uv run --with SRTrain python3 scripts/srt_cli.py train search \
  --departure "ìˆ˜ì„œ" --arrival "ë™ëŒ€êµ¬" --date "20260227" --time "200000"
```
ä»æœç´¢ç»“æœä¸­è·å–ç›®æ ‡ç«è½¦çš„ `train_id`ã€‚

### ç¬¬äºŒæ­¥ï¼šå¯åŠ¨åå°é‡è¯•è¿›ç¨‹
```bash
LOG_FILE=<choose_any_path>.log
PID_FILE=<choose_any_path>.pid
cd <project_dir> && nohup uv run --with SRTrain python3 scripts/srt_cli.py reserve retry \
  --train-id <id> --timeout-minutes 1440 --wait-seconds 10 \
  --log-file "$LOG_FILE" > /dev/null 2>&1 &
echo $! > "$PID_FILE"
```

è„šæœ¬åœ¨å¯åŠ¨æ—¶ä¼šè¾“å‡º `LOG_FILE: <è·¯å¾„>` â€”â€” è¯·è®°å½•è¿™ä¸ªè·¯å¾„ï¼Œä»¥ä¾¿çŸ¥é“æ—¥å¿—æ–‡ä»¶çš„ä½ç½®ã€‚
æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½® `SRT_DATA_DIR` æ¥æŒ‡å®šè‡ªåŠ¨ç”Ÿæˆçš„æ—¥å¿—å’Œç¼“å­˜æ–‡ä»¶çš„å­˜å‚¨ä½ç½®ã€‚

> **è·¯å¾„å®‰å…¨**ï¼š`SRT_DATA_DIR` å’Œ `--log-file` ä¼šåœ¨è¿è¡Œæ—¶è¿›è¡ŒéªŒè¯ï¼Œç¡®ä¿å®ƒä»¬åªä½äºç”¨æˆ·çš„ä¸»ç›®å½•æˆ–ç³»ç»Ÿä¸´æ—¶ç›®å½•å†…ã€‚è¶…å‡ºè¿™äº›èŒƒå›´çš„è·¯å¾„ï¼ˆä¾‹å¦‚é€šè¿‡ `../`ï¼‰å°†è¢«æ‹’ç»ã€‚

**`reserve retry` çš„é€‰é¡¹ï¼š**
| é€‰é¡¹ | é»˜è®¤å€¼ | æè¿° |
|--------|---------|-------------|
| `--train-id` | ï¼ˆå…¨éƒ¨ï¼‰ | æœç´¢ç»“æœä¸­çš„ç´¢å¼•ï¼ˆä» 1 å¼€å§‹ï¼›å¤šä¸ªå€¼ç”¨é€—å·åˆ†éš”ï¼‰ |
| `--timeout-minutes` | 60 | æ€»æ—¶é•¿ã€‚è®¾ç½®ä¸º 1440 è¡¨ç¤º 24 å°æ—¶ |
| `--wait-seconds` | 10 | æ¯æ¬¡å°è¯•ä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ |
| `--log-file` | auto | æ˜¾å¼çš„æ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼ˆè¦†ç›– `SRT_DATA_DIR` çš„é»˜è®¤å€¼ï¼‰ |

éœ€è¦å…³æ³¨çš„æ—¥å¿—æ ‡è®°ï¼š
- `=== ì‹œë„ #N` â€”â€” å°è¯•æ¬¡æ•° |
- `SUCCESS` â€”â€” é¢„è®¢æˆåŠŸï¼ˆåŒ…å«é¢„è®¢ç¼–å·å’Œåº§ä½ä¿¡æ¯ï¼‰ |
- `TIMEOUT` â€”â€” å°è¯•è¶…æ—¶æœªæˆåŠŸ

### ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå®šæœŸæŠ¥å‘Šçš„ cron ä½œä¸š
åˆ›å»ºä¸€ä¸ªæ¯ 15 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡çš„ `agentTurn` cron ä½œä¸šï¼Œå¹¶è®¾ç½® `--no-deliver`ï¼ˆä¸å‘é€æŠ¥å‘Šï¼‰ã€‚
è¯¥ä½œä¸šå¿…é¡»ä½¿ç”¨ `message` å·¥å…·ç›´æ¥å°†ç»“æœå‘é€åˆ° Discord é¢‘é“â€”â€”**ä¸è¦ä½¿ç”¨ `--announce`**ï¼ˆå› ä¸ºåœ¨ç‹¬ç«‹ä¼šè¯ä¸­ï¼Œ`announce` é˜Ÿåˆ—å¯èƒ½ä¼šå› ä¸ºç½‘å…³é…å¯¹é”™è¯¯è€Œå¤±è´¥ï¼‰ã€‚

### CLI å‘½ä»¤ï¼š
```bash
openclaw cron add \
  --agent srt \
  --name "SRT ëª¨ë‹ˆí„°ë§ ë³´ê³  (15ë¶„ë§ˆë‹¤)" \
  --every 15m \
  --session isolated \
  --no-deliver \
  --message "..."
```

ä»£ç†æ¶ˆæ¯å¿…é¡»åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š
1. æ£€æŸ¥è¿›ç¨‹çŠ¶æ€ï¼š
   ```bash
   cd <project_dir> && uv run --with SRTrain python3 scripts/srt_cli.py reserve status --pid-file <pid_file>
   ```
2. æŸ¥çœ‹æ—¥å¿—å°¾éƒ¨å†…å®¹ï¼š`tail -50 <log_file>`
3. ç»Ÿè®¡å°è¯•æ¬¡æ•°ã€æœ€åä¸€æ¬¡å°è¯•æ—¶é—´ä»¥åŠæ˜¯å¦æˆåŠŸ
4. **é€šè¿‡ `message` å·¥å…·å‘é€æŠ¥å‘Š**ï¼ˆ`channel=discord`, `target=<channel_id>`ï¼‰
5. å½“æ—¥å¿—ä¸­æ˜¾ç¤º `SUCCESS` æ—¶â€”â€”åœ¨æ¶ˆæ¯ä¸­åŒ…å«é¢„è®¢ç¼–å·å’Œåº§ä½ä¿¡æ¯ï¼Œç„¶ååˆ é™¤å½“å‰çš„ cron ä½œä¸šåŠå…¶ç»ˆæ­¢ä½œä¸š
6. å¦‚æœé•¿æ—¶é—´æœªæ˜¾ç¤º `SUCCESS`ï¼Œåˆ™æŠ¥å‘Šé”™è¯¯å¹¶åˆ é™¤å½“å‰çš„ cron ä½œä¸š

### ç¬¬å››æ­¥ï¼šåˆ›å»ºç»ˆæ­¢ä½œä¸š
åˆ›å»ºä¸€ä¸ªåœ¨æˆªæ­¢æ—¶é—´æ‰§è¡Œçš„ `agentTurn` cron ä½œä¸šï¼ˆ`--no-deliver`, `--delete-after-run`ï¼‰ã€‚
### CLI å‘½ä»¤ï¼š
```bash
openclaw cron add \
  --agent srt \
  --name "SRT ëª¨ë‹ˆí„°ë§ ì¢…ë£Œ" \
  --at "<ISO UTC time>" \
  --session isolated \
  --no-deliver \
  --delete-after-run \
  --message "..."
```

ä»£ç†æ¶ˆæ¯å¿…é¡»åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š
1. åœæ­¢å½“å‰è¿›ç¨‹ï¼š
   ```bash
   cd <project_dir> && uv run --with SRTrain python3 scripts/srt_cli.py reserve stop --pid-file <pid_file>
   ```
2. æ ¹æ® ID åˆ é™¤ç›¸åº”çš„ cron ä½œä¸š
3. æŸ¥çœ‹æœ€ç»ˆæ—¥å¿—ï¼Œå¹¶**é€šè¿‡ `message` å·¥å…·å°†ç»“æœå‘é€**åˆ° Discord é¢‘é“

---

## JSON è¾“å‡º

**æœç´¢ç»“æœé¡¹ï¼š**
```json
{
  "train_number": "369",
  "departure_time": "200000",
  "arrival_time": "213600",
  "departure_station": "ìˆ˜ì„œ",
  "arrival_station": "ë™ëŒ€êµ¬",
  "seat_available": false,
  "general_seat": "ë§¤ì§„",
  "special_seat": "ë§¤ì§„",
  "train_id": "1"
}
```

**é¢„è®¢ç»“æœï¼š**
```json
{
  "success": true,
  "data": {
    "reservation_id": "RES123456",
    "train_number": "369",
    "seat_number": "3A",
    "payment_required": true
  }
}
```

é€€å‡ºä»£ç ï¼š`0` = æˆåŠŸ Â· `1` = å¯é‡è¯•ï¼ˆæ— åº§ä½ï¼‰ Â· `2` = é”™è¯¯

---

## é”™è¯¯å¤„ç†

| é”™è¯¯ç±»å‹ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|-------|-------|-----------|
| `AuthenticationFailed` | å‡­æ®é”™è¯¯ | æ£€æŸ¥ `SRT_PHONE` / `SRT_PASSWORD` |
| `NoSeatsAvailable` | åº§ä½å·²å”®ç½„ | ä½¿ç”¨ `--retry` æˆ–å°è¯•å…¶ä»–ç«è½¦ |
| `StationNotFound` | è½¦ç«™åç§°æ— æ•ˆ | è¯·ä½¿ç”¨ä¸Šè¿°éŸ©æ–‡è½¦ç«™åç§° |
| `NoTrainsFound` | æœªæ‰¾åˆ°ç«è½¦ | å°è¯•å…¶ä»–æ—¥æœŸ/æ—¶é—´ |
| `RateLimitExceeded` | å°è¯•æ¬¡æ•°è¿‡å¤š | ç­‰å¾…å‡ åˆ†é’Ÿåå†è¯• |

---

## è‡ªç„¶è¯­è¨€å¤„ç†

ä»éŸ©æ–‡è¾“å…¥ä¸­æå–ä»¥ä¸‹ä¿¡æ¯ï¼š
- è½¦ç«™åç§° â†’ éŸ©æ–‡å½¢å¼ï¼ˆå¦‚ ìˆ˜ì„œ, ë™ëŒ€êµ¬ ç­‰ï¼‰
- æ—¥æœŸ â†’ ç›¸å¯¹è¡¨è¾¾ï¼ˆä¾‹å¦‚ â€œë‚´ì¼â€ æˆ– â€œë‹¤ìŒì£¼ ê¸ˆìš”ì¼â€ï¼‰è½¬æ¢ä¸º `YYYYMMDD` æ ¼å¼
- æ—¶é—´ â†’ ç›¸å¯¹è¡¨è¾¾ï¼ˆä¾‹å¦‚ â€œ20ì‹œ ì´í›„â€ æˆ– â€œì˜¤í›„ 2ì‹œâ€ï¼‰è½¬æ¢ä¸º `HHMMSS` æ ¼å¼
- ä¹˜å®¢äººæ•° â†’ å¦‚æœæœªæŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸º 1

**æ¨¡å¼åŒ¹é…è§„åˆ™ï¼š**
- â€œê²€ìƒ‰í•´ì¤˜â€ â†’ æ‰§è¡Œ `train search` æ“ä½œ
- â€œì˜ˆì•½í•´ì¤˜â€ï¼ˆä¸€æ¬¡æ€§é¢„è®¢ï¼‰ â†’ å…ˆæ‰§è¡Œ `train search`ï¼Œç„¶åæ‰§è¡Œ `reserve one-shot`
- â€œì·¨ì†Œí‘œ ë‚˜ì˜¤ë©´ ì¡ì•„ì¤˜ / ë  ë•Œê¹Œì§€ ëŒë ¤ì¤˜â€ â†’ æ‰§è¡Œä¸Šè¿°çš„æŒç»­ç›‘æ§æµç¨‹
- â€œë‚´ ì˜ˆì•½ í™•ì¸í•´ì¤˜â€ â†’ æ‰§è¡Œ `reserve list` æ“ä½œ
- â€œì·¨ì†Œí•´ì¤˜â€ â†’ å…ˆæ‰§è¡Œ `list`ï¼Œç„¶åæ‰§è¡Œ `cancel` æ“ä½œ

## æ”¯ä»˜è¯´æ˜
é¢„è®¢å¿…é¡»åœ¨é¢„è®¢å 20 åˆ†é’Ÿå†…é€šè¿‡ SRT åº”ç”¨ç¨‹åºæˆ– <https://etk.srail.kr> å®Œæˆæ”¯ä»˜ã€‚