# 技能：代表客户自动回复Gmail邮件

## 目的

该技能允许代理**代表客户自动回复Gmail邮件**。代理会起草回复内容，并在用户批准或按照配置要求的情况下，使用客户设定的语气、结束语以及可选的模板来发送回复。

## 使用场景

- 用户要求“回复我的邮件”、“处理我的Gmail邮件”或“草拟对收到的邮件的回复”。
- 用户提供了Gmail邮箱的详细信息（例如“client@example.com的收件箱”），并希望实现自动化或半自动化的回复功能。
- 用户希望代理在回复特定邮件或发件人时能够以客户的身份进行操作。

## 先决条件（用户/客户需要提供）

- **Gmail访问权限**：需要使用客户的Gmail账户的OAuth2授权或应用密码（切勿将原始密码存储在该技能文件中；应通过环境变量或安全配置来管理）。
- **客户资料**（可选但推荐）：包括客户使用的语气、结束语以及需要处理的主题或需要转接的主题。

## 操作步骤

1. **收集信息**
   - 询问或读取客户的详细要求，包括邮件的语气（正式/非正式）、结束语（例如“Best”、“Thanks”），以及任何“不要回复”或“必须上报”的规则。
   - 如果用户提供了邮件主题或邮件内容摘要，可以使用这些信息作为回复的基础。

2. **起草回复**
   - 撰写简洁、专业的回复内容，需：
     - 明确提及发件人和主要问题或请求。
     - 保持与客户设定的一致的语气和结束语。
     - 不要承诺超出客户权限范围的事务（例如法律或财务相关的事务），除非用户明确同意。
     - 使用简短的段落并清晰说明后续步骤（例如“我将在周五之前回复您”）。

3. **使用模板（如有的话）**
   - 如果客户提供了模板（请参考`templates/reply_templates.json`文件或用户自定义的模板），根据回复内容选择最合适的模板，并替换相应的占位符（例如`{{sender_name}}`、`{{topic}}`、`{{deadline}}`）。

4. **安全与审批**
   - 默认情况下，系统会先显示回复草稿供用户或客户审核后再发送。
   - 只有在用户明确配置了“自动发送”选项，并且代理遵循了客户的规则和过滤条件（例如仅针对特定标签或发件人）时，才会自动发送邮件。

5. **集成**
   - 如果用户已配置Gmail API（OAuth2）或IMAP/SMTP功能，请使用从环境变量或安全配置中获取的凭证；切勿直接使用该技能文件中的凭证。
   - 在发送邮件时，可以选择将草稿文本返回给用户以便其自行粘贴或发送，或者调用用户设置的发送函数。

## 本包包含的文件

- `SKILL.md` – 本技能的详细使用说明。
- `manifest.json` – 包的元数据信息。
- `templates/reply_templates.json` – 可选的回复模板（包括确认回复、会议请求、简短回复等）。
- `scripts/README.md` – 说明客户如何添加自己的脚本或规则的简要指南。

## 示例交互过程

**用户**：“以我的身份回复这封邮件。发件人是Jane，她请求下周安排一次会议。客户希望回复语气友好且简洁，结束语使用‘Best’。”
**代理**：使用该技能起草一封简短友好的回复，向Jane说明回复内容，建议会面时间或询问她的日程安排，并使用“Best”作为结束语，然后将草稿返回给用户审核或发送。