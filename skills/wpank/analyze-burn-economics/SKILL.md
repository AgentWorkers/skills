---
name: analyze-burn-economics
description: >-
  Comprehensive analysis of Uniswap Firepit burn economics: historical burn P&L,
  accumulation trends, fee source breakdown, competitive dynamics, and
  profitability projections. Governance-grade research report. Use when user asks
  "What's the burn economics?", "History of protocol fee burns", or "Average
  profit per burn."
model: opus
allowed-tools:
  - Task(subagent_type:protocol-fee-seeker)
  - mcp__uniswap__get_burn_history
  - mcp__uniswap__get_fee_accumulation_rate
  - mcp__uniswap__get_firepit_state
  - mcp__uniswap__get_tokenjar_balances
  - mcp__uniswap__get_token_price
  - mcp__uniswap__get_token_price_history
---

# 分析Uniswap协议的燃烧经济模型（Burn Economics Analysis）

## 概述

这是一项纯粹的研究功能，旨在对Uniswap协议的燃烧经济模型（即通过燃烧操作来销毁代币的机制）进行深入分析。该功能能够回答UNI代币持有者、治理参与者以及协议研究人员关心的问题：燃烧操作的实际盈利能力如何？交易费用的趋势是怎样的？是什么驱动了代币的积累？何时应该调整相关参数？

该功能仅用于数据分析，不具备执行任何交易的能力。

**为何这项功能比单独使用其他工具强大10倍：**

1. **历史数据的交叉引用**：通过一次`get_burn_history`调用，可以获取所有燃烧事件的相关信息，并将这些数据与当时的UNI代币价格（通过`get_token_price_history`获取）、交易手续费以及被销毁的代币数量进行交叉比对，从而生成每笔燃烧操作的利润/损失报表——这是任何单一工具都无法实现的。
2. **趋势分析**：通过结合代币的积累速度和燃烧历史数据，该功能能够判断协议的费用系统是否变得越来越盈利，燃烧频率是否在增加（意味着竞争加剧），以及费用结构是否发生了变化。
3. **对治理决策有价值的预测**：报告包含敏感性分析结果，显示盈利能力如何随着UNI代币价格、阈值调整或费用率变化而变化。这些数据对于治理参与者评估参数提案至关重要。
4. **仅需一条命令即可完成30多分钟的手动分析**：手动计算每笔燃烧操作的利润/损失需要逐一查询燃烧事件、查找相应区块的代币价格、计算手续费并进行汇总。而该功能自动化了整个分析流程。

## 使用场景

当用户提出以下问题时，可激活该功能：
- “Uniswap的燃烧经济模型是怎样的？”
- “请展示协议费用燃烧的历史记录”
- “平均每次燃烧操作的利润是多少？”
- “上一次燃烧操作是什么时候进行的？”
- “Firepit的费用系统盈利情况如何？”
- “分析协议费用的趋势”
- “燃烧历史数据及盈利能力”
- “费用系统运行是否正常？”
- “对协议费用的治理分析”
- “燃烧操作的盈利能力随时间发生了哪些变化？”

**注意：**  
- 如果用户希望执行燃烧操作（请使用`seek-protocol-fees`功能），或需要实时监控仪表盘（请使用`monitor-tokenjar`功能），则不要使用此功能。

## 参数设置

| 参数                          | 是否必填 | 默认值          | 获取方式                                                                                              |
|-----------------------------|---------|--------------|-------------------------------------------------------------------------------------------------------------------------|
| chain                          | 否        | ethereum       | 对于TokenJar/Firepit来说，始终使用以太坊主网（Ethereum mainnet）                         |
| days                          | 否        | 90             | 回顾周期：例如“过去30天”或“过去一年”（即365天）                                        |
| include-projections       | 否        | true           | 如果设置为“仅显示历史数据”或“不包含预测”，则表示不生成预测结果                         |

## 工作流程

### 第1步：数据收集（并行调用多个API）

为了提高效率，需要同时执行以下API调用：
1. `mcp__uniswap__get_burn_history`（限制调用次数为100次），以获取回顾窗口内的所有燃烧事件记录。
2. `mcp__uniswap__get_fee_accumulation_rate`，获取当前的日/周/月费用积累率。
3. `mcp__uniswap__get_firepit_state`，获取当前的燃烧阈值、随机数（nonce）以及合约参数。
4. `mcp__uniswap__get_tokenjar_balances`，获取TokenJar中的代币余额信息。
5. `mcp__uniswap__get_token_price`，获取当前的UNI代币价格。
6. `mcp__uniswap__get_token_price_history`（设置间隔为1天，调用次数与回顾周期相同），以获取用于交叉比对的UNI代币价格历史数据。

### 第2步：数据分析（委托给专门的分析工具）

将收集到的所有数据传递给`Task(subagent_type:protocol-fee-seeker)`进行详细分析。

### 分析完成后向用户展示结果

### 第3步：生成预测（如启用预测功能）

该功能会根据分析结果生成未来的预测数据。

## 输出格式

- **完整报告**：包含所有详细分析和预测结果。
- **简报报告**：仅显示基本数据和趋势分析，不包含预测内容。

## 重要说明：

- **仅用于数据分析**：该功能不会执行任何交易操作，仅生成分析结果。
- **历史数据的准确性受燃烧事件记录的影响**：如果Firepit协议刚上线或燃烧次数较少，分析结果可能会受到限制。系统会明确提示数据可用性情况。
- **UNI代币价格的估算可能存在误差**：该功能使用每日的高低开低收（OHLCV）价格数据来估算燃烧时的价格，因此日内价格波动可能导致利润/损失的计算略有误差。
- **费用来源的判断基于估计**：TokenJar接收的费用可能来自多个来源，但转账记录并不总是能明确显示费用的具体来源。费用来源的判断基于已知的合约地址和一定的规则。
- **预测基于当前情况**：预测结果基于当前的积累率和UNI代币价格，市场变化、治理决策或协议升级都可能影响预测的准确性。
- **报告提供分析结果，但不提供治理建议**：报告仅呈现基于数据的观察结果，不提供具体的治理建议。

## 错误处理

| 错误类型                        | 向用户显示的提示信息                                      | 建议采取的措施                                      |
|-----------------------------------|-------------------------------------------------|-----------------------------------------------------------|
| 未找到燃烧记录                     | “在过去的{days}天内未发现任何燃烧事件。”                                      | 增加回顾周期                                            |
| 燃烧记录不足                     | “仅找到了{count}次燃烧事件，分析结果可能不完整。”                             | 增加回顾周期或接受有限的数据                         |
| 无法获取UNI代币价格历史数据             | “无法获取UNI代币的价格历史数据，因此每笔燃烧操作的利润/损失数据可能不准确。”                | 使用当前价格作为替代值                                      |
| 代币积累数据不足                     | “积累数据有限，费用率估算可能不准确。”                                      | 尝试扩大回顾周期                                        |
| 无法获取代币价格                     | “无法为某些代币定价，部分数据可能不完整。”                                      | 可能是因为该代币较为罕见或流动性较差                         |
| RPC连接失败                     | “无法连接到以太坊的RPC服务，无法进行分析。”                                   | 检查RPC配置                                        |
| 回顾周期过长                     | “{days}天的回顾周期超出了可用的数据范围。”                                      | 减少回顾周期                                         |