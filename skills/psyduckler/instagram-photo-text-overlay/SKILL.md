---
name: instagram-photo-text-overlay
description: >
  **为Instagram帖子添加照片上的叠加文本**  
  该工具能够生成4:5比例的竖版图片，并在图片上添加渐变效果、标题以及可选的编号列表。适用于需要为照片添加文字内容的Instagram内容，例如旅行行程、最佳推荐列表、旅行亮点展示，或是任何带有文字叠加效果的品牌社交媒体图片。
---
# Instagram照片文字叠加功能

该工具可将文字叠加到照片上，生成适合在Instagram上发布的图片。提供两种样式：**列表式**（包含标题和编号项目）和**简洁式**（仅包含标题）。

## 快速入门

```bash
python3 scripts/overlay.py \
  --input photo.jpg \
  --output result.jpg \
  --title "TAORMINA" \
  --subtitle "3-Day Trip Itinerary" \
  --items '["Teatro Greco|Ancient theatre with Etna views", "Isola Bella|Crystal-clear beach"]' \
  --style list
```

## 参数选项

| 参数          | 默认值          | 说明                          |
|--------------|-----------------|---------------------------------------------|
| `--input`     | （必填）          | 源图片路径                          |
| `--output`     | （必填）          | 输出图片路径                          |
| `--title`     | （必填）          | 主标题（自动转换为大写）                      |
| `--subtitle`    | `"3-Day Trip Itinerary"` | 标题下方的副标题                        |
| `--items`     | `[]`          | 包含 `"名称|原因"` 的JSON数组（列表样式）             |
| `--watermark`    | `"tabiji.ai"`       | 左上角的水印图片（空字符串表示禁用）                 |
| `--accent`     | `255,220,150`       | 数字/标签的背景颜色（RGB格式）                   |
| `--quote`     | `""`          | 引用文本（仅用于引用样式）                     |
| `--style`     | `list`          | `list` / `clean` / `quote`                    |          |
| `--quality`     | `95`          | JPEG输出质量（0-100）                      |

## 图片样式说明

- **简洁式**：覆盖整个图片。标题包含目的地、类别和项目数量（例如：“巴塞罗那（西班牙）的7家便宜餐厅”）。副标题提供信息来源（例如：“来自r/barcelona的内幕推荐”）。最适合用作轮播图的第一张图片。
- **列表式**：包含标题、副标题、分隔线和带原因的编号项目。适合发布旅行攻略或行程安排的内容。
- **引用式**：标题左侧带有背景颜色条，下方为引用文本。不包含副标题或分隔线。适合发布旅行感言、用户评价或关键要点。

## 工作流程

1. 从用户处获取图片、目的地信息及项目列表。
2. 使用 `scripts/overlay.py` 脚本并传入相应参数。
3. 生成自动裁剪为4:5竖屏格式的图片（符合Instagram规范）。
4. 查看输出结果并根据需要进行调整（字体大小会随图片宽度自动调整）。

## 系统要求

- Python 3版本及Pillow库（需通过 `pip install Pillow` 安装）。
- 该工具支持macOS（使用Helvetica字体）和Linux系统（默认使用DejaVu或Liberation字体）。

## 使用提示

- 项目格式：`"名称|简短原因"`——竖线用于分隔加粗的标题和描述内容。
- 对于目的地信息，可优先使用现有的行程安排中的推荐内容。
- 使用渐变背景和白色文字可确保图片在任何分辨率下均具有良好的可读性。
- 所有字体大小均会根据图片宽度进行自动调整，适用于各种分辨率。