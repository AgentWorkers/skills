---
name: reddit-quote-topaz
description: >
  **ä»»åŠ¡æè¿°ï¼š**  
  æ ¹æ®æä¾›çš„ `SKILL.md` æ–‡ä»¶å†…å®¹ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ª Instagram å¡ç‰‡è½®æ’­ï¼ˆcarouselï¼‰ï¼Œè¯¥è½®æ’­åŒ…å«æ¥è‡ª Reddit çš„çƒ­é—¨å¼•æ–‡ï¼ˆquotesï¼‰ï¼Œå¹¶ä½¿ç”¨ Topaz å›¾åƒå¤„ç†æŠ€æœ¯å¯¹å›¾ç‰‡è¿›è¡Œ 2 å€æ”¾å¤§å¤„ç†ã€‚è½®æ’­çš„å°é¢é‡‡ç”¨â€œç®€æ´â€ï¼ˆcleanï¼‰é£æ ¼ï¼Œæ˜¾ç¤ºä¸ºâ€œç›®æ ‡ç›®çš„åœ°ä¸­çš„çƒ­é—¨ç±»åˆ«â€ï¼ˆTop CATEGORY in Destinationï¼‰ï¼›å¸å¼•ç”¨æˆ·æ³¨æ„åŠ›çš„å¹»ç¯ç‰‡é‡‡ç”¨â€œå¼•ç”¨â€ï¼ˆquoteï¼‰é£æ ¼ï¼Œå±•ç¤ºå¸¦æœ‰ Reddit æ¥æºæ ‡æ³¨çš„å¼•æ–‡ã€‚æ‰€æœ‰å›¾ç‰‡åœ¨å åŠ æ•ˆæœåº”ç”¨å‰å‡éœ€ç»è¿‡ Topaz å›¾åƒå¤„ç†ã€‚è§¦å‘å‘½ä»¤ä¸º â€œreddit-quote-topazâ€ã€‚å½“ Bernard è¯´å‡º â€œreddit-quote-topazâ€ æ—¶ï¼Œæˆ–éœ€è¦ç”Ÿæˆä¸€ä¸ªä½¿ç”¨ Topaz å¤„ç†è¿‡çš„ Reddit å¼•æ–‡è½®æ’­æ—¶ï¼Œåº”æ‰§è¡Œæ­¤ä»»åŠ¡ã€‚
---
# Reddit å¼•æ–‡è½®æ’­ï¼ˆTopaz å¢å¼ºç‰ˆï¼‰

è¯¥åŠŸèƒ½ä¸ `reddit-quote-carousel` ç±»ä¼¼ï¼Œä½†åœ¨æ‰¾åˆ°å›¾ç‰‡åã€æ·»åŠ æ–‡æœ¬è¦†ç›–å±‚ä¹‹å‰ï¼Œä¼šä½¿ç”¨ **Topaz Labs çš„ 2 å€å›¾åƒå¢å¼ºæŠ€æœ¯** å¯¹å›¾ç‰‡è¿›è¡Œä¼˜åŒ–å¤„ç†ã€‚

## è§¦å‘æ–¹å¼

- å½“ Bernard è¾“å…¥ â€œreddit-quote-topazâ€ æ—¶ï¼Œä½¿ç”¨æ­¤åŠŸèƒ½ï¼›
- å½“ Bernard è¾“å…¥ â€œreddit-quoteâ€ æ—¶ï¼Œä½¿ç”¨ `reddit-quote-carousel` åŠŸèƒ½ï¼ˆä¸åŒ…å« Topaz å¢å¼ºæ•ˆæœï¼‰ã€‚

## å‚æ•°

- **destination**ï¼ˆå¿…å¡«ï¼‰ï¼šåŸå¸‚/åœ°åŒºï¼ˆä¾‹å¦‚ï¼šâ€œBarcelonaâ€ï¼‰
- **category**ï¼ˆå¿…å¡«ï¼‰ï¼šç­›é€‰çš„ç±»åˆ«ï¼ˆä¾‹å¦‚ï¼šâ€œä¾¿å®œç¾é£Ÿâ€ã€â€œéšè—å®è—â€ã€â€œçº¦ä¼šä¹‹å¤œåœºæ‰€â€ï¼‰
- **popular_picks_url**ï¼ˆå¿…å¡«ï¼‰ï¼šä» tabiji.ai çš„ popular-picks é¡µé¢è·å–æ™¯ç‚¹ä¿¡æ¯å’Œ Reddit å¼•æ–‡çš„ URL
- **reddit_post_count**ï¼ˆå¯é€‰ï¼‰ï¼šåˆ†æçš„ Reddit å¸–å­æ•°é‡ï¼ˆç”¨äºç”Ÿæˆæ ‡é¢˜ï¼‰ã€‚å¦‚æœé¡µé¢æä¾›äº†è¯¥ä¿¡æ¯ï¼Œè¯·ä»ä¸­è·å–ã€‚

## å·¥ä½œæµç¨‹ï¼ˆåŒ…å« 3 ä¸ªå­ä»£ç†ï¼‰

å·¥ä½œç›®å½•ï¼š`/tmp/ig-reddit-quote/`

### å­ä»£ç† 1ï¼šæŠ“å–æ™¯ç‚¹ä¿¡æ¯ + å¯»æ‰¾å›¾ç‰‡ + å›¾åƒå¢å¼º

1. ä½¿ç”¨ `web_fetch` æŠ“å– popular-picks é¡µé¢ï¼Œè·å–ä»¥ä¸‹å†…å®¹ï¼š
   - æ¯ä¸ªæ™¯ç‚¹çš„åç§°
   - æ¯ä¸ªæ™¯ç‚¹å¯¹åº”çš„å¼•äººå…¥èƒœçš„ Reddit å¼•æ–‡ï¼ˆå…·ä½“ã€ç”ŸåŠ¨ã€å…·æœ‰ä¸ªäººè‰²å½©ï¼Œè€Œéæ³›æ³›è€Œè°ˆçš„èµç¾ï¼‰
   - å¼•æ–‡æ‰€åœ¨çš„ Reddit å­ç‰ˆå—ï¼ˆä¾‹å¦‚ï¼šâ€œr/londonâ€ã€â€œr/AskLondonâ€ï¼‰
   - å¦‚æœé¡µé¢æ˜¾ç¤ºäº†æ€»æ•°ï¼Œè¿˜éœ€è·å– Reddit å¸–å­çš„æ€»æ•°

2. ä½¿ç”¨ `instagram-photo-find` å·¥ä½œæµç¨‹å¯»æ‰¾å›¾ç‰‡ï¼š
   - ä¸ºå°é¢å¹»ç¯ç‰‡å‡†å¤‡ 1 å¼ ç›®çš„åœ°ä¸»é¢˜å›¾ç‰‡
   - ä¸ºæ¯ä¸ªæ™¯ç‚¹å‡†å¤‡ 1 å¼ å›¾ç‰‡ï¼ˆç”¨äºå¼•æ–‡å¹»ç¯ç‰‡ï¼‰
   - å¯¹æ¯å¼ å›¾ç‰‡æ‰§è¡Œ `web_search` â†’ ä¸‹è½½å€™é€‰å›¾ç‰‡ â†’ ä½¿ç”¨ `vision-score` ç®—æ³•è¯„ä¼°å›¾ç‰‡è´¨é‡ â†’ é€‰æ‹©æœ€ä½³å›¾ç‰‡

3. ä½¿ç”¨ **Topaz Labs çš„ 2 å€å›¾åƒå¢å¼ºæŠ€æœ¯** å¯¹æ¯å¼ æœ€ä½³å›¾ç‰‡è¿›è¡Œä¼˜åŒ–å¤„ç†ï¼š
```bash
TOPAZ_API_KEY=$(security find-generic-password -s "topaz-api-key" -w)

curl --request POST \
  --url https://api.topazlabs.com/image/v1/enhance \
  --header "X-API-Key: ${TOPAZ_API_KEY}" \
  --header 'accept: image/jpeg' \
  --header 'content-type: multipart/form-data' \
  --form 'model=Low Resolution V2' \
  --form 'output_scale_factor=2' \
  --form 'output_format=jpeg' \
  --form "image=@/tmp/ig-reddit-quote/${slug}-best.jpg" \
  --output "/tmp/ig-reddit-quote/${slug}-enhanced.jpg"
```

**æ³¨æ„ï¼š** å¦‚æœåŒæ­¥è¿”å›çš„æ ¼å¼æ˜¯åŒ…å« `process_id` çš„ JSON æ•°æ®ï¼ˆè€Œéå›¾ç‰‡å­—èŠ‚ï¼‰ï¼Œè¯·ä½¿ç”¨å¼‚æ­¥å¤„ç†æµç¨‹ï¼š
```bash
# Submit async
RESPONSE=$(curl -s --request POST \
  --url https://api.topazlabs.com/image/v1/enhance/async \
  --header "X-API-Key: ${TOPAZ_API_KEY}" \
  --header 'content-type: multipart/form-data' \
  --form 'model=Low Resolution V2' \
  --form 'output_scale_factor=2' \
  --form 'output_format=jpeg' \
  --form "image=@/tmp/ig-reddit-quote/${slug}-best.jpg")

PROCESS_ID=$(echo "$RESPONSE" | jq -r '.process_id')

# Poll until Completed
while true; do
  STATUS=$(curl -s --header "X-API-Key: ${TOPAZ_API_KEY}" \
    "https://api.topazlabs.com/image/v1/status/${PROCESS_ID}" | jq -r '.status')
  [ "$STATUS" = "Completed" ] && break
  sleep 3
done

# Download
curl -s --header "X-API-Key: ${TOPAZ_API_KEY}" \
  "https://api.topazlabs.com/image/v1/download/${PROCESS_ID}" \
  --output "/tmp/ig-reddit-quote/${slug}-enhanced.jpg"
```

4. å°†å¤„ç†ç»“æœå†™å…¥ `/tmp/ig-reddit-quote/manifest.json` æ–‡ä»¶ä¸­ï¼š
```json
{
  "destination": "Barcelona",
  "category": "Cheap Eats",
  "reddit_post_count": 150,
  "cover_photo": "/tmp/ig-reddit-quote/cover-enhanced.jpg",
  "slides": [
    {
      "name": "Bar CaÃ±ete",
      "quote": "Went here on a random Tuesday and had the best patatas bravas of my life.",
      "subreddit": "r/barcelona",
      "photo": "/tmp/ig-reddit-quote/bar-canete-enhanced.jpg",
      "original": "/tmp/ig-reddit-quote/bar-canete-best.jpg",
      "source_url": "instagram.com/p/XXX/",
      "topaz_enhanced": true
    }
  ]
}
```

### å­ä»£ç† 2ï¼šæ·»åŠ æ–‡æœ¬è¦†ç›–å±‚

è¯»å– `manifest.json` æ–‡ä»¶ï¼Œä½¿ç”¨ `instagram-photo-text-overlay` åŠŸèƒ½ä¸ºä¼˜åŒ–åçš„å›¾ç‰‡æ·»åŠ æ–‡æœ¬è¦†ç›–å±‚ã€‚

- **å°é¢å¹»ç¯ç‰‡**ï¼šé‡‡ç”¨ç®€æ´çš„æ–‡æœ¬æ ·å¼
```bash
python3 /Users/psy/.openclaw/workspace/skills/instagram-photo-text-overlay/scripts/overlay.py \
  --input /tmp/ig-reddit-quote/cover-enhanced.jpg \
  --output /tmp/ig-reddit-quote/slide-1.jpg \
  --title "Top {COUNT} {CATEGORY} in {DESTINATION}" \
  --subtitle "Insider Takes from Reddit ({N}+ posts)" \
  --style clean --watermark "tabiji.ai"
```

- **å…¶ä»–å¹»ç¯ç‰‡**ï¼šé‡‡ç”¨å¼•æ–‡æ˜¾ç¤ºæ ·å¼ï¼Œæ¯ä¸ªæ™¯ç‚¹å¯¹åº”ä¸€å¼ å›¾ç‰‡
```bash
python3 /Users/psy/.openclaw/workspace/skills/instagram-photo-text-overlay/scripts/overlay.py \
  --input /tmp/ig-reddit-quote/{slug}-enhanced.jpg \
  --output /tmp/ig-reddit-quote/slide-{N}.jpg \
  --title "{ATTRACTION_NAME}" \
  --quote "{REDDIT_QUOTE}" \
  --author "{SUBREDDIT}" \
  --style quote --watermark "tabiji.ai"
```

æœ€ç»ˆè¾“å‡ºæ–‡ä»¶ä½äºï¼š`/tmp/ig-reddit-quote/slide-{1-N}.jpg`

### å­ä»£ç† 3ï¼šå°†å›¾ç‰‡å‘å¸ƒåˆ° Instagram

1. å°†å¤„ç†åçš„å›¾ç‰‡ä¸Šä¼ åˆ° tabiji çš„ä»“åº“ï¼ˆ`img/instagram/`ï¼‰ï¼Œå¹¶é€šè¿‡ Git æ¨é€
2. åˆ›å»ºè½®æ’­å›¾é¡¹å®¹å™¨
3. ä¸ºè½®æ’­å›¾æ·»åŠ æ ‡é¢˜
4. å®Œæˆå‘å¸ƒ
5. è·å–å›¾ç‰‡çš„æ°¸ä¹…é“¾æ¥
6. æ¸…ç†ä¸Šä¼ çš„å›¾ç‰‡å’Œæœ¬åœ°ä¸´æ—¶æ–‡ä»¶

## Instagram API è®¤è¯

æ‰€éœ€å¯†é’¥æ¥è‡ª macOS çš„ Keychainï¼š
- `instagram-access-token`ï¼šGraph API ä»¤ç‰Œ
- `instagram-account-id`ï¼šInstagram ç”¨æˆ· IDï¼ˆ17841449394591017ï¼‰

## Topaz API è®¤è¯

- `topaz-api-key`ï¼šTopaz Labs çš„ API å¯†é’¥ï¼ˆå­˜å‚¨åœ¨ macOS çš„ Keychain ä¸­ï¼‰

## æ ‡é¢˜æ¨¡æ¿
```
{flag_emoji} Top {COUNT} {CATEGORY} in {DESTINATION}

Real recommendations from {N}+ Reddit posts ğŸ§µ

ğŸ“ Swipe for the spots + what Redditors actually said:
1. {Attraction 1}
2. {Attraction 2}
...

Full list with maps, prices & more Reddit recs ğŸ‘‰ {POPULAR_PICKS_URL}

ğŸ’¬ {PROVOCATIVE_QUESTION â€” e.g. "What's the most overrated restaurant you've been to abroad?" or "Would you trust a stranger's Reddit rec over a Michelin star?"}

#{destination} #{category_tag} #redditfinds #traveltips #foodietravel #localfavorites #tabiji
```

## ä½¿ç”¨å»ºè®®ï¼š

- é€‰æ‹©å…·ä½“ä¸”å¯Œæœ‰ä¸ªäººè‰²å½©çš„å¼•æ–‡ï¼ˆä¾‹å¦‚ï¼šâ€œè¿™æ˜¯æˆ‘åƒè¿‡çš„æœ€å¥½åƒçš„è–¯æ¡â€æ¯”â€œè¿™ä¸ªåœ°æ–¹å¾ˆæ£’â€æ›´æœ‰æ•ˆï¼‰
- ç¡®ä¿å¼•æ–‡é•¿åº¦æ§åˆ¶åœ¨ 120 å­—ä»¥å†…ï¼Œä»¥ä¾¿åœ¨å¹»ç¯ç‰‡ä¸Šæ¸…æ™°æ˜¾ç¤º
- å¦‚æœå¼•æ–‡è¿‡é•¿ï¼Œè¯·é€‚å½“æˆªæ–­ï¼Œä½†ä¿ç•™æ ¸å¿ƒå†…å®¹
- å°é¢æ ‡é¢˜åº”å…·æœ‰åˆ—è¡¨å¼çš„ç»“æ„ï¼ˆä¾‹å¦‚ï¼šâ€œå·´å¡ç½—é‚£çš„ 7 å¤§ä¾¿å®œç¾é£Ÿâ€
- **Topaz å¢å¼ºæ¨¡å‹**ï¼š`Low Resolution V2`â€”â€”ä¸“ä¸ºä»ç½‘ç»œè·å–çš„å›¾ç‰‡è®¾è®¡
- **Topaz çš„ä½¿ç”¨é™åˆ¶**ï¼šå¦‚æœå‡ºç° HTTP 429 é”™è¯¯ï¼Œè¯·é‡‡ç”¨æŒ‡æ•°çº§é‡è¯•ç­–ç•¥ï¼›æ¯æ¬¡å¤„ç† 6-8 å¼ å›¾ç‰‡å³å¯
- ä¿ç•™åŸå§‹å›¾ç‰‡æ•°æ®ï¼Œä»¥ä¾¿åœ¨ Topaz å¤„ç†å›¾ç‰‡å¤±è´¥æ—¶å¯ä»¥å›é€€ä½¿ç”¨åŸå§‹å›¾ç‰‡