---
name: task-review-workflow
description: >
  **基于任务驱动开发的标准 PR 审核与合并工作流程**  
  适用于审核与任务关联的程序员提交的 PR（Pull Request），判断是否合并该 PR 或提出修改请求，处理合并后的后续操作（如使用 Trello 管理任务进度、清理分支代码），以及清晰地传达审核结果。
---
# 任务审核工作流程

请按照以下工作流程来处理每一个与任务相关的 Pull Request (PR)。

## 1) 收集上下文信息

- 阅读 PR 的描述。
- 在审核代码之前，先打开并阅读相关联的任务。
- 从任务描述中确认预期的行为和验收标准。

## 2) 根据标准进行审核

- 使用 `REVIEW_CHECKLIST.md` 作为强制性的审核基准。
- 检查代码的正确性、边缘情况、潜在的回归问题、安全性、性能以及测试的充分性。

## 3) 仔细审查代码差异

- 逐个文件地进行审核。
- 标记出逻辑错误、不安全的假设、缺失的验证机制、不清晰的命名、无用的代码以及潜在的副作用风险。

## 4) 在可能的情况下进行本地验证

- 拉取 PR 的分支。
- 运行相关的测试、代码检查（lint）和构建命令。
- 在实际可行的情况下，直接测试修改后的代码行为。

## 5) 提供清晰的审核反馈

- 提出具体且可操作的反馈意见。
- 将必须修复的问题与可选的建议区分开来。

## 6) 决定审核结果

- 如果存在问题：提出具体的修改要求。
- 如果代码质量符合要求：批准合并，并附上简短的合并说明。

## 7) 执行合并后的后续步骤

- 将相关的 Trello 卡片状态更新为 **已完成**。
- 合并完成后删除相应的任务分支。
- 绝不要删除 `main` 分支。

## 8) 完成交接

- 将最终审核结果通知程序员：
  - `合并完成`，
  - `已发送审核反馈`，
  - `等待问题修复`。
- 确保只有在收到这些反馈信息后，下一个任务才能开始。