---
name: odoo
description: å…¨åŠŸèƒ½çš„ Odoo 19 ERP è¿æ¥å™¨ï¼Œé€‚ç”¨äº OpenClawï¼šæ”¯æŒé”€å”®ã€å®¢æˆ·å…³ç³»ç®¡ç†ï¼ˆCRMï¼‰ã€é‡‡è´­ã€åº“å­˜ã€é¡¹ç›®ç®¡ç†ã€äººåŠ›èµ„æºï¼ˆHRï¼‰ã€è½¦é˜Ÿç®¡ç†ä»¥åŠåˆ¶é€ æµç¨‹ï¼ˆæ¶µç›– 80 å¤šä¸ªä¸šåŠ¡æ¨¡å—ï¼‰ï¼Œé™„å¸¦å®Œæ•´çš„ Python ä»£ç ä»¥åŠ XML-RPC é›†æˆåŠŸèƒ½ã€‚
repository: https://github.com/NullNaveen/openclaw-odoo-skill
---

# Odoo ERPè¿æ¥å™¨

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½é½å…¨çš„Odoo 19 ERPé›†æˆæ’ä»¶ï¼Œä¸“ä¸ºOpenClawè®¾è®¡ï¼Œå…è®¸æ‚¨é€šè¿‡è‡ªç„¶è¯­è¨€èŠå¤©å‘½ä»¤æ¥ç®¡ç†æ•´ä¸ªä¸šåŠ¡ã€‚

**ğŸ“¦ å®Œæ•´æºä»£ç ï¼š** https://github.com/NullNaveen/openclaw-odoo-skill

## å¿«é€Ÿå®‰è£…

```bash
npx clawhub install odoo-erp-connector
```

## æ¦‚è¿°

Odoo ERPè¿æ¥å™¨å°†OpenClawä¸Odoo 19è¿æ¥èµ·æ¥ï¼Œæ”¯æŒå¯¹153ä¸ªä»¥ä¸Šçš„ä¸šåŠ¡æ¨¡å—è¿›è¡Œè‡ªä¸»çš„ã€åŸºäºèŠå¤©çš„æ§åˆ¶ï¼ŒåŒ…æ‹¬ï¼š
- é”€å”®ä¸å®¢æˆ·å…³ç³»ç®¡ç†ï¼ˆSales & CRMï¼‰
- é‡‡è´­ä¸åº“å­˜ï¼ˆPurchasing & Inventoryï¼‰
- å¼€ç¥¨ä¸ä¼šè®¡ï¼ˆInvoicing & Accountingï¼‰
- é¡¹ç›®ä¸ä»»åŠ¡ç®¡ç†ï¼ˆProjects & Task Managementï¼‰
- äººåŠ›èµ„æºï¼ˆHuman Resourcesï¼‰
- è½¦é˜Ÿç®¡ç†ï¼ˆFleet Managementï¼‰
- åˆ¶é€ ï¼ˆManufacturingï¼‰
- æ—¥å†ä¸äº‹ä»¶ï¼ˆCalendar & Eventsï¼‰
- ç”µå­å•†åŠ¡ï¼ˆE-commerceï¼‰

æ‰€æœ‰æ“ä½œéƒ½ä½¿ç”¨**æ™ºèƒ½åŠ¨ä½œï¼ˆSmart Actionsï¼‰**ï¼Œè¿™äº›åŠ¨ä½œèƒ½å¤Ÿå¤„ç†æ¨¡ç³ŠåŒ¹é…å’Œè‡ªåŠ¨åˆ›å»ºå·¥ä½œæµç¨‹ã€‚

## åŠŸèƒ½

### é”€å”®ä¸å®¢æˆ·å…³ç³»ç®¡ç†ï¼ˆSales & CRMï¼‰
- åˆ›å»ºåŒ…å«åŠ¨æ€å•†å“é¡¹çš„æŠ¥ä»·å•
- ç®¡ç†é”€å”®è®¢å•ï¼ˆè‰ç¨¿ â†’ ç¡®è®¤ â†’ å®Œæˆï¼‰
- æŒ‰çŠ¶æ€ã€å®¢æˆ·æˆ–æ—¥æœŸèŒƒå›´æœç´¢å’Œè¿‡æ»¤è®¢å•
- åˆ›å»ºå’Œè¯„ä¼°æ½œåœ¨å®¢æˆ·ï¼ˆleadsï¼‰å’Œé”€å”®æœºä¼šï¼ˆopportunitiesï¼‰
- å°†æ½œåœ¨å®¢æˆ·æ¨è¿›CRMæµç¨‹é˜¶æ®µ
- æŸ¥çœ‹å®Œæ•´çš„é”€å”®æµç¨‹å¹¶é¢„æµ‹æ”¶å…¥

### é‡‡è´­ï¼ˆPurchasingï¼‰
- ä»ä¾›åº”å•†å¤„åˆ›å»ºé‡‡è´­è®¢å•
- ç®¡ç†é‡‡è´­è®¢å•çš„çŠ¶æ€ï¼ˆè‰ç¨¿ â†’ è´­ä¹° â†’ å·²æ¥æ”¶ï¼‰
- æ¥æ”¶å¹¶éªŒè¯è´§ç‰©
- æŒ‰ä¾›åº”å•†ã€çŠ¶æ€æˆ–æ—¥æœŸæœç´¢å’Œè¿‡æ»¤é‡‡è´­è®¢å•
- è·Ÿè¸ªé‡‡è´­å†å²å’Œä¾›åº”å•†è¡¨ç°

### åº“å­˜ä¸äº§å“ï¼ˆInventory & Productsï¼‰
- åˆ›å»ºäº§å“ï¼ˆæ¶ˆè€—å“ã€å¯åº“å­˜äº§å“ã€æœåŠ¡ï¼‰
- æŸ¥è¯¢åº“å­˜æ°´å¹³å’Œå¯ç”¨æ€§
- è®¾ç½®é‡æ–°è®¢è´­ç‚¹å¹¶æ¥æ”¶åº“å­˜ä¸è¶³è­¦æŠ¥
- æŒ‰åç§°ã€ä»£ç æˆ–ç±»åˆ«æœç´¢äº§å“
- è·Ÿè¸ªåº“å­˜å˜åŠ¨å’Œä¼°å€¼

### å¼€ç¥¨ä¸ä¼šè®¡ï¼ˆInvoicing & Accountingï¼‰
- åˆ›å»ºå¹¶å‘å®¢æˆ·å¼€å…·å‘ç¥¨
- ç®¡ç†ä»˜æ¬¾æ¡æ¬¾å’Œè®¡åˆ’
- æŸ¥è¯¢æœªæ”¯ä»˜å’Œé€¾æœŸçš„å‘ç¥¨
- æŒ‰å®¢æˆ·ã€æ—¥æœŸèŒƒå›´æˆ–é‡‘é¢æœç´¢
- è·Ÿè¸ªå‘ç¥¨çŠ¶æ€ï¼ˆè‰ç¨¿ â†’ å·²å¼€å…· â†’ å·²æ”¯ä»˜ï¼‰

### é¡¹ç›®ä¸ä»»åŠ¡ï¼ˆProjects & Tasksï¼‰
- åˆ›å»ºé¡¹ç›®å¹¶æŒ‰å›¢é˜Ÿ/çŠ¶æ€ç»„ç»‡
- åˆ›å»ºå¸¦æœ‰ä¼˜å…ˆçº§ã€æ—¥æœŸå’Œåˆ†é…çš„ä»»åŠ¡
- è®°å½•å·¥æ—¶è¡¨å¹¶è·Ÿè¸ªé¡¹ç›®å·¥ä½œæ—¶é—´
- æŒ‰é¡¹ç›®ã€çŠ¶æ€æˆ–åˆ†é…è€…æœç´¢å’Œè¿‡æ»¤ä»»åŠ¡
- ç®¡ç†é¡¹ç›®é˜¶æ®µå’Œé¡¹ç›®å…³é—­

### äººåŠ›èµ„æºï¼ˆHuman Resourcesï¼‰
- åˆ›å»ºå‘˜å·¥å’Œéƒ¨é—¨
- ç®¡ç†èŒä½å’Œå·¥ä½œæ—¶é—´è¡¨
- å¤„ç†è´¹ç”¨æŠ¥å‘Šå’ŒæŠ¥é”€
- æŒ‰åç§°ã€éƒ¨é—¨æˆ–èŒä½æœç´¢å‘˜å·¥
- è·Ÿè¸ªä¼‘å‡ç”³è¯·å’Œå‡ºå‹¤æƒ…å†µ

### è½¦é˜Ÿç®¡ç†ï¼ˆFleet Managementï¼‰
- åˆ›å»ºå’Œè·Ÿè¸ªè½¦è¾†
- è®°å½•é‡Œç¨‹è¡¨è¯»æ•°å’ŒæœåŠ¡è®°å½•
- è·Ÿè¸ªç»´æŠ¤è®¡åˆ’å’Œæˆæœ¬
- æŒ‰è½¦ç‰Œå·ã€çŠ¶æ€æˆ–å“ç‰Œæœç´¢è½¦é˜Ÿ
- ç”Ÿæˆè½¦é˜ŸæŠ¥å‘Š

### åˆ¶é€ ï¼ˆManufacturingï¼‰
- åˆ›å»ºç‰©æ–™æ¸…å•ï¼ˆBills of Materials, BOMï¼‰
- ç®¡ç†åˆ¶é€ è®¢å•ï¼ˆManufacturing Orders, MOsï¼‰
- è·Ÿè¸ªç»„ä»¶éœ€æ±‚å’Œç”Ÿäº§çŠ¶æ€
- æŒ‰äº§å“æˆ–çŠ¶æ€æœç´¢åˆ¶é€ è®¢å•
- å°†ç‰©æ–™æ¸…å•ï¼ˆBOMï¼‰ä¸äº§å“å˜ä½“å…³è”

### æ—¥å†ä¸äº‹ä»¶ï¼ˆCalendar & Eventsï¼‰
- åˆ›å»ºå¸¦æœ‰å‚ä¸è€…çš„ä¼šè®®å’Œäº‹ä»¶
- è®¾ç½®æé†’å’Œåœ°ç‚¹
- æŒ‰æ—¥æœŸèŒƒå›´æˆ–å‚ä¸è€…æœç´¢äº‹ä»¶
- è·Ÿè¸ªæ—¥å†å¯ç”¨æ€§

### ç”µå­å•†åŠ¡ï¼ˆE-commerceï¼‰
- å°†äº§å“å‘å¸ƒåˆ°ç½‘ç«™
- æŸ¥çœ‹ç½‘ç«™è®¢å•å’Œå®¢æˆ·æ´»åŠ¨
- ç®¡ç†äº§å“å¯è§æ€§å’Œå®šä»·

## å‘½ä»¤ç¤ºä¾‹

### é”€å”®ï¼ˆSalesï¼‰
- â€œä¸ºAcme Corpåˆ›å»ºä¸€ä»½åŒ…å«10ä¸ªå•ä»·ä¸º50ç¾å…ƒçš„Widgetçš„æŠ¥ä»·å•â€
- â€œç¡®è®¤é”€å”®è®¢å•SO00042â€
- â€œæ˜¾ç¤ºè¿‡å»ä¸€å‘¨çš„æ‰€æœ‰è‰ç¨¿æŠ¥ä»·å•â€
- â€œæœ¬æœˆå·²å®Œæˆè®¢å•çš„æ€»æ”¶å…¥æ˜¯å¤šå°‘ï¼Ÿâ€
- â€œä¸ºRockyåˆ›å»ºä¸€ä»½åŒ…å«äº§å“Rockçš„æŠ¥ä»·å•â€

### å®¢æˆ·å…³ç³»ç®¡ç†ï¼ˆCRMï¼‰
- â€œä¸ºRockyåˆ›å»ºä¸€ä¸ªæ½œåœ¨å®¢æˆ·ï¼Œç”µå­é‚®ä»¶åœ°å€rocky@example.comï¼Œæ½œåœ¨ä»·å€¼5ä¸‡ç¾å…ƒâ€
- â€œå°†æ½œåœ¨å®¢æˆ·#47æ¨è¿›åˆ°â€˜å·²è¯„ä¼°â€™é˜¶æ®µâ€
- â€œæ˜¾ç¤ºæ‰€æœ‰æœªå®Œæˆçš„é”€å”®æœºä¼šâ€
- â€œå“ªäº›æ½œåœ¨å®¢æˆ·å¤„äºææ¡ˆé˜¶æ®µï¼Ÿâ€

### é‡‡è´­ï¼ˆPurchasingï¼‰
- â€œä¸ºä¾›åº”å•†ABCåˆ›å»ºä¸€ä»½åŒ…å«500ä¸ªWidgetçš„é‡‡è´­è®¢å•â€
- â€œç¡®è®¤é‡‡è´­è®¢å•PO00123â€
- â€œæ˜¾ç¤ºæ‰€æœ‰å¾…å¤„ç†çš„é‡‡è´­è®¢å•â€
- â€œè·å–ä¾›åº”å•†ABCçš„é‡‡è´­å†å²è®°å½•â€
- â€œå“ªäº›è®¢å•å·²ç»é€¾æœŸï¼Ÿâ€

### åº“å­˜ä¸äº§å“ï¼ˆInventory & Productsï¼‰
- â€œåˆ›å»ºä¸€ä¸ªæ–°äº§å“ï¼šTestWidgetï¼Œä»·æ ¼25ç¾å…ƒï¼Œæœ€ä½åº“å­˜10ä¸ªâ€
- â€œæ˜¾ç¤ºåº“å­˜ä½äº20ä¸ªçš„å•ä½â€
- â€œWidget Xçš„åº“å­˜æ°´å¹³æ˜¯å¤šå°‘ï¼Ÿâ€
- â€œæœç´¢æ‰€æœ‰æ¶ˆè€—å“â€
- â€œå°†äº§å“Yçš„é‡æ–°è®¢è´­ç‚¹è®¾ç½®ä¸º50ä¸ªå•ä½â€

### å¼€ç¥¨ä¸ä¼šè®¡ï¼ˆInvoicing & Accountingï¼‰
- â€œä¸ºAcme Corpåˆ›å»ºä¸€ä»½åŒ…å«5ä¸ªå•ä»·ä¸º50ç¾å…ƒçš„Widgetçš„å‘ç¥¨â€
- â€œæ˜¾ç¤ºæœªæ”¯ä»˜çš„å‘ç¥¨â€
- â€œå“ªäº›å‘ç¥¨å·²ç»é€¾æœŸï¼Ÿâ€
- â€œå‘å¸ƒå‘ç¥¨INV-001â€
- â€œä¸ºå‘ç¥¨INV-002å‘é€æé†’â€

### é¡¹ç›®ä¸ä»»åŠ¡ï¼ˆProjects & Tasksï¼‰
- â€œåˆ›å»ºä¸€ä¸ªåä¸ºâ€˜Website Redesignâ€™çš„é¡¹ç›®â€
- â€œåœ¨â€˜Website Redesignâ€™é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºâ€˜Fix login buttonâ€™çš„ä»»åŠ¡â€
- â€œæ˜¾ç¤ºåˆ†é…ç»™æˆ‘çš„æ‰€æœ‰ä»»åŠ¡â€
- â€œè®°å½•ä»»åŠ¡#42çš„3å°æ—¶å·¥ä½œæ—¶é—´â€
- â€œâ€˜Website Redesignâ€™é¡¹ç›®çš„çŠ¶æ€æ˜¯ä»€ä¹ˆï¼Ÿâ€

### äººåŠ›èµ„æºï¼ˆHRï¼‰
- â€œåˆ›å»ºå‘˜å·¥John Smithå’Œéƒ¨é—¨Engineeringâ€
- â€œåˆ›å»ºéƒ¨é—¨Engineeringâ€
- â€œæ˜¾ç¤ºEngineeringéƒ¨é—¨çš„æ‰€æœ‰å‘˜å·¥â€
- â€œæäº¤è´¹ç”¨æŠ¥å‘Šï¼Œé‡‘é¢ä¸º45.99ç¾å…ƒâ€
- â€œæœ‰å“ªäº›å¾…å¤„ç†çš„ä¼‘å‡ç”³è¯·ï¼Ÿâ€

### è½¦é˜Ÿç®¡ç†ï¼ˆFleet Managementï¼‰
- â€œåˆ›å»ºä¸€è¾†åä¸ºTesla Model 3çš„è½¦è¾†ï¼Œå¹¶è®°å½•é‡Œç¨‹è¡¨è¯»æ•°ï¼š50,000è‹±é‡Œâ€
- â€œè®°å½•è½¦è¾†#1çš„æœåŠ¡è®°å½•â€
- â€œæ˜¾ç¤ºæ‰€æœ‰éœ€è¦ç»´æŠ¤çš„è½¦è¾†â€
- â€œè¿™ä¸ªæœˆçš„ç»´æŠ¤æˆæœ¬æ˜¯å¤šå°‘ï¼Ÿâ€
- â€œæœç´¢è“è‰²è½¦è¾†â€

### åˆ¶é€ ï¼ˆManufacturingï¼‰
- â€œåˆ›å»ºç‰©æ–™æ¸…å•ï¼ˆBOMï¼‰ï¼šWidgetåŒ…å«3ä¸ªComponent Aå’Œ2ä¸ªComponent Bâ€
- â€œåˆ›å»ºåˆ¶é€ è®¢å•ï¼ˆMOï¼‰ï¼šç”Ÿäº§50ä¸ªWidgetâ€
- â€œç¡®è®¤åˆ¶é€ è®¢å•#1â€
- â€œåˆ¶é€ è®¢å•#1çš„çŠ¶æ€æ˜¯ä»€ä¹ˆï¼Ÿâ€
- â€œæ˜¾ç¤ºæ‰€æœ‰è¿›è¡Œä¸­çš„åˆ¶é€ è®¢å•â€

### æ—¥å†ï¼ˆCalendarï¼‰
- â€œåˆ›å»ºä¸€ä¸ªåä¸ºâ€˜Team Standupâ€™çš„ä¼šè®®ï¼Œæ˜å¤©ä¸Šåˆ10ç‚¹ï¼ŒæŒç»­1å°æ—¶â€
- â€œæ˜¾ç¤ºæˆ‘ä¸‹å‘¨çš„ä¼šè®®â€
- â€œæˆ‘åœ¨15å·æœ‰å“ªäº›äº‹ä»¶ï¼Ÿâ€
- â€œå®‰æ’ä¸€ä¸ªä¸å›¢é˜Ÿè¿›è¡Œçš„2å°æ—¶è§„åˆ’ä¼šè®®â€

### ç”µå­å•†åŠ¡ï¼ˆE-commerceï¼‰
- â€œå°†äº§å“Widget Xå‘å¸ƒåˆ°ç½‘ç«™â€
- â€œæŸ¥çœ‹æœ¬å‘¨çš„ç½‘ç«™è®¢å•â€
- â€œæˆ‘çš„ç½‘ç«™æ”¶å…¥æ˜¯å¤šå°‘ï¼Ÿâ€

## æ™ºèƒ½åŠ¨ä½œï¼ˆSmart Actionsï¼‰

è¯¥è¿æ¥å™¨ä½¿ç”¨æ™ºèƒ½çš„æŸ¥æ‰¾æˆ–åˆ›å»ºé€»è¾‘æ¥å¤„ç†æ¨¡ç³Š/ä¸å®Œæ•´çš„è¯·æ±‚ã€‚

### æ™ºèƒ½åŠ¨ä½œçš„å·¥ä½œåŸç†

**ç¤ºä¾‹ï¼šâ€œä¸ºRockyåˆ›å»ºä¸€ä»½åŒ…å«äº§å“Rockçš„æŠ¥ä»·å•â€**

ç³»ç»Ÿï¼š
1. **æœç´¢**åä¸ºâ€œRockyâ€çš„å®¢æˆ·ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼Œä½¿ç”¨`ilike`åŒ¹é…ï¼‰
2. **å¦‚æœæœªæ‰¾åˆ°**ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®¢æˆ·â€œRockyâ€ï¼ˆè‡ªåŠ¨è®¾ç½®ä¸ºå…¬å¸ï¼‰
3. **æœç´¢**äº§å“â€œRockâ€
4. **å¦‚æœæœªæ‰¾åˆ°**ï¼šåˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„äº§å“â€œRockâ€ï¼ˆæ¶ˆè€—å“ç±»å‹ï¼Œé»˜è®¤ä»·æ ¼ä¸º0ç¾å…ƒï¼‰
5. **åˆ›å»º**æŠ¥ä»·å•ï¼Œå¹¶å°†æ‰¾åˆ°çš„/åˆ›å»ºçš„å®¢æˆ·å’Œäº§å“å…³è”èµ·æ¥
6. **æŠ¥å‘Š**æ‰¾åˆ°çš„å†…å®¹ä¸åˆ›å»ºçš„å†…å®¹ï¼š
   - â€œä¸ºæ–°å®¢æˆ·Rockyåˆ›å»ºäº†æŠ¥ä»·å•QT-001ï¼ŒåŒ…å«1ä¸ªå•ä»·ä¸º0ç¾å…ƒçš„Rockâ€

è¿™ç§æ¨¡å¼é€‚ç”¨äºæ‰€æœ‰æ™ºèƒ½åŠ¨ä½œï¼š
- `smart_create_quotation()` â€” å®¢æˆ· + äº§å“
- `smart_create_purchase()` â€” ä¾›åº”å•† + äº§å“
- `smart_create_lead()` â€” æ½œåœ¨å®¢æˆ·ï¼ˆå¯é€‰ï¼‰
- `smart_create_task()` â€” é¡¹ç›® + ä»»åŠ¡
- `smart_create_employee()` â€” å‘˜å·¥
- `smart_create_event()` â€” äº‹ä»¶ï¼ˆæ— ä¾èµ–å…³ç³»ï¼‰

### ä¼˜åŠ¿

- **æ¨¡ç³ŠåŒ¹é…**ï¼šæœç´¢ä¸åŒºåˆ†å¤§å°å†™ä¸”å…·æœ‰å®¹é”™æ€§
- **è‡ªåŠ¨åˆ›å»º**ï¼šç¼ºå¤±çš„ä¾èµ–å…³ç³»ä¼šè‡ªåŠ¨åˆ›å»º
- **é€æ˜åº¦**ï¼šæ¯ä¸ªå“åº”éƒ½ä¼šè¯´æ˜åˆ›å»ºäº†ä»€ä¹ˆæˆ–æ‰¾åˆ°äº†ä»€ä¹ˆ
- **æ— éœ€ID**ï¼šä½¿ç”¨åç§°è€Œä¸æ˜¯Odoo ID
- **æ‰¹é‡æ“ä½œ**ï¼šä¸€æ¬¡è°ƒç”¨å¯ä»¥åˆ›å»ºå¤šä¸ªç›¸å…³è®°å½•

## æ¶æ„

### æ ¸å¿ƒç»„ä»¶

**OdooClient** â€” ä½çº§åˆ«çš„XML-RPCå°è£…å±‚
- è¿æ¥åˆ°Odoo 19å®ä¾‹
- é€šè¿‡APIå¯†é’¥å¤„ç†èº«ä»½éªŒè¯
- æä¾›`search()`, `read()`, `create()`, `write()`, `unlink()`æ–¹æ³•
- å†…ç½®é‡è¯•é€»è¾‘å’Œé”™è¯¯å¤„ç†

**æ¨¡å‹æ“ä½œç±»ï¼ˆModel Ops Classesï¼‰** â€” æ¯ä¸ªæ¨¡å—çš„ä¸šåŠ¡é€»è¾‘
- `PartnerOps` â€” å®¢æˆ·/ä¾›åº”å•†
- `SaleOrderOps` â€” æŠ¥ä»·å•å’Œé”€å”®è®¢å•
- `InvoiceOps` â€” å®¢æˆ·å‘ç¥¨
- `InventoryOps` â€” äº§å“å’Œåº“å­˜
- `CRMOps` â€” æ½œåœ¨å®¢æˆ·å’Œé”€å”®æœºä¼š
- `PurchaseOrderOps` â€” é‡‡è´­è®¢å•å’Œä¾›åº”å•†
- `ProjectOps` â€” é¡¹ç›®å’Œä»»åŠ¡
- `HROps` â€” å‘˜å·¥ã€éƒ¨é—¨å’Œè´¹ç”¨
- `ManufacturingOps` â€” ç‰©æ–™æ¸…å•å’Œåˆ¶é€ è®¢å•
- `CalendarOps` â€” äº‹ä»¶å’Œä¼šè®®
- `FleetOps` â€” è½¦è¾†å’Œé‡Œç¨‹è¡¨
- `EcommerceOps` â€” ç½‘ç«™è®¢å•å’Œäº§å“

**SmartActionHandler** â€” é«˜çº§åˆ«çš„è‡ªç„¶è¯­è¨€æ¥å£
- å°è£…æ‰€æœ‰æ“ä½œç±»
- å®ç°æŸ¥æ‰¾æˆ–åˆ›å»ºå·¥ä½œæµç¨‹
- æ¨¡ç³Šåç§°åŒ¹é…ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰
- å¤šæ­¥éª¤äº‹åŠ¡åè°ƒ
- è¯¦ç»†çš„å“åº”æ‘˜è¦

### å­—æ®µå¤„ç†

è¿æ¥å™¨è‡ªåŠ¨æ£€æµ‹Odoo 19ä¸­å¿…éœ€å’Œå¯é€‰çš„å­—æ®µï¼š
- **éšå¼é»˜è®¤å€¼**ï¼šå…·æœ‰Odooé»˜è®¤å€¼çš„å­—æ®µå°†è¢«çœç•¥
- **æ™ºèƒ½åˆ›å»º**ï¼šä¸ºå¯é€‰å­—æ®µè‡ªåŠ¨å¡«å……åˆç†çš„é»˜è®¤å€¼
- **é”™è¯¯æŠ¥å‘Š**ï¼šç¼ºå¤±çš„å¿…éœ€å­—æ®µä¼šå¼•å‘æ˜ç¡®çš„`OdooError`ï¼Œå¹¶æ˜¾ç¤ºå­—æ®µåç§°

## é…ç½®

### config.jsonæ ¼å¼

```json
{
  "url": "http://localhost:8069",
  "db": "your_database",
  "username": "api_user@yourcompany.com",
  "api_key": "your_api_key_from_odoo_preferences",
  "timeout": 60,
  "max_retries": 3,
  "poll_interval": 60,
  "log_level": "INFO",
  "webhook_port": 8070,
  "webhook_secret": ""
}
```

### è·å–APIå¯†é’¥

1. ç™»å½•åˆ°æ‚¨çš„Odooå®ä¾‹
2. è½¬åˆ°**è®¾ç½®** â†’ **ç”¨æˆ·ä¸å…¬å¸** â†’ **ç”¨æˆ·**
3. æ‰“å¼€æ‚¨çš„ç”¨æˆ·è®°å½•
4. æ»šåŠ¨åˆ°**è®¿é—®ä»¤ç‰Œ**
5. ç‚¹å‡»**ç”Ÿæˆä»¤ç‰Œ**
6. å¤åˆ¶ä»¤ç‰Œå¹¶ç²˜è´´åˆ°`config.json`ä¸­

### ç¯å¢ƒå˜é‡

æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨`.env`æ–‡ä»¶ä¸­è®¾ç½®ï¼š

```
ODOO_URL=http://localhost:8069
ODOO_DB=your_database
ODOO_USERNAME=api_user@yourcompany.com
ODOO_API_KEY=your_api_key
```

å¦‚æœ`config.json`ç¼ºå¤±ï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨ä»`.env`ä¸­åŠ è½½é…ç½®ã€‚

## Python API

### åŸºæœ¬ç”¨æ³•

```python
from odoo_skill import OdooClient, SmartActionHandler

# Load config from config.json
client = OdooClient.from_config("config.json")

# Test connection
status = client.test_connection()
print(f"Connected to Odoo {status['server_version']}")

# Use smart actions for natural workflows
smart = SmartActionHandler(client)

# Create a quotation with fuzzy partner and product matching
result = smart.smart_create_quotation(
    customer_name="Rocky",
    product_lines=[
        {"name": "Rock", "quantity": 5, "price_unit": 19.99}
    ],
    notes="Fuzzy match quotation"
)

print(result["summary"])
# Output: "Created quotation QT-001 for new customer Rocky with 1 Ã— Rock at $19.99"
```

### æ™ºèƒ½åŠ¨ä½œAPI

```python
# Find-or-create a customer
result = smart.find_or_create_partner(
    name="Acme Corp",
    is_company=True,
    city="New York"
)
partner = result["partner"]
created = result["created"]

# Find-or-create a product
result = smart.find_or_create_product(
    name="Widget X",
    list_price=49.99,
    type="consu"
)
product = result["product"]

# Smart quotation (auto-creates customer & products)
result = smart.smart_create_quotation(
    customer_name="Rocky",
    product_lines=[
        {"name": "Product A", "quantity": 10},
        {"name": "Product B", "quantity": 5, "price_unit": 25.0}
    ],
    notes="Created via smart action"
)
order = result["order"]
print(f"Order {order['name']} created with {len(result['products'])} product(s)")

# Smart lead creation
result = smart.smart_create_lead(
    name="New Prospect",
    contact_name="John Doe",
    email="john@prospect.com",
    expected_revenue=50000.0
)
lead = result["lead"]

# Smart task creation (auto-creates project if needed)
result = smart.smart_create_task(
    project_name="Website Redesign",
    task_name="Fix homepage",
    description="Update hero section"
)
task = result["task"]

# Smart employee creation (auto-creates department if needed)
result = smart.smart_create_employee(
    name="Jane Smith",
    job_title="Developer",
    department_name="Engineering"
)
employee = result["employee"]
```

### ä½çº§åˆ«æ“ä½œAPI

```python
from odoo_skill.models.sale_order import SaleOrderOps
from odoo_skill.models.partner import PartnerOps

partners = PartnerOps(client)
sales = SaleOrderOps(client)

# Get all customers
customers = partners.search_customers(limit=10)
for cust in customers:
    print(f"{cust['name']} â€” {cust.get('email')}")

# Create a quotation with specific IDs
order = sales.create_quotation(
    partner_id=42,
    lines=[
        {"product_id": 7, "quantity": 10, "price_unit": 49.99},
        {"product_id": 8, "quantity": 5}
    ],
    notes="Manual order"
)
print(f"Created {order['name']}")

# Confirm the order
confirmed = sales.confirm_order(order['id'])
print(f"Order {confirmed['name']} is now {confirmed['state']}")
```

## å“åº”æ ¼å¼

æ‰€æœ‰APIæ–¹æ³•è¿”å›ç»“æ„åŒ–çš„å­—å…¸ï¼š

### æ™ºèƒ½åŠ¨ä½œå“åº”

```python
{
  "summary": "Created quotation QT-001 for new customer Rocky with 1 Ã— Rock",
  "order": {
    "id": 1,
    "name": "QT-001",
    "state": "draft",
    "partner_id": [42, "Rocky"],
    "amount_total": 19.99
  },
  "customer": {
    "created": True,
    "partner": {"id": 42, "name": "Rocky"}
  },
  "products": [
    {
      "created": True,
      "product": {"id": 7, "name": "Rock"}
    }
  ]
}
```

### æ ‡å‡†å“åº”

```python
{
  "id": 1,
  "name": "QT-001",
  "state": "draft",
  "partner_id": [42, "Rocky"],
  "amount_total": 19.99,
  "order_line": [
    {
      "id": 1,
      "product_id": [7, "Rock"],
      "quantity": 1,
      "price_unit": 19.99,
      "price_subtotal": 19.99
    }
  ]
}
```

## é”™è¯¯å¤„ç†

è¿æ¥å™¨ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸ï¼š

```python
from odoo_skill.errors import OdooError, OdooAuthError, OdooNotFoundError

try:
    result = smart.smart_create_quotation(
        customer_name="Acme",
        product_lines=[{"name": "Widget"}]
    )
except OdooAuthError as e:
    print(f"Authentication failed: {e}")
except OdooNotFoundError as e:
    print(f"Record not found: {e}")
except OdooError as e:
    print(f"Odoo error: {e}")
```

## æ”¯æŒçš„Odooæ¨¡å—

è¯¥è¿æ¥å™¨æ”¯æŒOdoo 19ä¸­å®‰è£…çš„153ä¸ªä»¥ä¸Šæ¨¡å—ï¼š

**æ ¸å¿ƒæ¨¡å—ï¼ˆCore Modulesï¼‰**
- base, web, website

**é”€å”®ä¸å®¢æˆ·å…³ç³»ç®¡ç†ï¼ˆSales & CRMï¼‰**
- sale, crm, sale_management, website_sale, event, survey

**é‡‡è´­ï¼ˆPurchasingï¼‰**
- purchase, purchase_stock, purchase_requisition

**åº“å­˜ï¼ˆInventoryï¼‰**
- stock, stock_intrastat, stock_dropshipping

**ä¼šè®¡ï¼ˆAccountingï¼‰**
- account, account_accountant, account_analytic, account_payment

**äººåŠ›èµ„æºï¼ˆHRï¼‰**
- hr, hr_attendance, hr_expense, hr_contract, hr_holidays, hr_org_chart

**é¡¹ç›®ï¼ˆProjectsï¼‰**
- project, project_enterprise, task_base, project_timesheet_forecast

**åˆ¶é€ ï¼ˆManufacturingï¼‰**
- mrp, mrp_byproduct, quality, batch, shelf_life

**è½¦é˜Ÿï¼ˆFleetï¼‰**
- fleet, maintenance

**å¸‚åœºè¥é”€ï¼ˆMarketingï¼‰**
- marketing_automation, email_marketing, mass_mailing, sms, website_form

**ç”µå­å•†åŠ¡ï¼ˆE-commerceï¼‰**
- website_sale, website_sale_analytics, website_sale_comparison, website_form_project

**å·¥å…·ï¼ˆToolsï¼‰**
- calendar, documents, spreadsheet, discuss, mail, knowledge

**è¿˜æœ‰50å¤šä¸ªä¸“ä¸šæ¨¡å—ï¼ˆPlus 50+ specialized modulesï¼‰**

## é™åˆ¶ä¸çº¦æŸ

- **æœç´¢é™åˆ¶**ï¼šé»˜è®¤ä¸º100æ¡è®°å½•ï¼ˆå¯é…ç½®ï¼‰
- **è¶…æ—¶**ï¼šæ¯æ¬¡è¯·æ±‚60ç§’ï¼ˆå¯é…ç½®ï¼‰
- **é‡è¯•**ï¼šç½‘ç»œå¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•3æ¬¡
- **å¹¶å‘**ï¼šå•çº¿ç¨‹ï¼›å¿…è¦æ—¶æ’é˜Ÿè¯·æ±‚
- **é€Ÿç‡é™åˆ¶**ï¼šéµå¾ªæ‚¨çš„Odooå®ä¾‹çš„APIé™åˆ¶

## æ•…éšœæ’é™¤

### è¿æ¥é—®é¢˜
- éªŒè¯`config.json`ä¸­çš„`url`, `db`, `username`, `api_key`
- æ£€æŸ¥OdooæœåŠ¡å™¨æ˜¯å¦è¿è¡Œï¼š`http://your-odoo-url/web`
- ç¡®ä¿åœ¨Odooç”¨æˆ·è®¾ç½®ä¸­ç”Ÿæˆäº†APIå¯†é’¥
- æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è§„åˆ™

### èº«ä»½éªŒè¯é”™è¯¯
- åœ¨Odooä¸­é‡æ–°ç”ŸæˆAPIå¯†é’¥
- éªŒè¯ç”¨æˆ·åï¼ˆç”µå­é‚®ä»¶æ ¼å¼ï¼‰
- ç¡®ä¿ç”¨æˆ·å¯ç”¨äº†APIè®¿é—®æƒé™
- ç¡®ä¿æ•°æ®åº“åç§°å®Œå…¨åŒ¹é…

### ç¼ºå°‘å­—æ®µé”™è¯¯
- å­—æ®µåç§°å¿…é¡»ä¸Odoo 19ä¸­çš„å®Œå…¨åŒ¹é…ï¼ˆä¾‹å¦‚ï¼Œ`product_tmpl_id`ï¼Œè€Œä¸æ˜¯`product_id`ï¼‰
- ä¸€äº›å­—æ®µåœ¨Odooä¸­æ˜¯åªè¯»çš„ï¼ˆçŠ¶æ€ã€è®¡ç®—å­—æ®µï¼‰
- æ£€æŸ¥Odooæ¨¡å‹å®šä¹‰ï¼šè®¾ç½® â†’ æŠ€æœ¯ â†’ æ•°æ®åº“ç»“æ„ â†’ æ¨¡å‹

### æ™ºèƒ½åŠ¨ä½œé—®é¢˜
- æ¨¡ç³ŠåŒ¹é…ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†åªæœç´¢`name`å­—æ®µ
- å¯¹äºç²¾ç¡®åŒ¹é…ï¼Œè¯·ä½¿ç”¨ä½çº§åˆ«çš„æ“ä½œAPIå¹¶ç›´æ¥ä½¿ç”¨`id`
- å¦‚æœä¸€ä¸ªåç§°å­˜åœ¨äºå¤šä¸ªè®°å½•ä¸­ï¼Œå°†ä½¿ç”¨ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹

### æ€§èƒ½
- å¤§è§„æ¨¡æœç´¢ï¼ˆè¶…è¿‡100æ¡è®°å½•ï¼‰å¯èƒ½ä¼šè¶…æ—¶
- ä½¿ç”¨æ—¥æœŸèŒƒå›´è¿‡æ»¤å™¨ï¼š`date_from`, `date_to`
- è€ƒè™‘ä½¿ç”¨æ‰¹é‡æ“ä½œå¤„ç†å¤§é‡æ•°æ®

## OpenClawä¸­çš„ç¤ºä¾‹

### è‡ªç„¶è¯­è¨€é”€å”®è®¢å•ï¼ˆNatural Language Sales Orderï¼‰

```
User: "Create a quote for Acme Corp with 10 Widgets at $50 each"

OpenClaw â†’ OdooClient (smart action):
  1. Search for customer "Acme Corp"
  2. Search for product "Widgets"
  3. Create quotation with both
  4. Return summary

Result: "âœ… Created quotation QT-001 for Acme Corp with 10 Ã— Widgets at $50"
```

### æµç¨‹çŠ¶æ€æ£€æŸ¥ï¼ˆPipeline Status Checkï¼‰

```
User: "Show me the sales pipeline"

OpenClaw â†’ CRMOps.get_pipeline():
  - Query all leads/opportunities
  - Group by stage
  - Calculate total revenue by stage
  - Return formatted summary

Result: "Qualified: $50k | Proposal: $100k | Negotiation: $75k | Total: $225k"
```

### åº“å­˜è­¦æŠ¥ï¼ˆInventory Alertï¼‰

```
User: "What products are low on stock?"

OpenClaw â†’ InventoryOps.get_low_stock_products():
  - Query products with stock < reorder point
  - List each product, stock level, reorder point
  - Suggest PO quantities

Result: "Widget X: 5 on hand (min 20) | Component Y: 0 on hand (min 10)"
```

## å¼€å‘ï¼ˆDevelopmentï¼‰

### é¡¹ç›®ç»“æ„ï¼ˆProject Structureï¼‰

```
OdooConnector/
â”œâ”€â”€ odoo_skill/
â”‚   â”œâ”€â”€ client.py              # Core OdooClient
â”‚   â”œâ”€â”€ config.py              # Configuration loader
â”‚   â”œâ”€â”€ errors.py              # Custom exceptions
â”‚   â”œâ”€â”€ retry.py               # Retry logic
â”‚   â”œâ”€â”€ smart_actions.py       # Smart action handler
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ partner.py
â”‚   â”‚   â”œâ”€â”€ sale_order.py
â”‚   â”‚   â”œâ”€â”€ invoice.py
â”‚   â”‚   â”œâ”€â”€ inventory.py
â”‚   â”‚   â”œâ”€â”€ crm.py
â”‚   â”‚   â”œâ”€â”€ purchase.py
â”‚   â”‚   â”œâ”€â”€ project.py
â”‚   â”‚   â”œâ”€â”€ hr.py
â”‚   â”‚   â”œâ”€â”€ manufacturing.py
â”‚   â”‚   â”œâ”€â”€ calendar_ops.py
â”‚   â”‚   â”œâ”€â”€ fleet.py
â”‚   â”‚   â”œâ”€â”€ ecommerce.py
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ formatting.py      # Response formatting
â”‚   â”‚   â”œâ”€â”€ validators.py      # Input validation
â”‚   â”œâ”€â”€ sync/
â”‚   â”‚   â”œâ”€â”€ poller.py          # Webhook poller
â”‚   â”‚   â”œâ”€â”€ webhook.py         # Webhook handler
â”œâ”€â”€ run_full_test.py           # Integration test suite
â”œâ”€â”€ config.json                # Configuration (create from template)
â”œâ”€â”€ config.template.json       # Configuration template
â”œâ”€â”€ requirements.txt           # Python dependencies
â”œâ”€â”€ README.md                  # User setup guide
â”œâ”€â”€ SKILL.md                   # This file
â””â”€â”€ setup.ps1                  # PowerShell installer
```

### è¿è¡Œæµ‹è¯•ï¼ˆRunning Testsï¼‰

```bash
# Run full integration test suite
python run_full_test.py

# Run single test module
python -m pytest tests/test_partners.py -v

# Run with coverage
python -m pytest --cov=odoo_skill tests/
```

### æ·»åŠ æ–°çš„æ™ºèƒ½åŠ¨ä½œï¼ˆAdding a New Smart Actionï¼‰

1. åœ¨`SmartActionHandler`ç±»ä¸­å®ç°è¯¥æ–¹æ³•
2. ä½¿ç”¨`find_or_create_*`æ–¹æ³•å¤„ç†ä¾èµ–å…³ç³»
3. è¿”å›ä¸€ä¸ªåŒ…å«`summary`ã€ä¸»è¦è®°å½•å’Œåˆ›å»ºè¯¦æƒ…çš„å­—å…¸
4. æ·»åŠ å¸¦æœ‰ç¤ºä¾‹ç”¨æ³•çš„æ–‡æ¡£å­—ç¬¦ä¸²
5. ä½¿ç”¨`run_full_test.py`è¿›è¡Œæµ‹è¯•

ç¤ºä¾‹ï¼š

```python
def smart_create_invoice(self, customer_name: str, product_lines: list[dict], **kwargs) -> dict:
    """Create invoice with fuzzy customer and product matching."""
    # Find or create customer
    customer_result = self.find_or_create_partner(customer_name)
    customer = customer_result["partner"]
    
    # Find or create products
    products = []
    for line in product_lines:
        prod_result = self.find_or_create_product(line["name"], **line)
        products.append(prod_result)
    
    # Create invoice with resolved IDs
    invoice = self.invoices.create_invoice(
        partner_id=customer["id"],
        lines=[...],
        **kwargs
    )
    
    return {
        "summary": f"Created invoice INV-001 for {customer['name']}",
        "invoice": invoice,
        "customer": customer_result,
        "products": products
    }
```

## è®¸å¯è¯ä¸æ”¯æŒï¼ˆLicense & Supportï¼‰

æ­¤è¿æ¥å™¨æ˜¯OpenClawé¡¹ç›®çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœ‰é—®é¢˜ã€ç–‘é—®æˆ–è´¡çŒ®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚

---

**æœ€åæ›´æ–°æ—¶é—´ï¼š** 2026-02-09  
**Odooç‰ˆæœ¬ï¼š** 19.0  
**Pythonç‰ˆæœ¬ï¼š** 3.10+  
**çŠ¶æ€ï¼š** å·²å‡†å¤‡å¥½æŠ•å…¥ç”Ÿäº§