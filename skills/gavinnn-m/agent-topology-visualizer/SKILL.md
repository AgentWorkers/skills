---
name: agent-topology
description: ç”Ÿæˆç”¨äºAIä»£ç†ç³»ç»Ÿçš„äº¤äº’å¼SVGæ¶æ„å›¾ã€‚é€‚ç”¨äºå¯è§†åŒ–å¤šä»£ç†è®¾ç½®ã€ç¼–æ’æµç¨‹ã€æ•°æ®ç®¡é“æˆ–ç³»ç»Ÿæ‹“æ‰‘ç»“æ„ã€‚ç”Ÿæˆçš„HTMLé¡µé¢æ”¯æŒæ‚¬åœé«˜äº®æ˜¾ç¤ºã€å·¥å…·æç¤ºã€æ›²çº¿è´å¡å°”è¿æ¥ä»¥åŠåŸºäºåŒºåŸŸçš„å¸ƒå±€ã€‚å…¼å®¹ä»»ä½•ä»£ç†æ¡†æ¶ï¼ˆOpenClawã€CrewAIã€LangGraphã€AutoGenç­‰ï¼‰ã€‚
---
# ä»£ç†æ‹“æ‰‘ç»“æ„

è¯¥å·¥å…·èƒ½å¤Ÿæ ¹æ® JSON æ ¼å¼çš„æ‹“æ‰‘å®šä¹‰ç”Ÿæˆäº¤äº’å¼çš„æ¶æ„å›¾ã€‚

## å¿«é€Ÿå…¥é—¨

1. åˆ›å»ºä¸€ä¸ªæ‹“æ‰‘ç»“æ„ JSON æ–‡ä»¶ï¼ˆè¯¦ç»†è§„èŒƒè¯·å‚è§ `references/schema.md`ï¼‰ã€‚
2. è¿è¡Œç”Ÿæˆå™¨ï¼š

```bash
python3 scripts/generate.py topology.json -o diagram.html
```

3. ç”Ÿæˆçš„ç»“æœæ˜¯ä¸€ä¸ªåŒ…å« SVGã€CSS å’Œ JS çš„ç‹¬ç«‹ HTML æ–‡ä»¶ã€‚

## æ‹“æ‰‘ç»“æ„ JSON æ ¼å¼

```json
{
  "title": "My Agent System",
  "theme": "dark",
  "viewBox": [1220, 1000],
  "zones": {
    "center": { "label": "Orchestration" },
    "left": { "label": "Content Pipeline" },
    "right": { "label": "Infrastructure" }
  },
  "nodes": [
    {
      "id": "orchestrator",
      "name": "Main Agent",
      "type": "orchestrator",
      "emoji": "ğŸ¤–",
      "subtitle": "Central Hub",
      "position": [610, 480],
      "radius": 58
    },
    {
      "id": "tool_agent",
      "name": "Tool Agent",
      "type": "agent",
      "emoji": "ğŸ”§",
      "subtitle": "Executes tools",
      "position": [400, 300],
      "radius": 32
    }
  ],
  "connections": [
    { "from": "orchestrator", "to": "tool_agent", "type": "core" }
  ],
  "pipelines": ["tool_agent", "processor", "output"]
}
```

### èŠ‚ç‚¹ç±»å‹

| ç±»å‹ | è§†è§‰è¡¨ç¤º | ç”¨é€” |
|------|--------|---------|
| `orchestrator` | ä¸€ä¸ªå‘å…‰çš„å¤§åœ†åœˆ | ä¸­å¿ƒä»£ç†/è·¯ç”±å™¨ |
| `agent` | ä¸€ä¸ªä¸­ç­‰å¤§å°çš„é’è‰²åœ†åœˆ | å­ä»£ç†/å·¥ä½œèŠ‚ç‚¹ |
| `system` | ä¸€ä¸ªä¸­ç­‰å¤§å°çš„åœ†åœˆï¼ˆé¢œè‰²è¾ƒæš—ï¼‰ | å¤–éƒ¨ç³»ç»Ÿï¼ˆæ•°æ®åº“ã€APIï¼‰ |
| `pipeline` | ä¸€ä¸ªå°çš„äº®è‰²åœ†åœˆ | é¡ºåºæ‰§è¡Œçš„æµç¨‹æ­¥éª¤ |
| `ops` | ä¸€ä¸ªå°åœ†åœˆ | æ“ä½œ/ç»´æŠ¤ä»£ç† |
| `human` | ä¸€ä¸ªä¸­ç­‰å¤§å°çš„åœ†åœˆ | äººå·¥å¹²é¢„èŠ‚ç‚¹ |

### è¿æ¥ç±»å‹

| ç±»å‹ | é£æ ¼ | ç”¨é€” |
|------|-------|---------|
| `hub` | é²œè‰³ä¸”ç²—çš„çº¿æ¡ | ä»£ç†ä¸å¤–éƒ¨ç³»ç»Ÿä¹‹é—´çš„è¿æ¥ |
| `core` | äº®åº¦ä¸­ç­‰çš„çº¿æ¡ | ä»£ç†ä¸ä»£ç†ä¹‹é—´çš„è¿æ¥ |
| `cross` | é¢œè‰²è¾ƒæ·¡çš„çº¿æ¡ | èŠ‚ç‚¹ä¹‹é—´çš„æ•°æ®ä¼ è¾“è¿æ¥ |
| `cluster` | ç±»ä¼¼ç®¡é“çš„çº¿æ¡ | è¡¨ç¤ºé¡ºåºæ‰§è¡Œçš„æ­¥éª¤é“¾ |
| `sys` | è™šçº¿çš„çº¿æ¡ | ç³»ç»Ÿä¹‹é—´çš„è¿æ¥ |

### æµç¨‹ï¼ˆPipelinesï¼‰

`pipelines` æ•°ç»„ç”¨äºåˆ—å‡ºæ„æˆé¡ºåºé“¾çš„èŠ‚ç‚¹ IDã€‚å°†é¼ æ ‡æ‚¬åœåœ¨ä»»æ„æµç¨‹èŠ‚ç‚¹ä¸Šï¼Œå¯ä»¥æ˜¾ç¤ºæ•´ä¸ªæµç¨‹é“¾çš„è¿æ¥å…³ç³»ï¼ˆè€Œä¸ä»…ä»…æ˜¯ç›´æ¥è¿æ¥çš„èŠ‚ç‚¹ï¼‰ã€‚

æ”¯æŒå¤šä¸ªæµç¨‹ï¼š

```json
"pipelines": {
  "content": ["feed_hunter", "synthesizer", "writer", "website"],
  "deploy": ["builder", "tester", "deployer"]
}
```

## è‡ªåŠ¨å¸ƒå±€æ¨¡å¼

å¦‚æœçœç•¥äº†èŠ‚ç‚¹çš„ä½ç½®ä¿¡æ¯ï¼Œç”Ÿæˆå™¨ä¼šè‡ªåŠ¨æ ¹æ®é¢„è®¾åŒºåŸŸå¯¹èŠ‚ç‚¹è¿›è¡Œå¸ƒå±€ï¼š

```json
{
  "nodes": [
    { "id": "main", "type": "orchestrator", "zone": "center" },
    { "id": "researcher", "type": "agent", "zone": "top-left" },
    { "id": "db", "type": "system", "zone": "right" }
  ]
}
```

å¯é€‰çš„åŒºåŸŸåŒ…æ‹¬ï¼š`center`ï¼ˆä¸­å¿ƒï¼‰ã€`top-left`ï¼ˆå·¦ä¸Šè§’ï¼‰ã€`top-right`ï¼ˆå³ä¸Šè§’ï¼‰ã€`left`ï¼ˆå·¦ï¼‰ã€`right`ï¼ˆå³ï¼‰ã€`bottom-left`ï¼ˆå·¦ä¸‹è§’ï¼‰ã€`bottom-right`ï¼ˆå³ä¸‹è§’ï¼‰ã€`bottom`ï¼ˆåº•éƒ¨ï¼‰ã€‚

## ä¸»é¢˜è®¾ç½®

```json
{
  "theme": "dark",
  "colors": {
    "accent": "#5d9b93",
    "background": "#0a0e14",
    "text": "#c8d6e0",
    "nodeStroke": "rgba(93,155,147,0.4)"
  },
  "font": "Inter, system-ui, sans-serif"
}
```

å†…ç½®ä¸»é¢˜ï¼š`dark`ï¼ˆé»˜è®¤ï¼‰å’Œ `light`ã€‚å¯ä»¥å•ç‹¬ä¿®æ”¹é¢œè‰²è®¾ç½®ã€‚

## è¾“å‡ºæ ¼å¼

```bash
# Self-contained HTML page (default)
python3 scripts/generate.py topology.json -o diagram.html

# SVG only (for embedding)
python3 scripts/generate.py topology.json -o diagram.svg --format svg

# SVG paths only (for injection into existing page)
python3 scripts/generate.py topology.json --format paths
```

## åŠŸèƒ½ç‰¹æ€§

- **è¾¹ç¼˜åˆ°è¾¹ç¼˜çš„è¿æ¥**ï¼šçº¿æ¡è¿æ¥åœ¨åœ†åœˆçš„è¾¹ç¼˜ï¼Œè€Œä¸æ˜¯ä¸­å¿ƒã€‚
- **æ›²çº¿è´å¡å°”è·¯å¾„**ï¼šæ‰€æœ‰è¿æ¥éƒ½ä½¿ç”¨å¹³æ»‘çš„ä¸‰æ¬¡è´å¡å°”æ›²çº¿ã€‚
- **æ‚¬åœé«˜äº®æ˜¾ç¤º**ï¼šå°†é¼ æ ‡æ‚¬åœåœ¨èŠ‚ç‚¹ä¸Šå¯é«˜äº®æ˜¾ç¤ºå…¶è¿æ¥çš„èŠ‚ç‚¹ï¼›å…¶ä»–å…ƒç´ ä¼šå˜æš—ã€‚
- **æµç¨‹è·¯å¾„æ˜¾ç¤º**ï¼šå°†é¼ æ ‡æ‚¬åœåœ¨æµç¨‹èŠ‚ç‚¹ä¸Šï¼Œå¯ä»¥æ˜¾ç¤ºæ•´ä¸ªæµç¨‹é“¾çš„è·¯å¾„ã€‚
- **ç§»åŠ¨/è§¦æ‘¸æ”¯æŒ**ï¼šè§¦æ‘¸æ“ä½œä¸æ‚¬åœæ•ˆæœç›¸åŒï¼Œç‚¹å‡»åé“¾æ¥ä¼šè‡ªåŠ¨éšè—ã€‚
- **å“åº”å¼è®¾è®¡**ï¼šSVG å›¾åƒä¼šæ ¹æ®å®¹å™¨å®½åº¦è‡ªåŠ¨è°ƒæ•´å¤§å°ã€‚
- **æ— ä¾èµ–å…³ç³»**ï¼šç”Ÿæˆçš„è¾“å‡ºæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ HTML æ–‡ä»¶ã€‚

## é«˜çº§åŠŸèƒ½

- å¦‚éœ€è‡ªå®šä¹‰ CSS æˆ–åµŒå…¥å…¶ä»–å†…å®¹ï¼Œè¯·å‚é˜… `references/customization.md`ã€‚