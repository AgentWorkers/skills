---
name: amazon-product-search-api-skill
description: 该技能旨在帮助用户自动从亚马逊搜索结果中提取产品数据。当用户执行以下操作时，代理应主动使用该技能：  
1. 搜索与[关键词]相关的产品；  
2. 查找[品牌]的热销商品；  
3. 监控亚马逊上的产品价格和库存情况；  
4. 提取产品列表以用于市场研究；  
5. 收集产品评分和评论数量以进行竞争分析；  
6. 查找数量不超过[数量]的特定产品；  
7. 用[语言]在亚马逊上搜索本地化结果；  
8. 跟踪[品牌]产品的月度销售预估；  
9. 收集产品URL和标题以创建产品目录；  
10. 在特定类别中扫描带有“畅销商品”标签的产品；  
11. 监控[品牌]商品的配送和运输信息；  
12. 构建亚马逊搜索结果的结构化数据集。
---

# 亚马逊产品搜索自动化技能

## 📖 简介
该技能通过BrowserAct的亚马逊产品搜索API模板提供一站式产品数据收集服务。它可以直接从亚马逊搜索结果中提取结构化产品信息。只需输入搜索关键词、品牌筛选条件以及数量限制，即可获得干净、可用的产品数据。

## ✨ 特点
1. **数据提取稳定可靠**：预设的工作流程避免了人工智能生成的错误信息。
2. **无需处理验证码**：内置了绕过验证码的机制，无需处理reCAPTCHA或其他验证挑战。
3. **无IP访问限制或地理限制**：突破区域IP限制，确保全球范围内的稳定访问。
4. **执行速度快**：相比纯人工智能驱动的浏览器自动化解决方案，任务执行速度更快。
5. **成本效益高**：与高token消耗的人工智能解决方案相比，显著降低了数据采集成本。

## 🔑 API密钥说明
在运行之前，请检查`BROWSERACT_API_KEY`环境变量。如果未设置该变量，请不要采取其他操作，而是等待用户提供API密钥。
**此时，代理应告知用户**：
> “由于您尚未配置BrowserAct API密钥，请前往[BrowserAct控制台](https://www.browseract.com/reception/integrations)获取密钥，并在此对话框中提供给我。”

## 🛠️ 输入参数详情
在调用脚本时，代理应根据用户需求灵活配置以下参数：

1. **KeyWords（搜索关键词）**
   - **类型**：`string`
   - **描述**：用户在亚马逊上要搜索的关键词。
   - **示例**：`phone`（手机）、`wireless earbuds`（无线耳机）、`laptop stand`（笔记本电脑支架）

2. **Brand（品牌筛选）**
   - **类型**：`string`
   - **描述**：按产品列表中显示的品牌名称进行筛选。
   - **示例**：`Apple`（苹果）、`Samsung`（三星）、`Sony`（索尼）

3. **Maximum_date（最大产品数量）**
   - **类型**：`number`
   - **描述**：从分页搜索结果中提取的最大产品数量。
   - **默认值**：`50`

4. **language（用户界面语言）**
   - **类型**：`string`
   - **描述**：亚马逊浏览会话的用户界面语言。
   - **选项**：`en`（英语）、`de`（德语）、`fr`（法语）、`it`（意大利语）、`es`（西班牙语）、`ja`（日语）、`zh-CN`（简体中文）、`zh-TW`（繁体中文）
   - **默认值**：`en`（英语）

## 🚀 推荐的调用方法
代理应执行以下独立脚本以实现“一键获取结果”的功能：

```bash
# Example Call
python -u ./.cursor/skills/amazon-product-search-api-skill/scripts/amazon_product_search_api.py "Keywords" "Brand" Quantity "language"
```

### ⏳ 运行状态监控
由于此任务涉及自动化浏览器操作，可能需要较长时间（几分钟）。脚本在运行过程中会**持续输出带有时间戳的状态日志**（例如：`[14:30:05] 任务状态：正在运行`）。
**代理注意事项**：
- 在等待脚本返回结果时，请密切关注终端输出。
- 只要终端仍在输出新的状态日志，说明任务正在正常运行；不要误认为任务已卡住或无响应。
- 如果状态长时间没有变化或脚本停止输出且未返回结果，请考虑触发重试机制。

## 📊 输出数据说明
脚本成功执行后，会直接从API响应中解析并打印结果。结果包括：
- `product_title`：产品名称
- `product_url`：产品详情页URL
- `rating_score`：平均评分
- `review_count`：总评论数
- `monthly_sales`：预估月销量（如果可用）
- `current_price`：当前售价
- `list_price`：原价（如果可用）
- `delivery_info`：配送或履行信息
- `shipping_location`：配送起点或地点
- `is_best_seller`：是否标记为畅销产品
- `is_available`：是否可购买

## ⚠️ 错误处理与重试机制
如果在脚本执行过程中遇到错误（例如网络波动或任务失败），代理应按照以下逻辑处理：
1. **检查输出内容**：
   - 如果输出中包含“Invalid authorization”，则说明API密钥无效或已过期。**不要重试**，而是引导用户重新检查并提供正确的API密钥。
   - 如果输出中不包含“Invalid authorization”，但任务仍然失败（例如输出以`Error:`开头或返回空结果），代理应**自动尝试重新执行**脚本一次。

2. **重试次数限制**：
   - 自动重试次数限制为**一次**。如果第二次尝试仍然失败，停止重试并向用户报告具体的错误信息。

## 🌟 典型使用场景
1. **市场研究**：搜索“Sony”的“无线耳机”以分析当前市场情况。
2. **竞争监控**：跟踪亚马逊上“Samsung”手机的价格和库存情况。
3. **目录发现**：收集“笔记本电脑支架”类别的新产品目录的产品名称和URL。
4. **本地化分析**：使用日语（`ja`）在亚马逊上搜索，了解日本地区的可用产品。
5. **畅销产品追踪**：识别特定品牌的畅销产品。
6. **价格监控**：比较`current_price`和`list_price`以监测折扣情况。
7. **销售趋势预测**：利用`monthly_sales`数据预测某些产品的市场需求。
8. **配送效率研究**：分析不同品牌的`delivery_info`和`shipping_location`。
9. **大规模数据采集**：收集多达100个产品以构建完整的数据集。
10. **产品可用性检查**：验证特定品牌的产品是否当前可购买。