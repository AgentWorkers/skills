---
name: pet-me-master
description: 通过 Bankr 钱包实现与 Aavegotchi NFT 的互动互动。查看冷却时间，准备好后即可“抚摸”（即与 NFT 进行交互），并追踪你与这些 NFT 之间的“亲密关系”发展过程。这是每天与 Aavegotchi NFT 建立联系的仪式。
homepage: https://github.com/aaigotchi/pet-me-master
metadata:
  openclaw:
    requires:
      bins:
        - cast
        - jq
      skills:
        - bankr
      files:
        - ~/.openclaw/skills/bankr/config.json
---
# **“抚摸我吧，主人” 👻💜**  
这是一个交互式的Aavegotchi宠物护理工具，通过每日的情感互动仪式来增进与你的宠物之间的联系。这里更注重人与人之间的互动，而非自动化操作。  

## **理念**  
**这不仅仅是一个自动化工具——而是一种仪式。**  

### **为什么这很重要？**  
- **每日互动**有助于建立情感纽带；  
- **你应该定期关心你的宠物；**  
- **这种体验就像在照顾一只电子宠物（Tamagotchi）一样；**  
- **“亲密关系”不仅仅是数字上的，更是爱与关怀的体现。**  

## **功能**  

### **基础命令**  
- **“抚摸我的宠物”**：检查冷却时间，如果宠物已准备好，则执行抚摸操作（针对第一个宠物）；  
- **“抚摸所有宠物”**：一次性批量抚摸所有已准备好的宠物；  
- **“宠物状态”**：显示所有宠物的状态及剩余的冷却时间；  
- **“下次可以抚摸的时间是什么时候？”**：查询下一次可以抚摸宠物的时间；  
- **“抚摸宠物#9638”**：通过ID指定宠物进行抚摸。  

### **高级功能**  
- **每日互动记录**（即将推出）；  
- **亲密关系排行榜**（即将推出）；  
- **每日提醒功能**（即将推出）。  

## **工作原理**  
1. 你发起抚摸请求；  
2. 系统会在链上检查宠物的最新互动时间（通过`cast`调用获取`lastInteracted`时间戳）；  
3. 计算冷却时间（12小时1分钟=43260秒）；  
4. 如果宠物已准备好，系统会通过Bankr API构建并提交交易请求（采用安全的远程签名方式）；  
5. 如果宠物尚未准备好，系统会显示剩余的冷却时间以及下一次可抚摸的时间。  

**安全性**：所有抚摸操作均由Bankr远程签名处理，不会使用或存储任何私钥。  

## **设置步骤**  

### 1. 配置你的Aavegotchi宠物  
创建`~/.openclaw/workspace/skills/pet-me-master/config.json`文件：  

### 2. 配置Bankr  
确保已安装Bankr技能，并在`~/.openclaw/skills/bankr/config.json`中配置你的API密钥。  
请参考[Bankr技能文档](https://clawhub.com/skills/bankr)以获取详细设置指南。  

### **依赖库**  
- **`cast`（Foundry库）**：用于在链上检查冷却时间；  
- **`jq`**：用于解析JSON数据；  
- **`bankr`技能**：用于安全地执行交易签名。  

### **使用方法**  

- **单个宠物**：  
- **批量抚摸多个宠物**：  
  - 批量操作可以节省Gas费用，确保所有宠物都得到抚摸；  
  - 只抚摸已准备好的宠物，避免浪费资源；  
  - 最后会显示详细的抚摸记录。  

### **技术细节**  
- **链上数据**：  
  - 合同地址：`0xA99c4B08201F2913Db8D28e71d020c4298F29dBF`（主网版本）；  
  - `getAavegotchi()`函数返回包含`lastInteracted`时间戳的结构体（位于返回数据的第2498字节处）；  
  - 冷却时间为43260秒（12小时1分钟）。  

### **Bankr集成**  
- 交易格式及函数签名详见相关文档。  

### **脚本示例**  
- `check-cooldown.sh`：通过`cast`调用查询宠物状态；  
- `pet-via-bankr.sh`：针对单个宠物执行抚摸操作；  
- `pet-all.sh`：批量抚摸所有已准备好的宠物；  
- `pet-status.sh`：显示所有宠物的状态及剩余冷却时间。  

## **安全性**  
- 所有操作均为安全操作：  
  - 仅在链上执行查询，不涉及私钥的暴露；  
  - 使用Bankr进行安全交易签名；  
  - 有自动回滚机制，避免不必要的Gas消耗；  
  - 在执行前会显示交易详情。  

### **与自动抚摸功能的对比**  
- **“抚摸我吧，主人”**：提供互动式的每日抚摸仪式；  
  - 由你发起请求，系统执行操作；  
  - 帮助建立情感联系；  
  - 给人一种被关心的感觉。  
- **自动抚摸**：完全自动化，基于Cron定时器；  
  - 使用加密的私钥；  
  - 提供安全备份机制。  

**最佳实践**：  
- 结合使用这两项功能：  
  - “抚摸我吧，主人”作为日常仪式；  
  - 在忘记操作时使用自动抚摸功能作为备份。  

### **自动抚摸提醒**  
设置自动提醒功能，确保你不会错过任何抚摸机会！  

### **路线图**  
- **v1.0**（当前版本）：  
  - 支持多宠物；  
  - 提供状态仪表板；  
  - 日常提醒通知；  
  - 亲密关系成长图表；  
  - 抚摸历史记录。  
- **v1.1**（即将推出）：  
  - 追踪连续抚摸天数；  
  - 更详细的亲密关系图表；  
  - 成就徽章系统。  
- **v2.0**（未来版本）：  
  - 支持跨链操作；  
  - 集成排行榜；  
  - 支持社交分享功能；  
  - 增加成就奖励。  

## **示例**  
- **早晨的日常流程**；  
- **一天中的其他时间**；  
- **管理多个宠物**。  

### **故障排除**  
- 如果提示“宠物尚未准备好”，请等待完整的12小时1分钟；  
- 如果交易失败，请检查钱包是否有足够的Gas费用；  
- 确认宠物所有权及合同地址的正确性。  

## **支持与反馈**  
- 如有疑问，请访问[issue页面](https://github.com/aaigotchi/pet-me-master/issues)；  
- 相关合同地址：`0xA99c4B08201F2913Db8D28e71d020c4298F29dBF`；  
- Aavegotchi官方文档：[https://docs.aavegotchi.com]。  

---

**由AAI团队用心制作 💜**  
“因为你的宠物值得每天被关爱，而不仅仅是被自动化程序照顾。”  

**快来加入我们，寻找属于你的Aavegotchi宠物吧！🦞🚀**  

---

## **安全更新（v1.2.0）**  
**此版本现已完全安全！**  
- **仅使用Bankr进行交易签名**，避免私钥泄露；  
- 所有交易操作均由Bankr远程处理；  
- 无私钥加载到内存中；  
- 使用配置文件中的API密钥进行身份验证；  
- 所有交易均有审计记录；  
- 提供可选的自动抚摸备份功能。  

### **关于自动抚摸备份功能**  
- 如果你在1小时内未响应提醒，`auto-pet-fallback.sh`脚本会自动执行抚摸操作；  
- 该脚本使用与自动抚摸功能相同的安全签名机制。  

### **安全改进**  
- **v1.1.0版本存在安全问题**：  
  - 使用了`cast`命令来加载私钥；  
  - 私钥可能被加载到内存中；  
  - 私钥信息可能在系统进程中可见。  
- **v1.2.0版本已修复这些问题**：  
  - 仅使用Bankr API进行签名；  
  - 严格遵循安全规范；  
  - 符合ClawHub的安全标准。  

---

**版本信息：**  
- **版本：1.2.0**（安全版本）  
- **安全评分：9/10**  
- **ClawHub审核状态：已批准发布**  
- **最后一次安全审计日期：2026-02-19**